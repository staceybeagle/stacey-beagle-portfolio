/*! jQuery UI - v1.11.2 - 2014-11-23
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, draggable.js, droppable.js, resizable.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,r){var i,o,s,a=t.nodeName.toLowerCase();return"area"===a?(i=t.parentNode,o=i.name,t.href&&o&&"map"===i.nodeName.toLowerCase()?(s=e("img[usemap='#"+o+"']")[0],!!s&&n(s)):!1):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a?t.href||r:r)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}/*!
 * jQuery UI Core 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),r="absolute"===n,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return r&&"static"===t.css("position")?!1:i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var r=e.attr(n,"tabindex"),i=isNaN(r);return(i||r>=0)&&t(n,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,n){function r(t,n,r,o){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var i="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return void 0===t?s["inner"+n].call(this):this.each(function(){e(this).css(o,r(this,t)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?s["outer"+n].call(this,t):this.each(function(){e(this).css(o,r(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(n,r){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),r&&r.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,r,i=e(this[0]);i.length&&i[0]!==document;){if(n=i.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(r=parseInt(i.css("zIndex"),10),!isNaN(r)&&0!==r))return r;i=i.parent()}return 0}}),e.ui.plugin={add:function(t,n,r){var i,o=e.ui[t].prototype;for(i in r)o.plugins[i]=o.plugins[i]||[],o.plugins[i].push([n,r[i]])},call:function(e,t,n,r){var i,o=e.plugins[t];if(o&&(r||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(i=0;i<o.length;i++)e.options[o[i][0]]&&o[i][1].apply(e.element,n)}};/*!
 * jQuery UI Widget 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
var r=0,i=Array.prototype.slice;e.cleanData=function(t){return function(n){var r,i,o;for(o=0;null!=(i=n[o]);o++)try{r=e._data(i,"events"),r&&r.remove&&e(i).triggerHandler("remove")}catch(s){}t(n)}}(e.cleanData),e.widget=function(t,n,r){var i,o,s,a,l={},u=t.split(".")[0];return t=t.split(".")[1],i=u+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[u]=e[u]||{},o=e[u][t],s=e[u][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new s(e,t)},e.extend(s,o,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),a=new n,a.options=e.widget.extend({},a.options),e.each(r,function(t,r){return e.isFunction(r)?void(l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=o,t}}()):void(l[t]=r)}),s.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||t:t},l,{constructor:s,namespace:u,widgetName:t,widgetFullName:i}),o?(e.each(o._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var n,r,o=i.call(arguments,1),s=0,a=o.length;a>s;s++)for(n in o[s])r=o[s][n],o[s].hasOwnProperty(n)&&void 0!==r&&(t[n]=e.isPlainObject(r)?e.isPlainObject(t[n])?e.widget.extend({},t[n],r):e.widget.extend({},r):r);return t},e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(o){var s="string"==typeof o,a=i.call(arguments,1),l=this;return o=!s&&a.length?e.widget.extend.apply(null,[o].concat(a)):o,this.each(s?function(){var n,i=e.data(this,r);return"instance"===o?(l=i,!1):i?e.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,a),n!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}:function(){var t=e.data(this,r);t?(t.option(o||{}),t._init&&t._init()):e.data(this,r,new n(o,this))}),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=r++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,i,o,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},r=t.split("."),t=r.shift(),r.length){for(i=s[t]=e.widget.extend({},this.options[t]),o=0;o<r.length-1;o++)i[r[o]]=i[r[o]]||{},i=i[r[o]];if(t=r.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=n}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,r){var i,o=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,s){function a(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=r.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?i.delegate(c,u,a):n.bind(u,a)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,o,s=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!(e.isFunction(s)&&s.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,o){"string"==typeof i&&(i={effect:i});var s,a=i?i===!0||"number"==typeof i?n:i.effect||n:t;i=i||{},"number"==typeof i&&(i={duration:i}),s=!e.isEmptyObject(i),i.complete=o,i.delay&&r.delay(i.delay),s&&e.effects&&e.effects.effect[a]?r[t](i):a!==t&&r[a]?r[a](i.duration,i.easing,o):r.queue(function(n){e(this)[t](),o&&o.call(r[0]),n()})}});var o=(e.widget,!1);e(document).mouseup(function(){o=!1});e.widget("ui.mouse",{version:"1.11.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,r=1===t.which,i="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return r&&!i&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),o=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),o=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});/*!
 * jQuery UI Draggable 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */
e.widget("ui.draggable",e.ui.mouse,{version:"1.11.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return this._blurActiveElement(t),this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=this.document[0];if(this.handleElement.is(t.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&e(n.activeElement).blur()}catch(r){}},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper),i=r?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),r&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options,o=this.document[0];return this.relativeContainer=null,i.containment?"window"===i.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===i.containment?void(this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):i.containment.constructor===Array?void(this.containment=i.containment):("parent"===i.containment&&(i.containment=this.helper[0].parentNode),n=e(i.containment),r=n[0],void(r&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,r,i,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,u=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(u=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(u=n[3]+this.offset.click.top)),s.grid&&(i=s.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,u=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-s.grid[1]:i+s.grid[1]:i,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,r){var i=e.extend({},n,{item:r.element});r.sortables=[],e(r.options.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(r.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,i))})},stop:function(t,n,r){var i=e.extend({},n,{item:r.element});r.cancelHelperRemoval=!1,e.each(r.sortables,function(){var e=this;e.isOver?(e.isOver=0,r.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,i))})},drag:function(t,n,r){e.each(r.sortables,function(){var i=!1,o=this;o.positionAbs=r.positionAbs,o.helperProportions=r.helperProportions,o.offset.click=r.offset.click,o._intersectsWith(o.containerCache)&&(i=!0,e.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(i=!1),i})),i?(o.isOver||(o.isOver=1,o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=r.offset.click.top,o.offset.click.left=r.offset.click.left,o.offset.parent.left-=r.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=r.offset.parent.top-o.offset.parent.top,r._trigger("toSortable",t),r.dropped=o.element,e.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,o.fromOutside=r),o.currentItem&&(o._mouseDrag(t),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),r._refreshOffsets(t),n.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,e.each(r.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,r){var i=e("body"),o=r.options;i.css("cursor")&&(o._cursor=i.css("cursor")),i.css("cursor",o.cursor)},stop:function(t,n,r){var i=r.options;i._cursor&&e("body").css("cursor",i._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,r){var i=e(n.helper),o=r.options;i.css("opacity")&&(o._opacity=i.css("opacity")),i.css("opacity",o.opacity)},stop:function(t,n,r){var i=r.options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,r){var i=r.options,o=!1,s=r.scrollParentNotHidden[0],a=r.document[0];s!==a&&"HTML"!==s.tagName?(i.axis&&"x"===i.axis||(r.overflowOffset.top+s.offsetHeight-t.pageY<i.scrollSensitivity?s.scrollTop=o=s.scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(r.overflowOffset.left+s.offsetWidth-t.pageX<i.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(a).scrollTop()<i.scrollSensitivity?o=e(a).scrollTop(e(a).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<i.scrollSensitivity&&(o=e(a).scrollTop(e(a).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(a).scrollLeft()<i.scrollSensitivity?o=e(a).scrollLeft(e(a).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<i.scrollSensitivity&&(o=e(a).scrollLeft(e(a).scrollLeft()+i.scrollSpeed)))),o!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,r){var i=r.options;r.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var t=e(this),n=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,r){var i,o,s,a,l,u,c,f,h,p,d=r.options,m=d.snapTolerance,g=n.offset.left,v=g+r.helperProportions.width,b=n.offset.top,y=b+r.helperProportions.height;for(h=r.snapElements.length-1;h>=0;h--)l=r.snapElements[h].left-r.margins.left,u=l+r.snapElements[h].width,c=r.snapElements[h].top-r.margins.top,f=c+r.snapElements[h].height,l-m>v||g>u+m||c-m>y||b>f+m||!e.contains(r.snapElements[h].item.ownerDocument,r.snapElements[h].item)?(r.snapElements[h].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[h].item})),r.snapElements[h].snapping=!1):("inner"!==d.snapMode&&(i=Math.abs(c-y)<=m,o=Math.abs(f-b)<=m,s=Math.abs(l-v)<=m,a=Math.abs(u-g)<=m,i&&(n.position.top=r._convertPositionTo("relative",{top:c-r.helperProportions.height,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:f,left:0}).top),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:l-r.helperProportions.width}).left),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:u}).left)),p=i||o||s||a,"outer"!==d.snapMode&&(i=Math.abs(c-b)<=m,o=Math.abs(f-y)<=m,s=Math.abs(l-g)<=m,a=Math.abs(u-v)<=m,i&&(n.position.top=r._convertPositionTo("relative",{top:c,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:f-r.helperProportions.height,left:0}).top),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:u-r.helperProportions.width}).left)),!r.snapElements[h].snapping&&(i||o||s||a||p)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[h].item})),r.snapElements[h].snapping=i||o||s||a||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,r){var i,o=r.options,s=e.makeArray(e(o.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});s.length&&(i=parseInt(e(s[0]).css("zIndex"),10)||0,e(s).each(function(t){e(this).css("zIndex",i+t)}),this.css("zIndex",i+s.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,r){var i=e(n.helper),o=r.options;i.css("zIndex")&&(o._zIndex=i.css("zIndex")),i.css("zIndex",o.zIndex)},stop:function(t,n,r){var i=r.options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}});e.ui.draggable;/*!
 * jQuery UI Droppable 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/droppable/
 */
e.widget("ui.droppable",{version:"1.11.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,r=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(r)?r:function(e){return e.is(r)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var r=e.ui.ddmanager.droppables[this.options.scope];this._splice(r),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var r=n||e.ui.ddmanager.current,i=!1;return r&&(r.currentItem||r.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=e(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===r.options.scope&&n.accept.call(n.element[0],r.currentItem||r.element)&&e.ui.intersect(r,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,t)?(i=!0,!1):void 0}),i?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,n){return e>=t&&t+n>e}return function(t,n,r,i){if(!n.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,s=(t.positionAbs||t.position.absolute).top+t.margins.top,a=o+t.helperProportions.width,l=s+t.helperProportions.height,u=n.offset.left,c=n.offset.top,f=u+n.proportions().width,h=c+n.proportions().height;switch(r){case"fit":return o>=u&&f>=a&&s>=c&&h>=l;case"intersect":return u<o+t.helperProportions.width/2&&a-t.helperProportions.width/2<f&&c<s+t.helperProportions.height/2&&l-t.helperProportions.height/2<h;case"pointer":return e(i.pageY,c,n.proportions().height)&&e(i.pageX,u,n.proportions().width);case"touch":return(s>=c&&h>=s||l>=c&&h>=l||c>s&&l>h)&&(o>=u&&f>=o||a>=u&&f>=a||u>o&&a>f);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var r,i,o=e.ui.ddmanager.droppables[t.options.scope]||[],s=n?n.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(r=0;r<o.length;r++)if(!(o[r].options.disabled||t&&!o[r].accept.call(o[r].element[0],t.currentItem||t.element))){for(i=0;i<a.length;i++)if(a[i]===o[r].element[0]){o[r].proportions().height=0;continue e}o[r].visible="none"!==o[r].element.css("display"),o[r].visible&&("mousedown"===s&&o[r]._activate.call(o[r],n),o[r].offset=o[r].element.offset(),o[r].proportions({width:o[r].element[0].offsetWidth,height:o[r].element[0].offsetHeight}))}},drop:function(t,n){var r=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,n)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),r},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,i,o,s=e.ui.intersect(t,this,this.options.tolerance,n),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(i=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===i}),o.length&&(r=e(o[0]).droppable("instance"),r.greedyChild="isover"===a)),r&&"isover"===a&&(r.isover=!1,r.isout=!0,r._out.call(r,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),r&&"isout"===a&&(r.isout=!1,r.isover=!0,r._over.call(r,n)))}})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}};e.ui.droppable;/*!
 * jQuery UI Resizable 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */
e.widget("ui.resizable",e.ui.mouse,{version:"1.11.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var r=n&&"left"===n?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)},_create:function(){var t,n,r,i,o,s=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;n<t.length;n++)r=e.trim(t[n]),o="ui-resizable-"+r,i=e("<div class='ui-resizable-handle "+o+"'></div>"),i.css({zIndex:a.zIndex}),"se"===r&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(i);this._renderAxis=function(t){var n,r,i,o;t=t||this.element;for(n in this.handles)this.handles[n].constructor===String&&(this.handles[n]=this.element.children(this.handles[n]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(r=e(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth(),i=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(i,o),this._proportionallyResize()),e(this.handles[n]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=i&&i[1]?i[1]:"se")}),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){a.disabled||s.resizing||(e(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,r,i=!1;for(n in this.handles)r=e(this.handles[n])[0],(r===t.target||e.contains(r,t.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var n,r,i,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),r=this._num(this.helper.css("top")),o.containment&&(n+=e(o.containment).scrollLeft()||0,r+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:n,top:r},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===i?this.axis+"-resize":i),s.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,r,i=this.originalMousePosition,o=this.axis,s=t.pageX-i.left||0,a=t.pageY-i.top||0,l=this._change[o];return this._updatePrevProperties(),l?(n=l.apply(this,[t,s,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var n,r,i,o,s,a,l,u=this.options,c=this;return this._helper&&(n=this._proportionallyResizeElements,r=n.length&&/textarea/i.test(n[0].nodeName),i=r&&this._hasScroll(n[0],"left")?0:c.sizeDiff.height,o=r?0:c.sizeDiff.width,s={width:c.helper.width()-o,height:c.helper.height()-i},a=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,u.animate||this.element.css(e.extend(s,{top:l,left:a})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!u.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,r,i,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,r=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,i=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),r>o.minHeight&&(o.minHeight=r),n<o.maxWidth&&(o.maxWidth=n),i<o.maxHeight&&(o.maxHeight=i)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,r=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,r=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,i=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,s=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,u=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),s&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),i&&(e.height=t.maxHeight),o&&u&&(e.left=a-t.minWidth),r&&u&&(e.left=a-t.maxWidth),s&&c&&(e.top=l-t.minHeight),i&&c&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],r=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],i=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)n[t]=parseInt(r[t],10)||0,n[t]+=parseInt(i[t],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:n.width-t}},n:function(e,t,n){var r=this.originalSize,i=this.originalPosition;return{top:i.top+n,height:r.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),r=n.options,i=n._proportionallyResizeElements,o=i.length&&/textarea/i.test(i[0].nodeName),s=o&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},u=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,c=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,c&&u?{top:c,left:u}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};i&&i.length&&e(i[0]).css({width:r.width,height:r.height}),n._updateCache(r),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,r,i,o,s,a,l=e(this).resizable("instance"),u=l.options,c=l.element,f=u.containment,h=f instanceof e?f.get(0):/parent/.test(f)?c.parent().get(0):f;h&&(l.containerElement=e(h),/document/.test(f)||f===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,r){n[e]=l._num(t.css("padding"+r))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},r=l.containerOffset,i=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(h,"left")?h.scrollWidth:o,a=l._hasScroll(h)?h.scrollHeight:i,l.parentData={element:h,left:r.left,top:r.top,width:s,height:a}))},resize:function(t){var n,r,i,o,s=e(this).resizable("instance"),a=s.options,l=s.containerOffset,u=s.position,c=s._aspectRatio||t.shiftKey,f={top:0,left:0},h=s.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(f=l),u.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-f.left),c&&(s.size.height=s.size.width/s.aspectRatio,p=!1),s.position.left=a.helper?l.left:0),u.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),c&&(s.size.width=s.size.height*s.aspectRatio,p=!1),s.position.top=s._helper?l.top:0),i=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),i&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-f.left:s.offset.left-l.left)),r=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-f.top:s.offset.top-l.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,c&&(s.size.height=s.size.width/s.aspectRatio,p=!1)),r+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-r,c&&(s.size.width=s.size.height*s.aspectRatio,p=!1)),p||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,r=t.containerOffset,i=t.containerPosition,o=t.containerElement,s=e(t.helper),a=s.offset(),l=s.outerWidth()-t.sizeDiff.width,u=s.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:a.left-i.left-r.left,width:l,height:u}),t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:a.left-i.left-r.left,width:l,height:u})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),n=t.options,r=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof n.alsoResize||n.alsoResize.parentNode?r(n.alsoResize):n.alsoResize.length?(n.alsoResize=n.alsoResize[0],r(n.alsoResize)):e.each(n.alsoResize,function(e){r(e)})},resize:function(t,n){var r=e(this).resizable("instance"),i=r.options,o=r.originalSize,s=r.originalPosition,a={height:r.size.height-o.height||0,width:r.size.width-o.width||0,top:r.position.top-s.top||0,left:r.position.left-s.left||0},l=function(t,r){e(t).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),o={},s=r&&r.length?r:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,function(e,t){var n=(i[t]||0)+(a[t]||0);n&&n>=0&&(o[t]=n||null)}),t.css(o)})};"object"!=typeof i.alsoResize||i.alsoResize.nodeType?l(i.alsoResize):e.each(i.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.options,r=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),r=n.options,i=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,l="number"==typeof r.grid?[r.grid,r.grid]:r.grid,u=l[0]||1,c=l[1]||1,f=Math.round((i.width-o.width)/u)*u,h=Math.round((i.height-o.height)/c)*c,p=o.width+f,d=o.height+h,m=r.maxWidth&&r.maxWidth<p,g=r.maxHeight&&r.maxHeight<d,v=r.minWidth&&r.minWidth>p,b=r.minHeight&&r.minHeight>d;r.grid=l,v&&(p+=u),b&&(d+=c),m&&(p-=u),g&&(d-=c),/^(se|s|e)$/.test(a)?(n.size.width=p,n.size.height=d):/^(ne)$/.test(a)?(n.size.width=p,n.size.height=d,n.position.top=s.top-h):/^(sw)$/.test(a)?(n.size.width=p,n.size.height=d,n.position.left=s.left-f):((0>=d-c||0>=p-u)&&(t=n._getPaddingPlusBorderDimensions(this)),d-c>0?(n.size.height=d,n.position.top=s.top-h):(d=c-t.height,n.size.height=d,n.position.top=s.top+o.height-d),p-u>0?(n.size.width=p,n.position.left=s.left-f):(p=c-t.height,n.size.width=p,n.position.left=s.left+o.width-p))}});e.ui.resizable}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);this.CodeMirror=e()}}(function(){"use strict";function e(n,r){if(!(this instanceof e))return new e(n,r);this.options=r=r?ko(r):{},ko($s,r,!1),p(r);var i=r.value;"string"==typeof i&&(i=new ua(i,r.mode)),this.doc=i;var o=this.display=new t(n,i);o.wrapper.CodeMirror=this,u(this),a(this),r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),r.autofocus&&!ms&&In(this),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new vo,keySeq:null},is&&11>os&&setTimeout(_o(Pn,this,!0),20),zn(this),Ro(),on(this),this.curOp.forceUpdate=!0,Ri(this,i),r.autofocus&&!ms||Oo()==o.input?setTimeout(_o(ir,this),20):or(this);for(var s in Ws)Ws.hasOwnProperty(s)&&Ws[s](this,r[s],Fs);S(this);for(var l=0;l<Us.length;++l)Us[l](this);an(this),ss&&r.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function t(e,t){var n=this,r=n.input=To("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");ss?r.style.width="1000px":r.setAttribute("wrap","off"),ds&&(r.style.border="1px solid black"),r.setAttribute("autocorrect","off"),r.setAttribute("autocapitalize","off"),r.setAttribute("spellcheck","false"),n.inputDiv=To("div",[r],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),n.scrollbarFiller=To("div",null,"CodeMirror-scrollbar-filler"),n.scrollbarFiller.setAttribute("not-content","true"),n.gutterFiller=To("div",null,"CodeMirror-gutter-filler"),n.gutterFiller.setAttribute("not-content","true"),n.lineDiv=To("div",null,"CodeMirror-code"),n.selectionDiv=To("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=To("div",null,"CodeMirror-cursors"),n.measure=To("div",null,"CodeMirror-measure"),n.lineMeasure=To("div",null,"CodeMirror-measure"),n.lineSpace=To("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=To("div",[To("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=To("div",[n.mover],"CodeMirror-sizer"),n.sizerWidth=null,n.heightForcer=To("div",null,null,"position: absolute; height: "+ya+"px; width: 1px;"),n.gutters=To("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=To("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=To("div",[n.inputDiv,n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),is&&8>os&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),ds&&(r.style.width="0px"),ss||(n.scroller.draggable=!0),fs&&(n.inputDiv.style.height="1px",n.inputDiv.style.position="absolute"),e&&(e.appendChild?e.appendChild(n.wrapper):e(n.wrapper)),n.viewFrom=n.viewTo=t.first,n.reportedViewFrom=n.reportedViewTo=t.first,n.view=[],n.renderedView=null,n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.nativeBarWidth=n.barHeight=n.barWidth=0,n.scrollbarsClipped=!1,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.prevInput="",n.alignWidgets=!1,n.pollingFast=!1,n.poll=new vo,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.inaccurateSelection=!1,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null}function n(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),r(t)}function r(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,kt(e,100),e.state.modeGen++,e.curOp&&xn(e)}function i(e){e.options.lineWrapping?(za(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Oa(e.display.wrapper,"CodeMirror-wrap"),h(e)),s(e),xn(e),Ut(e),setTimeout(function(){b(e)},100)}function o(e){var t=nn(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/rn(e.display)-3);return function(i){if(ui(e.doc,i))return 0;var o=0;if(i.widgets)for(var s=0;s<i.widgets.length;s++)i.widgets[s].height&&(o+=i.widgets[s].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function s(e){var t=e.doc,n=o(e);t.iter(function(e){var t=n(e);t!=e.height&&Fi(e,t)})}function a(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ut(e)}function l(e){u(e),xn(e),setTimeout(function(){w(e)},20)}function u(e){var t=e.display.gutters,n=e.options.gutters;Po(t);for(var r=0;r<n.length;++r){var i=n[r],o=t.appendChild(To("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",c(e)}function c(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function f(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=ni(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=ri(r);){var i=t.find(0,!0);n-=r.text.length-i.from.ch,r=i.to.line,n+=r.text.length-i.to.ch}return n}function h(e){var t=e.display,n=e.doc;t.maxLine=ji(n,n.first),t.maxLineLength=f(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=f(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function p(e){var t=wo(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function d(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Tt(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+It(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function m(e,t,n){this.cm=n;var r=this.vert=To("div",[To("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=To("div",[To("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(r),e(i),ma(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),ma(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedOverlay=!1,is&&8>os&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function g(){}function v(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&Oa(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),ma(e,"mousedown",function(){t.state.focused&&setTimeout(_o(In,t),0)}),e.setAttribute("not-content","true")},function(e,n){"horizontal"==n?Gn(t,e):Vn(t,e)},t),t.display.scrollbars.addClass&&za(t.display.wrapper,t.display.scrollbars.addClass)}function b(e,t){t||(t=d(e));var n=e.display.barWidth,r=e.display.barHeight;y(e,t);for(var i=0;4>i&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&I(e),y(e,d(e)),n=e.display.barWidth,r=e.display.barHeight}function y(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function x(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Lt(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=Bi(t,r),s=Bi(t,i);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;o>a?(o=a,s=Bi(t,qi(ji(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=s&&(o=Bi(t,qi(ji(t,l))-e.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function w(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=k(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",s=0;s<n.length;s++)if(!n[s].hidden){e.options.fixedGutter&&n[s].gutter&&(n[s].gutter.style.left=o);var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function S(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=C(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(To("div",[To("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,s=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-s),r.lineNumWidth=r.lineNumInnerWidth+s,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",c(e),!0}return!1}function C(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function k(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function _(e,t,n){var r=e.display;this.viewport=t,this.visible=x(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Mt(e),this.force=n,this.dims=O(e)}function A(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=It(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=It(e)+"px",t.scrollbarsClipped=!0)}function E(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return Sn(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==An(e))return!1;S(e)&&(Sn(e),t.dims=O(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),s=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(i,n.viewTo)),Ss&&(o=ai(e.doc,o),s=li(e.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;_n(e,o,s),n.viewOffset=qi(ji(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=An(e);if(!a&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=Oo();return l>4&&(n.lineDiv.style.display="none"),z(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,u&&Oo()!=u&&u.offsetHeight&&u.focus(),Po(n.cursorDiv),Po(n.selectionDiv),n.gutters.style.height=0,a&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,kt(e,400)),n.updateLineNumbers=null,!0}function L(e,t){for(var n=t.force,r=t.viewport,i=!0;;i=!1){if(i&&e.options.lineWrapping&&t.oldDisplayWidth!=Mt(e))n=!0;else if(n=!1,r&&null!=r.top&&(r={top:Math.min(e.doc.height+Tt(e.display)-Ot(e),r.top)}),t.visible=x(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!E(e,t))break;I(e);var o=d(e);xt(e),P(e,o),b(e,o)}co(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(co(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function T(e,t){var n=new _(e,t);if(E(e,n)){I(e),L(e,n);var r=d(e);xt(e),P(e,r),b(e,r)}}function P(e,t){e.display.sizer.style.minHeight=t.docHeight+"px";var n=t.docHeight+e.display.barHeight;e.display.heightForcer.style.top=n+"px",e.display.gutters.style.height=Math.max(n+It(e),t.clientHeight)+"px"}function I(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i,o=t.view[r];if(!o.hidden){if(is&&8>os){var s=o.node.offsetTop+o.node.offsetHeight;i=s-n,n=s}else{var a=o.node.getBoundingClientRect();i=a.bottom-a.top}var l=o.line.height-i;if(2>i&&(i=nn(t)),(l>.001||-.001>l)&&(Fi(o.line,i),M(o.line),o.rest))for(var u=0;u<o.rest.length;u++)M(o.rest[u])}}}function M(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.offsetHeight}function O(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s)n[e.options.gutters[s]]=o.offsetLeft+o.clientLeft+i,r[e.options.gutters[s]]=o.clientWidth;return{fixedPos:k(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function z(e,t,n){function r(t){var n=t.nextSibling;return ss&&gs&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var i=e.display,o=e.options.lineNumbers,s=i.lineDiv,a=s.firstChild,l=i.view,u=i.viewFrom,c=0;c<l.length;c++){var f=l[c];if(f.hidden);else if(f.node){for(;a!=f.node;)a=r(a);var h=o&&null!=t&&u>=t&&f.lineNumber;f.changes&&(wo(f.changes,"gutter")>-1&&(h=!1),N(e,f,u,n)),h&&(Po(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(C(e.options,u)))),a=f.node.nextSibling}else{var p=B(e,f,u,n);s.insertBefore(p,a)}u+=f.size}for(;a;)a=r(a)}function N(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?$(e,t):"gutter"==o?F(e,t,n,r):"class"==o?W(t):"widget"==o&&H(t,r)}t.changes=null}function D(e){return e.node==e.text&&(e.node=To("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),is&&8>os&&(e.node.style.zIndex=2)),e.node}function R(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=D(e);e.background=n.insertBefore(To("div",null,t),n.firstChild)}}function j(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):_i(e,t)}function $(e,t){var n=t.text.className,r=j(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,W(t)):n&&(t.text.className=n)}function W(e){R(e),e.line.wrapClass?D(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function F(e,t,n,r){t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null);var i=t.line.gutterMarkers;if(e.options.lineNumbers||i){var o=D(t),s=t.gutter=o.insertBefore(To("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),t.text);if(t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(To("div",C(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),i)for(var a=0;a<e.options.gutters.length;++a){var l=e.options.gutters[a],u=i.hasOwnProperty(l)&&i[l];u&&s.appendChild(To("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[l]+"px; width: "+r.gutterWidth[l]+"px"))}}}function H(e,t){e.alignable&&(e.alignable=null);for(var n,r=e.node.firstChild;r;r=n){var n=r.nextSibling;"CodeMirror-linewidget"==r.className&&e.node.removeChild(r)}q(e,t)}function B(e,t,n,r){var i=j(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),W(t),F(e,t,n,r),q(t,r),t.node}function q(e,t){if(U(e.line,e,t,!0),e.rest)for(var n=0;n<e.rest.length;n++)U(e.rest[n],e,t,!1)}function U(e,t,n,r){if(e.widgets)for(var i=D(t),o=0,s=e.widgets;o<s.length;++o){var a=s[o],l=To("div",[a.node],"CodeMirror-linewidget");a.handleMouseEvents||l.setAttribute("cm-ignore-events","true"),V(a,l,t,n),r&&a.above?i.insertBefore(l,t.gutter||t.text):i.appendChild(l),co(a,"redraw")}}function V(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function G(e){return Cs(e.line,e.ch)}function K(e,t){return ks(e,t)<0?t:e}function Y(e,t){return ks(e,t)<0?e:t}function X(e,t){this.ranges=e,this.primIndex=t}function Q(e,t){this.anchor=e,this.head=t}function J(e,t){var n=e[t];e.sort(function(e,t){return ks(e.from(),t.from())}),t=wo(e,n);for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];if(ks(o.to(),i.from())>=0){var s=Y(o.from(),i.from()),a=K(o.to(),i.to()),l=o.empty()?i.from()==i.head:o.from()==o.head;t>=r&&--t,e.splice(--r,2,new Q(l?a:s,l?s:a))}}return new X(e,t)}function Z(e,t){return new X([new Q(e,t||e)],0)}function et(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function tt(e,t){if(t.line<e.first)return Cs(e.first,0);var n=e.first+e.size-1;return t.line>n?Cs(n,ji(e,n).text.length):nt(t,ji(e,t.line).text.length)}function nt(e,t){var n=e.ch;return null==n||n>t?Cs(e.line,t):0>n?Cs(e.line,0):e}function rt(e,t){return t>=e.first&&t<e.first+e.size}function it(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=tt(e,t[r]);return n}function ot(e,t,n,r){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(r){var o=ks(n,i)<0;o!=ks(r,i)<0?(i=n,n=r):o!=ks(n,r)<0&&(n=r)}return new Q(i,n)}return new Q(r||n,n)}function st(e,t,n,r){ht(e,new X([ot(e,e.sel.primary(),t,n)],0),r)}function at(e,t,n){for(var r=[],i=0;i<e.sel.ranges.length;i++)r[i]=ot(e,e.sel.ranges[i],t[i],null);var o=J(r,e.sel.primIndex);ht(e,o,n)}function lt(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,ht(e,J(i,e.sel.primIndex),r)}function ut(e,t,n,r){ht(e,Z(t,n),r)}function ct(e,t){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new Q(tt(e,t[n].anchor),tt(e,t[n].head))}};return va(e,"beforeSelectionChange",e,n),e.cm&&va(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?J(n.ranges,n.ranges.length-1):t}function ft(e,t,n){var r=e.history.done,i=xo(r);i&&i.ranges?(r[r.length-1]=t,pt(e,t,n)):ht(e,t,n)}function ht(e,t,n){pt(e,t,n),Ji(e,e.sel,e.cm?e.cm.curOp.id:0/0,n)}function pt(e,t,n){(mo(e,"beforeSelectionChange")||e.cm&&mo(e.cm,"beforeSelectionChange"))&&(t=ct(e,t));var r=n&&n.bias||(ks(t.primary().head,e.sel.primary().head)<0?-1:1);dt(e,gt(e,t,r,!0)),n&&n.scroll===!1||!e.cm||_r(e.cm)}function dt(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,po(e.cm)),co(e,"cursorActivity",e))}function mt(e){dt(e,gt(e,e.sel,null,!1),wa)}function gt(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=vt(e,s.anchor,n,r),l=vt(e,s.head,n,r);(i||a!=s.anchor||l!=s.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Q(a,l))}return i?J(i,t.primIndex):t}function vt(e,t,n,r){var i=!1,o=t,s=n||1;e.cantEdit=!1;e:for(;;){var a=ji(e,o.line);if(a.markedSpans)for(var l=0;l<a.markedSpans.length;++l){var u=a.markedSpans[l],c=u.marker;if((null==u.from||(c.inclusiveLeft?u.from<=o.ch:u.from<o.ch))&&(null==u.to||(c.inclusiveRight?u.to>=o.ch:u.to>o.ch))){if(r&&(va(c,"beforeCursorEnter"),c.explicitlyCleared)){if(a.markedSpans){--l;continue}break}if(!c.atomic)continue;var f=c.find(0>s?-1:1);if(0==ks(f,o)&&(f.ch+=s,f.ch<0?f=f.line>e.first?tt(e,Cs(f.line-1)):null:f.ch>a.text.length&&(f=f.line<e.first+e.size-1?Cs(f.line+1,0):null),!f)){if(i)return r?(e.cantEdit=!0,Cs(e.first,0)):vt(e,t,n,!0);i=!0,f=t,s=-s}o=f;continue e}}return o}}function bt(e){for(var t=e.display,n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++){var a=n.sel.ranges[s],l=a.empty();(l||e.options.showCursorWhenSelecting)&&wt(e,a,i),l||St(e,a,o)}if(e.options.moveInputWithCursor){var u=Qt(e,n.sel.primary().head,"div"),c=t.wrapper.getBoundingClientRect(),f=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,u.top+f.top-c.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,u.left+f.left-c.left))}return r}function yt(e,t){Io(e.display.cursorDiv,t.cursors),Io(e.display.selectionDiv,t.selection),null!=t.teTop&&(e.display.inputDiv.style.top=t.teTop+"px",e.display.inputDiv.style.left=t.teLeft+"px")}function xt(e){yt(e,bt(e))}function wt(e,t,n){var r=Qt(e,t.head,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(To("div","\xa0","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(To("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function St(e,t,n){function r(e,t,n,r){0>t&&(t=0),t=Math.round(t),r=Math.round(r),a.appendChild(To("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?c-e:n)+"px; height: "+(r-t)+"px"))}function i(t,n,i){function o(n,r){return Xt(e,Cs(t,n),"div",f,r)}var a,l,f=ji(s,t),h=f.text.length;return Ho(Ui(f),n||0,null==i?h:i,function(e,t,s){var f,p,d,m=o(e,"left");if(e==t)f=m,p=d=m.left;else{if(f=o(t-1,"right"),"rtl"==s){var g=m;m=f,f=g}p=m.left,d=f.right}null==n&&0==e&&(p=u),f.top-m.top>3&&(r(p,m.top,null,m.bottom),p=u,m.bottom<f.top&&r(p,m.bottom,null,f.top)),null==i&&t==h&&(d=c),(!a||m.top<a.top||m.top==a.top&&m.left<a.left)&&(a=m),(!l||f.bottom>l.bottom||f.bottom==l.bottom&&f.right>l.right)&&(l=f),u+1>p&&(p=u),r(p,f.top,d-p,f.bottom)}),{start:a,end:l}}var o=e.display,s=e.doc,a=document.createDocumentFragment(),l=Pt(e.display),u=l.left,c=Math.max(o.sizerWidth,Mt(e)-o.sizer.offsetLeft)-l.right,f=t.from(),h=t.to();if(f.line==h.line)i(f.line,f.ch,h.ch);else{var p=ji(s,f.line),d=ji(s,h.line),m=oi(p)==oi(d),g=i(f.line,f.ch,m?p.text.length+1:null).end,v=i(h.line,m?0:null,h.ch).start;m&&(g.top<v.top-2?(r(g.right,g.top,null,g.bottom),r(u,v.top,v.left,v.bottom)):r(g.right,g.top,v.left-g.right,g.bottom)),g.bottom<v.top&&r(u,g.bottom,null,v.top)}n.appendChild(a)}function Ct(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function kt(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,_o(_t,e))}function _t(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=Gs(t.mode,Et(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var s=o.styles,a=wi(e,o,r,!0);o.styles=a.styles;var l=o.styleClasses,u=a.classes;u?o.styleClasses=u:l&&(o.styleClasses=null);for(var c=!s||s.length!=o.styles.length||l!=u&&(!l||!u||l.bgClass!=u.bgClass||l.textClass!=u.textClass),f=0;!c&&f<s.length;++f)c=s[f]!=o.styles[f];c&&i.push(t.frontier),o.stateAfter=Gs(t.mode,r)}else Ci(e,o.text,r),o.stateAfter=t.frontier%5==0?Gs(t.mode,r):null;return++t.frontier,+new Date>n?(kt(e,e.options.workDelay),!0):void 0}),i.length&&dn(e,function(){for(var t=0;t<i.length;t++)wn(e,i[t],"text")})}}function At(e,t,n){for(var r,i,o=e.doc,s=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var l=ji(o,a-1);if(l.stateAfter&&(!n||a<=o.frontier))return a;var u=ka(l.text,null,e.options.tabSize);(null==i||r>u)&&(i=a-1,r=u)}return i}function Et(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return!0;var o=At(e,t,n),s=o>r.first&&ji(r,o-1).stateAfter;return s=s?Gs(r.mode,s):Ks(r.mode),r.iter(o,t,function(n){Ci(e,n.text,s);var a=o==t-1||o%5==0||o>=i.viewFrom&&o<i.viewTo;n.stateAfter=a?Gs(r.mode,s):null,++o}),n&&(r.frontier=o),s}function Lt(e){return e.lineSpace.offsetTop}function Tt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Pt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Io(e.measure,To("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function It(e){return ya-e.display.nativeBarWidth}function Mt(e){return e.display.scroller.clientWidth-It(e)-e.display.barWidth}function Ot(e){return e.display.scroller.clientHeight-It(e)-e.display.barHeight}function zt(e,t,n){var r=e.options.lineWrapping,i=r&&Mt(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],u=s[a+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Nt(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var r=0;r<e.rest.length;r++)if(Hi(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function Dt(e,t){t=oi(t);var n=Hi(t),r=e.display.externalMeasured=new bn(e.doc,t,n);r.lineN=n;var i=r.built=_i(e,r);return r.text=i.pre,Io(e.display.lineMeasure,i.pre),r}function Rt(e,t,n,r){return Wt(e,$t(e,t),n,r)}function jt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Cn(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function $t(e,t){var n=Hi(t),r=jt(e,n);r&&!r.text?r=null:r&&r.changes&&N(e,r,n,O(e)),r||(r=Dt(e,t));var i=Nt(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Wt(e,t,n,r,i){t.before&&(n=-1);var o,s=n+(r||"");return t.cache.hasOwnProperty(s)?o=t.cache[s]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(zt(e,t.view,t.rect),t.hasHeights=!0),o=Ft(e,t,n,r),o.bogus||(t.cache[s]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function Ft(e,t,n,r){for(var i,o,s,a,l=t.map,u=0;u<l.length;u+=3){var c=l[u],f=l[u+1];if(c>n?(o=0,s=1,a="left"):f>n?(o=n-c,s=o+1):(u==l.length-3||n==f&&l[u+3]>n)&&(s=f-c,o=s-1,n>=f&&(a="right")),null!=o){if(i=l[u+2],c==f&&r==(i.insertLeft?"left":"right")&&(a=r),"left"==r&&0==o)for(;u&&l[u-2]==l[u-3]&&l[u-1].insertLeft;)i=l[(u-=3)+2],a="left";if("right"==r&&o==f-c)for(;u<l.length-3&&l[u+3]==l[u+4]&&!l[u+5].insertLeft;)i=l[(u+=3)+2],a="right";break}}var h;if(3==i.nodeType){for(var u=0;4>u;u++){for(;o&&Lo(t.line.text.charAt(c+o));)--o;for(;f>c+s&&Lo(t.line.text.charAt(c+s));)++s;if(is&&9>os&&0==o&&s==f-c)h=i.parentNode.getBoundingClientRect();else if(is&&e.options.lineWrapping){var p=Ea(i,o,s).getClientRects();h=p.length?p["right"==r?p.length-1:0]:Ls}else h=Ea(i,o,s).getBoundingClientRect()||Ls;if(h.left||h.right||0==o)break;s=o,o-=1,a="right"}is&&11>os&&(h=Ht(e.display.measure,h))}else{o>0&&(a=r="right");var p;h=e.options.lineWrapping&&(p=i.getClientRects()).length>1?p["right"==r?p.length-1:0]:i.getBoundingClientRect()}if(is&&9>os&&!o&&(!h||!h.left&&!h.right)){var d=i.parentNode.getClientRects()[0];h=d?{left:d.left,right:d.left+rn(e.display),top:d.top,bottom:d.bottom}:Ls}for(var m=h.top-t.rect.top,g=h.bottom-t.rect.top,v=(m+g)/2,b=t.view.measure.heights,u=0;u<b.length-1&&!(v<b[u]);u++);var y=u?b[u-1]:0,x=b[u],w={left:("right"==a?h.right:h.left)-t.rect.left,right:("left"==a?h.left:h.right)-t.rect.left,top:y,bottom:x};return h.left||h.right||(w.bogus=!0),e.options.singleCursorHeightPerLine||(w.rtop=m,w.rbottom=g),w}function Ht(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Fo(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function Bt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function qt(e){e.display.externalMeasure=null,Po(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Bt(e.display.view[t])}function Ut(e){qt(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Vt(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Gt(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function Kt(e,t,n,r){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var o=hi(t.widgets[i]);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var s=qi(t);if("local"==r?s+=Lt(e.display):s-=e.display.viewOffset,"page"==r||"window"==r){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==r?0:Gt());var l=a.left+("window"==r?0:Vt());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function Yt(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=Vt(),i-=Gt();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:r-s.left,top:i-s.top}}function Xt(e,t,n,r,i){return r||(r=ji(e.doc,t.line)),Kt(e,r,Rt(e,r,t.ch,i),n)}function Qt(e,t,n,r,i,o){function s(t,s){var a=Wt(e,i,t,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,Kt(e,r,a,n)}function a(e,t){var n=l[t],r=n.level%2;return e==Bo(n)&&t&&n.level<l[t-1].level?(n=l[--t],e=qo(n)-(n.level%2?0:1),r=!0):e==qo(n)&&t<l.length-1&&n.level<l[t+1].level&&(n=l[++t],e=Bo(n)-n.level%2,r=!1),r&&e==n.to&&e>n.from?s(e-1):s(e,r)}r=r||ji(e.doc,t.line),i||(i=$t(e,r));var l=Ui(r),u=t.ch;if(!l)return s(u);var c=Qo(l,u),f=a(u,c);return null!=Ha&&(f.other=a(u,Ha)),f}function Jt(e,t){var n=0,t=tt(e.doc,t);e.options.lineWrapping||(n=rn(e.display)*t.ch);var r=ji(e.doc,t.line),i=qi(r)+Lt(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function Zt(e,t,n,r){var i=Cs(e,t);return i.xRel=r,n&&(i.outside=!0),i}function en(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,0>n)return Zt(r.first,0,!0,-1);var i=Bi(r,n),o=r.first+r.size-1;if(i>o)return Zt(r.first+r.size-1,ji(r,o).text.length,!0,1);0>t&&(t=0);for(var s=ji(r,i);;){var a=tn(e,s,i,t,n),l=ri(s),u=l&&l.find(0,!0);if(!l||!(a.ch>u.from.ch||a.ch==u.from.ch&&a.xRel>0))return a;i=Hi(s=u.to.line)}}function tn(e,t,n,r,i){function o(r){var i=Qt(e,Cs(n,r),"line",t,u);return a=!0,s>i.bottom?i.left-l:s<i.top?i.left+l:(a=!1,i.left)}var s=i-qi(t),a=!1,l=2*e.display.wrapper.clientWidth,u=$t(e,t),c=Ui(t),f=t.text.length,h=Uo(t),p=Vo(t),d=o(h),m=a,g=o(p),v=a;if(r>g)return Zt(n,p,v,1);for(;;){if(c?p==h||p==Zo(t,h,1):1>=p-h){for(var b=d>r||g-r>=r-d?h:p,y=r-(b==h?d:g);Lo(t.text.charAt(b));)++b;var x=Zt(n,b,b==h?m:v,-1>y?-1:y>1?1:0);return x}var w=Math.ceil(f/2),S=h+w;if(c){S=h;for(var C=0;w>C;++C)S=Zo(t,S,1)}var k=o(S);k>r?(p=S,g=k,(v=a)&&(g+=1e3),f=w):(h=S,d=k,m=a,f-=w)}}function nn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==_s){_s=To("pre");for(var t=0;49>t;++t)_s.appendChild(document.createTextNode("x")),_s.appendChild(To("br"));_s.appendChild(document.createTextNode("x"))}Io(e.measure,_s);var n=_s.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),Po(e.measure),n||1}function rn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=To("span","xxxxxxxxxx"),n=To("pre",[t]);Io(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function on(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++Ps},Ts?Ts.ops.push(e.curOp):e.curOp.ownsGroup=Ts={ops:[e.curOp],delayedCallbacks:[]}}function sn(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n]();for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++](i.cm)}}while(n<t.length)}function an(e){var t=e.curOp,n=t.ownsGroup;if(n)try{sn(n)}finally{Ts=null;for(var r=0;r<n.ops.length;r++)n.ops[r].cm.curOp=null;ln(n)}}function ln(e){for(var t=e.ops,n=0;n<t.length;n++)un(t[n]);
for(var n=0;n<t.length;n++)cn(t[n]);for(var n=0;n<t.length;n++)fn(t[n]);for(var n=0;n<t.length;n++)hn(t[n]);for(var n=0;n<t.length;n++)pn(t[n])}function un(e){var t=e.cm,n=t.display;A(t),e.updateMaxLine&&h(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new _(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function cn(e){e.updatedDisplay=e.mustUpdate&&E(e.cm,e.update)}function fn(e){var t=e.cm,n=t.display;e.updatedDisplay&&I(t),e.barMeasure=d(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Rt(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+It(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Mt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.newSelectionNodes=bt(t))}function hn(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Gn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1),e.newSelectionNodes&&yt(t,e.newSelectionNodes),e.updatedDisplay&&P(t,e.barMeasure),(e.updatedDisplay||e.startHeight!=t.doc.height)&&b(t,e.barMeasure),e.selectionChanged&&Ct(t),t.state.focused&&e.updateInput&&Pn(t,e.typing)}function pn(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&L(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(r.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(r.scrollTop),n.scroller.scrollTop=r.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(r.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-Mt(t),e.scrollLeft)),n.scrollbars.setScrollLeft(r.scrollLeft),n.scroller.scrollLeft=r.scrollLeft,w(t)),e.scrollToPos){var i=wr(t,tt(r,e.scrollToPos.from),tt(r,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&xr(t,i)}var o=e.maybeHiddenMarkers,s=e.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||va(o[a],"hide");if(s)for(var a=0;a<s.length;++a)s[a].lines.length&&va(s[a],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&va(t,"changes",t,e.changeObjs)}function dn(e,t){if(e.curOp)return t();on(e);try{return t()}finally{an(e)}}function mn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);on(e);try{return t.apply(e,arguments)}finally{an(e)}}}function gn(e){return function(){if(this.curOp)return e.apply(this,arguments);on(this);try{return e.apply(this,arguments)}finally{an(this)}}}function vn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);on(t);try{return e.apply(this,arguments)}finally{an(t)}}}function bn(e,t,n){this.line=t,this.rest=si(t),this.size=this.rest?Hi(xo(this.rest))-n+1:1,this.node=this.text=null,this.hidden=ui(e,t)}function yn(e,t,n){for(var r,i=[],o=t;n>o;o=r){var s=new bn(e.doc,ji(e.doc,o),o);r=o+s.size,i.push(s)}return i}function xn(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Ss&&ai(e.doc,t)<i.viewTo&&Sn(e);else if(n<=i.viewFrom)Ss&&li(e.doc,n+r)>i.viewFrom?Sn(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)Sn(e);else if(t<=i.viewFrom){var o=kn(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):Sn(e)}else if(n>=i.viewTo){var o=kn(e,t,t,-1);o?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):Sn(e)}else{var s=kn(e,t,t,-1),a=kn(e,n,n+r,1);s&&a?(i.view=i.view.slice(0,s.index).concat(yn(e,s.lineN,a.lineN)).concat(i.view.slice(a.index)),i.viewTo+=r):Sn(e)}var l=i.externalMeasured;l&&(n<l.lineN?l.lineN+=r:t<l.lineN+l.size&&(i.externalMeasured=null))}function wn(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[Cn(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==wo(s,n)&&s.push(n)}}}function Sn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Cn(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,0>t)return r}function kn(e,t,n,r){var i,o=Cn(e,t),s=e.display.view;if(!Ss||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var a=0,l=e.display.viewFrom;o>a;a++)l+=s[a].size;if(l!=t){if(r>0){if(o==s.length-1)return null;i=l+s[o].size-t,o++}else i=l-t;t+=i,n+=i}for(;ai(e.doc,n)!=n;){if(o==(0>r?0:s.length-1))return null;n+=r*s[o-(0>r?1:0)].size,o+=r}return{index:o,lineN:n}}function _n(e,t,n){var r=e.display,i=r.view;0==i.length||t>=r.viewTo||n<=r.viewFrom?(r.view=yn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=yn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Cn(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(yn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Cn(e,n)))),r.viewTo=n}function An(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function En(e){e.display.pollingFast||e.display.poll.set(e.options.pollInterval,function(){Tn(e),e.state.focused&&En(e)})}function Ln(e){function t(){var r=Tn(e);r||n?(e.display.pollingFast=!1,En(e)):(n=!0,e.display.poll.set(60,t))}var n=!1;e.display.pollingFast=!0,e.display.poll.set(20,t)}function Tn(e){var t=e.display.input,n=e.display.prevInput,r=e.doc;if(!e.state.focused||ja(t)&&!n||On(e)||e.options.disableInput||e.state.keySeq)return!1;e.state.pasteIncoming&&e.state.fakedLastChar&&(t.value=t.value.substring(0,t.value.length-1),e.state.fakedLastChar=!1);var i=t.value;if(i==n&&!e.somethingSelected())return!1;if(is&&os>=9&&e.display.inputHasSelection===i||gs&&/[\uf700-\uf7ff]/.test(i))return Pn(e),!1;var o=!e.curOp;o&&on(e),e.display.shift=!1,8203!=i.charCodeAt(0)||r.sel!=e.display.selForContextMenu||n||(n="\u200b");for(var s=0,a=Math.min(n.length,i.length);a>s&&n.charCodeAt(s)==i.charCodeAt(s);)++s;var l=i.slice(s),u=Ra(l),c=null;e.state.pasteIncoming&&r.sel.ranges.length>1&&(Is&&Is.join("\n")==l?c=r.sel.ranges.length%Is.length==0&&So(Is,Ra):u.length==r.sel.ranges.length&&(c=So(u,function(e){return[e]})));for(var f=r.sel.ranges.length-1;f>=0;f--){var h=r.sel.ranges[f],p=h.from(),d=h.to();s<n.length?p=Cs(p.line,p.ch-(n.length-s)):e.state.overwrite&&h.empty()&&!e.state.pasteIncoming&&(d=Cs(d.line,Math.min(ji(r,d.line).text.length,d.ch+xo(u).length)));var m=e.curOp.updateInput,g={from:p,to:d,text:c?c[f%c.length]:u,origin:e.state.pasteIncoming?"paste":e.state.cutIncoming?"cut":"+input"};if(pr(e.doc,g),co(e,"inputRead",e,g),l&&!e.state.pasteIncoming&&e.options.electricChars&&e.options.smartIndent&&h.head.ch<100&&(!f||r.sel.ranges[f-1].head.line!=h.head.line)){var v=e.getModeAt(h.head),b=js(g);if(v.electricChars){for(var y=0;y<v.electricChars.length;y++)if(l.indexOf(v.electricChars.charAt(y))>-1){Er(e,b.line,"smart");break}}else v.electricInput&&v.electricInput.test(ji(r,b.line).text.slice(0,b.ch))&&Er(e,b.line,"smart")}}return _r(e),e.curOp.updateInput=m,e.curOp.typing=!0,i.length>1e3||i.indexOf("\n")>-1?t.value=e.display.prevInput="":e.display.prevInput=i,o&&an(e),e.state.pasteIncoming=e.state.cutIncoming=!1,!0}function Pn(e,t){if(!e.display.contextMenuPending){var n,r,i=e.doc;if(e.somethingSelected()){e.display.prevInput="";var o=i.sel.primary();n=$a&&(o.to().line-o.from().line>100||(r=e.getSelection()).length>1e3);var s=n?"-":r||e.getSelection();e.display.input.value=s,e.state.focused&&Aa(e.display.input),is&&os>=9&&(e.display.inputHasSelection=s)}else t||(e.display.prevInput=e.display.input.value="",is&&os>=9&&(e.display.inputHasSelection=null));e.display.inaccurateSelection=n}}function In(e){"nocursor"==e.options.readOnly||ms&&Oo()==e.display.input||e.display.input.focus()}function Mn(e){e.state.focused||(In(e),ir(e))}function On(e){return e.options.readOnly||e.doc.cantEdit}function zn(e){function t(t){ho(e,t)||da(t)}function n(t){if(e.somethingSelected())Is=e.getSelections(),r.inaccurateSelection&&(r.prevInput="",r.inaccurateSelection=!1,r.input.value=Is.join("\n"),Aa(r.input));else{for(var n=[],i=[],o=0;o<e.doc.sel.ranges.length;o++){var s=e.doc.sel.ranges[o].head.line,a={anchor:Cs(s,0),head:Cs(s+1,0)};i.push(a),n.push(e.getRange(a.anchor,a.head))}"cut"==t.type?e.setSelections(i,null,wa):(r.prevInput="",r.input.value=n.join("\n"),Aa(r.input)),Is=n}"cut"==t.type&&(e.state.cutIncoming=!0)}var r=e.display;ma(r.scroller,"mousedown",mn(e,jn)),is&&11>os?ma(r.scroller,"dblclick",mn(e,function(t){if(!ho(e,t)){var n=Rn(e,t);if(n&&!Bn(e,t)&&!Dn(e.display,t)){ha(t);var r=e.findWordAt(n);st(e.doc,r.anchor,r.head)}}})):ma(r.scroller,"dblclick",function(t){ho(e,t)||ha(t)}),ma(r.lineSpace,"selectstart",function(e){Dn(r,e)||ha(e)}),xs||ma(r.scroller,"contextmenu",function(t){sr(e,t)}),ma(r.scroller,"scroll",function(){r.scroller.clientHeight&&(Vn(e,r.scroller.scrollTop),Gn(e,r.scroller.scrollLeft,!0),va(e,"scroll",e))}),ma(r.scroller,"mousewheel",function(t){Kn(e,t)}),ma(r.scroller,"DOMMouseScroll",function(t){Kn(e,t)}),ma(r.wrapper,"scroll",function(){r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),ma(r.input,"keyup",function(t){nr.call(e,t)}),ma(r.input,"input",function(){is&&os>=9&&e.display.inputHasSelection&&(e.display.inputHasSelection=null),Tn(e)}),ma(r.input,"keydown",mn(e,er)),ma(r.input,"keypress",mn(e,rr)),ma(r.input,"focus",_o(ir,e)),ma(r.input,"blur",_o(or,e)),e.options.dragDrop&&(ma(r.scroller,"dragstart",function(t){Un(e,t)}),ma(r.scroller,"dragenter",t),ma(r.scroller,"dragover",t),ma(r.scroller,"drop",mn(e,qn))),ma(r.scroller,"paste",function(t){Dn(r,t)||(e.state.pasteIncoming=!0,In(e),Ln(e))}),ma(r.input,"paste",function(){if(ss&&!e.state.fakedLastChar&&!(new Date-e.state.lastMiddleDown<200)){var t=r.input.selectionStart,n=r.input.selectionEnd;r.input.value+="$",r.input.selectionEnd=n,r.input.selectionStart=t,e.state.fakedLastChar=!0}e.state.pasteIncoming=!0,Ln(e)}),ma(r.input,"cut",n),ma(r.input,"copy",n),fs&&ma(r.sizer,"mouseup",function(){Oo()==r.input&&r.input.blur(),In(e)})}function Nn(e){var t=e.display;(t.lastWrapHeight!=t.wrapper.clientHeight||t.lastWrapWidth!=t.wrapper.clientWidth)&&(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function Dn(e,t){for(var n=lo(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Rn(e,t,n,r){var i=e.display;if(!n&&"true"==lo(t).getAttribute("not-content"))return null;var o,s,a=i.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,s=t.clientY-a.top}catch(t){return null}var l,u=en(e,o,s);if(r&&1==u.xRel&&(l=ji(e.doc,u.line).text).length==u.ch){var c=ka(l,l.length,e.options.tabSize)-l.length;u=Cs(u.line,Math.max(0,Math.round((o-Pt(e.display).left)/rn(e.display))-c))}return u}function jn(e){if(!ho(this,e)){var t=this,n=t.display;if(n.shift=e.shiftKey,Dn(n,e))return void(ss||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Bn(t,e)){var r=Rn(t,e);switch(window.focus(),uo(e)){case 1:r?$n(t,e,r):lo(e)==n.scroller&&ha(e);break;case 2:ss&&(t.state.lastMiddleDown=+new Date),r&&st(t.doc,r),setTimeout(_o(In,t),20),ha(e);break;case 3:xs&&sr(t,e)}}}}function $n(e,t,n){setTimeout(_o(Mn,e),0);var r,i=+new Date;Es&&Es.time>i-400&&0==ks(Es.pos,n)?r="triple":As&&As.time>i-400&&0==ks(As.pos,n)?(r="double",Es={time:i,pos:n}):(r="single",As={time:i,pos:n});var o,s=e.doc.sel,a=gs?t.metaKey:t.ctrlKey;e.options.dragDrop&&Da&&!On(e)&&"single"==r&&(o=s.contains(n))>-1&&!s.ranges[o].empty()?Wn(e,t,n,a):Fn(e,t,n,r,a)}function Wn(e,t,n,r){var i=e.display,o=mn(e,function(s){ss&&(i.scroller.draggable=!1),e.state.draggingText=!1,ga(document,"mouseup",o),ga(i.scroller,"drop",o),Math.abs(t.clientX-s.clientX)+Math.abs(t.clientY-s.clientY)<10&&(ha(s),r||st(e.doc,n),In(e),is&&9==os&&setTimeout(function(){document.body.focus(),In(e)},20))});ss&&(i.scroller.draggable=!0),e.state.draggingText=o,i.scroller.dragDrop&&i.scroller.dragDrop(),ma(document,"mouseup",o),ma(i.scroller,"drop",o)}function Fn(e,t,n,r,i){function o(t){if(0!=ks(g,t))if(g=t,"rect"==r){for(var i=[],o=e.options.tabSize,s=ka(ji(u,n.line).text,n.ch,o),a=ka(ji(u,t.line).text,t.ch,o),l=Math.min(s,a),p=Math.max(s,a),d=Math.min(n.line,t.line),m=Math.min(e.lastLine(),Math.max(n.line,t.line));m>=d;d++){var v=ji(u,d).text,b=bo(v,l,o);l==p?i.push(new Q(Cs(d,b),Cs(d,b))):v.length>b&&i.push(new Q(Cs(d,b),Cs(d,bo(v,p,o))))}i.length||i.push(new Q(n,n)),ht(u,J(h.ranges.slice(0,f).concat(i),f),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var y=c,x=y.anchor,w=t;if("single"!=r){if("double"==r)var S=e.findWordAt(t);else var S=new Q(Cs(t.line,0),tt(u,Cs(t.line+1,0)));ks(S.anchor,x)>0?(w=S.head,x=Y(y.from(),S.anchor)):(w=S.anchor,x=K(y.to(),S.head))}var i=h.ranges.slice(0);i[f]=new Q(tt(u,x),w),ht(u,J(i,f),Sa)}}function s(t){var n=++b,i=Rn(e,t,!0,"rect"==r);if(i)if(0!=ks(i,g)){Mn(e),o(i);var a=x(l,u);(i.line>=a.to||i.line<a.from)&&setTimeout(mn(e,function(){b==n&&s(t)}),150)}else{var c=t.clientY<v.top?-20:t.clientY>v.bottom?20:0;c&&setTimeout(mn(e,function(){b==n&&(l.scroller.scrollTop+=c,s(t))}),50)}}function a(t){b=1/0,ha(t),In(e),ga(document,"mousemove",y),ga(document,"mouseup",w),u.history.lastSelOrigin=null}var l=e.display,u=e.doc;ha(t);var c,f,h=u.sel,p=h.ranges;if(i&&!t.shiftKey?(f=u.sel.contains(n),c=f>-1?p[f]:new Q(n,n)):c=u.sel.primary(),t.altKey)r="rect",i||(c=new Q(n,n)),n=Rn(e,t,!0,!0),f=-1;else if("double"==r){var d=e.findWordAt(n);c=e.display.shift||u.extend?ot(u,c,d.anchor,d.head):d}else if("triple"==r){var m=new Q(Cs(n.line,0),tt(u,Cs(n.line+1,0)));c=e.display.shift||u.extend?ot(u,c,m.anchor,m.head):m}else c=ot(u,c,n);i?-1==f?(f=p.length,ht(u,J(p.concat([c]),f),{scroll:!1,origin:"*mouse"})):p.length>1&&p[f].empty()&&"single"==r?(ht(u,J(p.slice(0,f).concat(p.slice(f+1)),0)),h=u.sel):lt(u,f,c,Sa):(f=0,ht(u,new X([c],0),Sa),h=u.sel);var g=n,v=l.wrapper.getBoundingClientRect(),b=0,y=mn(e,function(e){uo(e)?s(e):a(e)}),w=mn(e,a);ma(document,"mousemove",y),ma(document,"mouseup",w)}function Hn(e,t,n,r,i){try{var o=t.clientX,s=t.clientY}catch(t){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&ha(t);var a=e.display,l=a.lineDiv.getBoundingClientRect();if(s>l.bottom||!mo(e,n))return ao(t);s-=l.top-a.viewOffset;for(var u=0;u<e.options.gutters.length;++u){var c=a.gutters.childNodes[u];if(c&&c.getBoundingClientRect().right>=o){var f=Bi(e.doc,s),h=e.options.gutters[u];return i(e,n,e,f,h,t),ao(t)}}}function Bn(e,t){return Hn(e,t,"gutterClick",!0,co)}function qn(e){var t=this;if(!ho(t,e)&&!Dn(t.display,e)){ha(e),is&&(Ms=+new Date);var n=Rn(t,e,!0),r=e.dataTransfer.files;if(n&&!On(t))if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),s=0,a=function(e,r){var a=new FileReader;a.onload=mn(t,function(){if(o[r]=a.result,++s==i){n=tt(t.doc,n);var e={from:n,to:n,text:Ra(o.join("\n")),origin:"paste"};pr(t.doc,e),ft(t.doc,Z(n,js(e)))}}),a.readAsText(e)},l=0;i>l;++l)a(r[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(_o(In,t),20);try{var o=e.dataTransfer.getData("Text");if(o){if(t.state.draggingText&&!(gs?e.metaKey:e.ctrlKey))var u=t.listSelections();if(pt(t.doc,Z(n,n)),u)for(var l=0;l<u.length;++l)yr(t.doc,"",u[l].anchor,u[l].head,"drag");t.replaceSelection(o,"around","paste"),In(t)}}catch(e){}}}}function Un(e,t){if(is&&(!e.state.draggingText||+new Date-Ms<100))return void da(t);if(!ho(e,t)&&!Dn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.setDragImage&&!cs)){var n=To("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",us&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),us&&n.parentNode.removeChild(n)}}function Vn(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,ts||T(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),ts&&T(e),kt(e,100))}function Gn(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,w(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Kn(e,t){var n=Ns(t),r=n.x,i=n.y,o=e.display,s=o.scroller;if(r&&s.scrollWidth>s.clientWidth||i&&s.scrollHeight>s.clientHeight){if(i&&gs&&ss)e:for(var a=t.target,l=o.view;a!=s;a=a.parentNode)for(var u=0;u<l.length;u++)if(l[u].node==a){e.display.currentWheelTarget=a;break e}if(r&&!ts&&!us&&null!=zs)return i&&Vn(e,Math.max(0,Math.min(s.scrollTop+i*zs,s.scrollHeight-s.clientHeight))),Gn(e,Math.max(0,Math.min(s.scrollLeft+r*zs,s.scrollWidth-s.clientWidth))),ha(t),void(o.wheelStartX=null);if(i&&null!=zs){var c=i*zs,f=e.doc.scrollTop,h=f+o.wrapper.clientHeight;0>c?f=Math.max(0,f+c-50):h=Math.min(e.doc.height,h+c+50),T(e,{top:f,bottom:h})}20>Os&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=s.scrollLeft-o.wheelStartX,t=s.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(zs=(zs*Os+n)/(Os+1),++Os)}},200)):(o.wheelDX+=r,o.wheelDY+=i))}}function Yn(e,t,n){if("string"==typeof t&&(t=Ys[t],!t))return!1;e.display.pollingFast&&Tn(e)&&(e.display.pollingFast=!1);var r=e.display.shift,i=!1;try{On(e)&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=xa}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function Xn(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=Qs(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&Qs(t,e.options.extraKeys,n,e)||Qs(t,e.options.keyMap,n,e)}function Qn(e,t,n,r){var i=e.state.keySeq;if(i){if(Js(t))return"handled";Ds.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,Pn(e))}),t=i+" "+t}var o=Xn(e,t,r);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&co(e,"keyHandled",e,t,n),("handled"==o||"multi"==o)&&(ha(n),Ct(e)),i&&!o&&/\'$/.test(t)?(ha(n),!0):!!o}function Jn(e,t){var n=Zs(t,!0);return n?t.shiftKey&&!e.state.keySeq?Qn(e,"Shift-"+n,t,function(t){return Yn(e,t,!0)})||Qn(e,n,t,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?Yn(e,t):void 0}):Qn(e,n,t,function(t){return Yn(e,t)}):!1}function Zn(e,t,n){return Qn(e,"'"+n+"'",t,function(t){return Yn(e,t,!0)})}function er(e){var t=this;if(Mn(t),!ho(t,e)){is&&11>os&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=Jn(t,e);us&&(Rs=r?n:null,!r&&88==n&&!$a&&(gs?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||tr(t)}}function tr(e){function t(e){18!=e.keyCode&&e.altKey||(Oa(n,"CodeMirror-crosshair"),ga(document,"keyup",t),ga(document,"mouseover",t))}var n=e.display.lineDiv;za(n,"CodeMirror-crosshair"),ma(document,"keyup",t),ma(document,"mouseover",t)}function nr(e){16==e.keyCode&&(this.doc.sel.shift=!1),ho(this,e)}function rr(e){var t=this;if(!(ho(t,e)||e.ctrlKey&&!e.altKey||gs&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(us&&n==Rs)return Rs=null,void ha(e);if(!(us&&(!e.which||e.which<10)||fs)||!Jn(t,e)){var i=String.fromCharCode(null==r?n:r);Zn(t,e,i)||(is&&os>=9&&(t.display.inputHasSelection=null),Ln(t))}}}function ir(e){"nocursor"!=e.options.readOnly&&(e.state.focused||(va(e,"focus",e),e.state.focused=!0,za(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(Pn(e),ss&&setTimeout(_o(Pn,e,!0),0))),En(e),Ct(e))}function or(e){e.state.focused&&(va(e,"blur",e),e.state.focused=!1,Oa(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150)}function sr(e,t){function n(){if(null!=i.input.selectionStart){var t=e.somethingSelected(),n=i.input.value="\u200b"+(t?i.input.value:"");i.prevInput=t?"":"\u200b",i.input.selectionStart=1,i.input.selectionEnd=n.length,i.selForContextMenu=e.doc.sel}}function r(){if(i.contextMenuPending=!1,i.inputDiv.style.position="relative",i.input.style.cssText=l,is&&9>os&&i.scrollbars.setScrollTop(i.scroller.scrollTop=s),En(e),null!=i.input.selectionStart){(!is||is&&9>os)&&n();var t=0,r=function(){i.selForContextMenu==e.doc.sel&&0==i.input.selectionStart?mn(e,Ys.selectAll)(e):t++<10?i.detectingSelectAll=setTimeout(r,500):Pn(e)};i.detectingSelectAll=setTimeout(r,200)}}if(!ho(e,t,"contextmenu")){var i=e.display;if(!Dn(i,t)&&!ar(e,t)){var o=Rn(e,t),s=i.scroller.scrollTop;if(o&&!us){var a=e.options.resetSelectionOnContextMenu;a&&-1==e.doc.sel.contains(o)&&mn(e,ht)(e.doc,Z(o),wa);var l=i.input.style.cssText;if(i.inputDiv.style.position="absolute",i.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: "+(is?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",ss)var u=window.scrollY;if(In(e),ss&&window.scrollTo(null,u),Pn(e),e.somethingSelected()||(i.input.value=i.prevInput=" "),i.contextMenuPending=!0,i.selForContextMenu=e.doc.sel,clearTimeout(i.detectingSelectAll),is&&os>=9&&n(),xs){da(t);var c=function(){ga(window,"mouseup",c),setTimeout(r,20)};ma(window,"mouseup",c)}else setTimeout(r,50)}}}}function ar(e,t){return mo(e,"gutterContextMenu")?Hn(e,t,"gutterContextMenu",!1,va):!1}function lr(e,t){if(ks(e,t.from)<0)return e;if(ks(e,t.to)<=0)return js(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=js(t).ch-t.to.ch),Cs(n,r)}function ur(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new Q(lr(i.anchor,t),lr(i.head,t)))}return J(n,e.sel.primIndex)}function cr(e,t,n){return e.line==t.line?Cs(n.line,e.ch-t.ch+n.ch):Cs(n.line+(e.line-t.line),e.ch)}function fr(e,t,n){for(var r=[],i=Cs(e.first,0),o=i,s=0;s<t.length;s++){var a=t[s],l=cr(a.from,i,o),u=cr(js(a),i,o);if(i=a.to,o=u,"around"==n){var c=e.sel.ranges[s],f=ks(c.head,c.anchor)<0;r[s]=new Q(f?u:l,f?l:u)}else r[s]=new Q(l,l)}return new X(r,e.sel.primIndex)}function hr(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(r.update=function(t,n,r,i){t&&(this.from=tt(e,t)),n&&(this.to=tt(e,n)),r&&(this.text=r),void 0!==i&&(this.origin=i)}),va(e,"beforeChange",e,r),e.cm&&va(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function pr(e,t,n){if(e.cm){if(!e.cm.curOp)return mn(e.cm,pr)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(mo(e,"beforeChange")||e.cm&&mo(e.cm,"beforeChange"))||(t=hr(e,t,!0))){var r=ws&&!n&&Yr(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)dr(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text});else dr(e,t)}}function dr(e,t){if(1!=t.text.length||""!=t.text[0]||0!=ks(t.from,t.to)){var n=ur(e,t);Xi(e,t,n,e.cm?e.cm.curOp.id:0/0),vr(e,t,n,Vr(e,t));var r=[];Di(e,function(e,n){n||-1!=wo(r,e.history)||(so(e.history,t),r.push(e.history)),vr(e,t,null,Vr(e,t))})}}function mr(e,t,n){if(!e.cm||!e.cm.state.suppressEdits){for(var r,i=e.history,o=e.sel,s="undo"==t?i.done:i.undone,a="undo"==t?i.undone:i.done,l=0;l<s.length&&(r=s[l],n?!r.ranges||r.equals(e.sel):r.ranges);l++);if(l!=s.length){for(i.lastOrigin=i.lastSelOrigin=null;r=s.pop(),r.ranges;){if(Zi(r,a),n&&!r.equals(e.sel))return void ht(e,r,{clearRedo:!1});o=r}var u=[];Zi(o,a),a.push({changes:u,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var c=mo(e,"beforeChange")||e.cm&&mo(e.cm,"beforeChange"),l=r.changes.length-1;l>=0;--l){var f=r.changes[l];if(f.origin=t,c&&!hr(e,f,!1))return void(s.length=0);u.push(Gi(e,f));var h=l?ur(e,f):xo(s);vr(e,f,h,Kr(e,f)),!l&&e.cm&&e.cm.scrollIntoView({from:f.from,to:js(f)});var p=[];Di(e,function(e,t){t||-1!=wo(p,e.history)||(so(e.history,f),p.push(e.history)),vr(e,f,null,Kr(e,f))})}}}}function gr(e,t){if(0!=t&&(e.first+=t,e.sel=new X(So(e.sel.ranges,function(e){return new Q(Cs(e.anchor.line+t,e.anchor.ch),Cs(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){xn(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)wn(e.cm,r,"gutter")}}function vr(e,t,n,r){if(e.cm&&!e.cm.curOp)return mn(e.cm,vr)(e,t,n,r);if(t.to.line<e.first)return void gr(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);gr(e,i),t={from:Cs(e.first,0),to:Cs(t.to.line+i,t.to.ch),text:[xo(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:Cs(o,ji(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=$i(e,t.from,t.to),n||(n=ur(e,t)),e.cm?br(e.cm,t,r):Oi(e,t,r),pt(e,n,wa)}}function br(e,t,n){var r=e.doc,i=e.display,s=t.from,a=t.to,l=!1,u=s.line;e.options.lineWrapping||(u=Hi(oi(ji(r,s.line))),r.iter(u,a.line+1,function(e){return e==i.maxLine?(l=!0,!0):void 0})),r.sel.contains(t.from,t.to)>-1&&po(e),Oi(r,t,n,o(e)),e.options.lineWrapping||(r.iter(u,s.line+t.text.length,function(e){var t=f(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,s.line),kt(e,400);var c=t.text.length-(a.line-s.line)-1;t.full?xn(e):s.line!=a.line||1!=t.text.length||Mi(e.doc,t)?xn(e,s.line,a.line+1,c):wn(e,s.line,"text");var h=mo(e,"changes"),p=mo(e,"change");if(p||h){var d={from:s,to:a,text:t.text,removed:t.removed,origin:t.origin};p&&co(e,"change",e,d),h&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}function yr(e,t,n,r,i){if(r||(r=n),ks(r,n)<0){var o=r;r=n,n=o}"string"==typeof t&&(t=Ra(t)),pr(e,{from:n,to:r,text:t,origin:i})}function xr(e,t){if(!ho(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!ps){var o=To("div","\u200b",null,"position: absolute; top: "+(t.top-n.viewOffset-Lt(e.display))+"px; height: "+(t.bottom-t.top+It(e)+n.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}function wr(e,t,n,r){null==r&&(r=0);for(var i=0;5>i;i++){var o=!1,s=Qt(e,t),a=n&&n!=t?Qt(e,n):s,l=Cr(e,Math.min(s.left,a.left),Math.min(s.top,a.top)-r,Math.max(s.left,a.left),Math.max(s.bottom,a.bottom)+r),u=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=l.scrollTop&&(Vn(e,l.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(o=!0)),null!=l.scrollLeft&&(Gn(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(o=!0)),!o)break}return s}function Sr(e,t,n,r,i){var o=Cr(e,t,n,r,i);null!=o.scrollTop&&Vn(e,o.scrollTop),null!=o.scrollLeft&&Gn(e,o.scrollLeft)}function Cr(e,t,n,r,i){var o=e.display,s=nn(e.display);0>n&&(n=0);var a=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,l=Ot(e),u={};i-n>l&&(i=n+l);var c=e.doc.height+Tt(o),f=s>n,h=i>c-s;if(a>n)u.scrollTop=f?0:n;else if(i>a+l){var p=Math.min(n,(h?c:i)-l);p!=a&&(u.scrollTop=p)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,m=Mt(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),g=r-t>m;return g&&(r=t+m),10>t?u.scrollLeft=0:d>t?u.scrollLeft=Math.max(0,t-(g?0:10)):r>m+d-3&&(u.scrollLeft=r+(g?0:10)-m),u}function kr(e,t,n){(null!=t||null!=n)&&Ar(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function _r(e){Ar(e);var t=e.getCursor(),n=t,r=t;e.options.lineWrapping||(n=t.ch?Cs(t.line,t.ch-1):t,r=Cs(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:r,margin:e.options.cursorScrollMargin,isCursor:!0}}function Ar(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=Jt(e,t.from),r=Jt(e,t.to),i=Cr(e,Math.min(n.left,r.left),Math.min(n.top,r.top)-t.margin,Math.max(n.right,r.right),Math.max(n.bottom,r.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function Er(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=Et(e,t):n="prev");var s=e.options.tabSize,a=ji(o,t),l=ka(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var u,c=a.text.match(/^\s*/)[0];if(r||/\S/.test(a.text)){if("smart"==n&&(u=o.mode.indent(i,a.text.slice(c.length),a.text),u==xa||u>150)){if(!r)return;n="prev"}}else u=0,n="not";"prev"==n?u=t>o.first?ka(ji(o,t-1).text,null,s):0:"add"==n?u=l+e.options.indentUnit:"subtract"==n?u=l-e.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var f="",h=0;if(e.options.indentWithTabs)for(var p=Math.floor(u/s);p;--p)h+=s,f+="	";if(u>h&&(f+=yo(u-h)),f!=c)yr(o,f,Cs(t,0),Cs(t,c.length),"+input");else for(var p=0;p<o.sel.ranges.length;p++){var d=o.sel.ranges[p];if(d.head.line==t&&d.head.ch<c.length){var h=Cs(t,c.length);lt(o,p,new Q(h,h));break}}a.stateAfter=null}function Lr(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=ji(e,et(e,t)):i=Hi(t),null==i?null:(r(o,i)&&e.cm&&wn(e.cm,i,n),o)}function Tr(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&ks(o.from,xo(r).to)<=0;){var s=r.pop();if(ks(s.from,o.from)<0){o.from=s.from;break}}r.push(o)}dn(e,function(){for(var t=r.length-1;t>=0;t--)yr(e.doc,"",r[t].from,r[t].to,"+delete");_r(e)})}function Pr(e,t,n,r,i){function o(){var t=a+n;return t<e.first||t>=e.first+e.size?f=!1:(a=t,c=ji(e,t))}function s(e){var t=(i?Zo:es)(c,l,n,!0);if(null==t){if(e||!o())return f=!1;l=i?(0>n?Vo:Uo)(c):0>n?c.text.length:0}else l=t;return!0}var a=t.line,l=t.ch,u=n,c=ji(e,a),f=!0;if("char"==r)s();else if("column"==r)s(!0);else if("word"==r||"group"==r)for(var h=null,p="group"==r,d=e.cm&&e.cm.getHelper(t,"wordChars"),m=!0;!(0>n)||s(!m);m=!1){var g=c.text.charAt(l)||"\n",v=Ao(g,d)?"w":p&&"\n"==g?"n":!p||/\s/.test(g)?null:"p";if(!p||m||v||(v="s"),h&&h!=v){0>n&&(n=1,s());break}if(v&&(h=v),n>0&&!s(!m))break}var b=vt(e,Cs(a,l),u,!0);return f||(b.hitSide=!0),b}function Ir(e,t,n,r){var i,o=e.doc,s=t.left;if("page"==r){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=t.top+n*(a-(0>n?1.5:.5)*nn(e.display))}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;;){var l=en(e,s,i);if(!l.outside)break;if(0>n?0>=i:i>=o.height){l.hitSide=!0;break}i+=5*n}return l}function Mr(t,n,r,i){e.defaults[t]=n,r&&(Ws[t]=i?function(e,t,n){n!=Fs&&r(e,t,n)}:r)}function Or(e){for(var t,n,r,i,o=e.split(/-(?!$)/),e=o[o.length-1],s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function zr(e){return"string"==typeof e?Xs[e]:e}function Nr(e,t,n,r,i){if(r&&r.shared)return Dr(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return mn(e.cm,Nr)(e,t,n,r,i);var o=new ta(e,i),s=ks(t,n);if(r&&ko(r,o,!1),s>0||0==s&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=To("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(ii(e,t.line,t,n,o)||t.line!=n.line&&ii(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ss=!0}o.addToHistory&&Xi(e,{from:t,to:n,origin:"markText"},e.sel,0/0);var a,l=t.line,u=e.cm;if(e.iter(l,n.line+1,function(e){u&&o.collapsed&&!u.options.lineWrapping&&oi(e)==u.display.maxLine&&(a=!0),o.collapsed&&l!=t.line&&Fi(e,0),Br(e,new Wr(o,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&e.iter(t.line,n.line+1,function(t){ui(e,t)&&Fi(t,0)}),o.clearOnEnter&&ma(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(ws=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++na,o.atomic=!0),u){if(a&&(u.curOp.updateMaxLine=!0),o.collapsed)xn(u,t.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var c=t.line;c<=n.line;c++)wn(u,c,"text");o.atomic&&mt(u.doc),co(u,"markerAdded",u,o)
}return o}function Dr(e,t,n,r,i){r=ko(r),r.shared=!1;var o=[Nr(e,t,n,r,i)],s=o[0],a=r.widgetNode;return Di(e,function(e){a&&(r.widgetNode=a.cloneNode(!0)),o.push(Nr(e,tt(e,t),tt(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=xo(o)}),new ra(o,s)}function Rr(e){return e.findMarks(Cs(e.first,0),e.clipPos(Cs(e.lastLine())),function(e){return e.parent})}function jr(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),s=e.clipPos(i.to);if(ks(o,s)){var a=Nr(e,o,s,r.primary,r.primary.type);r.markers.push(a),a.parent=r}}}function $r(e){for(var t=0;t<e.length;t++){var n=e[t],r=[n.primary.doc];Di(n.primary.doc,function(e){r.push(e)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==wo(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}}}function Wr(e,t,n){this.marker=e,this.from=t,this.to=n}function Fr(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Hr(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Br(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function qr(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var o=e[i],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);if(a||o.from==t&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Wr(s,o.from,l?null:o.to))}}return r}function Ur(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var o=e[i],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);if(a||o.from==t&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Wr(s,l?null:o.from-t,null==o.to?null:o.to-t))}}return r}function Vr(e,t){if(t.full)return null;var n=rt(e,t.from.line)&&ji(e,t.from.line).markedSpans,r=rt(e,t.to.line)&&ji(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,s=0==ks(t.from,t.to),a=qr(n,i,s),l=Ur(r,o,s),u=1==t.text.length,c=xo(t.text).length+(u?i:0);if(a)for(var f=0;f<a.length;++f){var h=a[f];if(null==h.to){var p=Fr(l,h.marker);p?u&&(h.to=null==p.to?null:p.to+c):h.to=i}}if(l)for(var f=0;f<l.length;++f){var h=l[f];if(null!=h.to&&(h.to+=c),null==h.from){var p=Fr(a,h.marker);p||(h.from=c,u&&(a||(a=[])).push(h))}else h.from+=c,u&&(a||(a=[])).push(h)}a&&(a=Gr(a)),l&&l!=a&&(l=Gr(l));var d=[a];if(!u){var m,g=t.text.length-2;if(g>0&&a)for(var f=0;f<a.length;++f)null==a[f].to&&(m||(m=[])).push(new Wr(a[f].marker,null,null));for(var f=0;g>f;++f)d.push(m);d.push(l)}return d}function Gr(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function Kr(e,t){var n=no(e,t),r=Vr(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],s=r[i];if(o&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue e;o.push(l)}else s&&(n[i]=s)}return n}function Yr(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=wo(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var s=r[o],a=s.find(0),l=0;l<i.length;++l){var u=i[l];if(!(ks(u.to,a.from)<0||ks(u.from,a.to)>0)){var c=[l,1],f=ks(u.from,a.from),h=ks(u.to,a.to);(0>f||!s.inclusiveLeft&&!f)&&c.push({from:u.from,to:a.from}),(h>0||!s.inclusiveRight&&!h)&&c.push({from:a.to,to:u.to}),i.splice.apply(i,c),l+=c.length-1}}return i}function Xr(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Qr(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Jr(e){return e.inclusiveLeft?-1:0}function Zr(e){return e.inclusiveRight?1:0}function ei(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=ks(r.from,i.from)||Jr(e)-Jr(t);if(o)return-o;var s=ks(r.to,i.to)||Zr(e)-Zr(t);return s?s:t.id-e.id}function ti(e,t){var n,r=Ss&&e.markedSpans;if(r)for(var i,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!n||ei(n,i.marker)<0)&&(n=i.marker);return n}function ni(e){return ti(e,!0)}function ri(e){return ti(e,!1)}function ii(e,t,n,r,i){var o=ji(e,t),s=Ss&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var u=l.marker.find(0),c=ks(u.from,n)||Jr(l.marker)-Jr(i),f=ks(u.to,r)||Zr(l.marker)-Zr(i);if(!(c>=0&&0>=f||0>=c&&f>=0)&&(0>=c&&(ks(u.to,n)>0||l.marker.inclusiveRight&&i.inclusiveLeft)||c>=0&&(ks(u.from,r)<0||l.marker.inclusiveLeft&&i.inclusiveRight)))return!0}}}function oi(e){for(var t;t=ni(e);)e=t.find(-1,!0).line;return e}function si(e){for(var t,n;t=ri(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function ai(e,t){var n=ji(e,t),r=oi(n);return n==r?t:Hi(r)}function li(e,t){if(t>e.lastLine())return t;var n,r=ji(e,t);if(!ui(e,r))return t;for(;n=ri(r);)r=n.find(1,!0).line;return Hi(r)+1}function ui(e,t){var n=Ss&&t.markedSpans;if(n)for(var r,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&ci(e,t,r))return!0}}function ci(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return ci(e,r.line,Fr(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&ci(e,t,i))return!0}function fi(e,t,n){qi(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&kr(e,null,n)}function hi(e){if(null!=e.height)return e.height;if(!Mo(document.body,e.node)){var t="position: relative;";e.coverGutter&&(t+="margin-left: -"+e.cm.display.gutters.offsetWidth+"px;"),e.noHScroll&&(t+="width: "+e.cm.display.wrapper.clientWidth+"px;"),Io(e.cm.display.measure,To("div",[e.node],null,t))}return e.height=e.node.offsetHeight}function pi(e,t,n,r){var i=new ia(e,n,r);return i.noHScroll&&(e.display.alignWidgets=!0),Lr(e.doc,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,!ui(e.doc,t)){var r=qi(t)<e.doc.scrollTop;Fi(t,t.height+hi(i)),r&&kr(e,null,i.height),e.curOp.forceUpdate=!0}return!0}),i}function di(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Xr(e),Qr(e,n);var i=r?r(e):1;i!=e.height&&Fi(e,i)}function mi(e){e.parent=null,Xr(e)}function gi(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function vi(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var r=e.innerMode(t,n);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function bi(t,n,r,i){for(var o=0;10>o;o++){i&&(i[0]=e.innerMode(t,r).mode);var s=t.token(n,r);if(n.pos>n.start)return s}throw new Error("Mode "+t.name+" failed to advance stream.")}function yi(e,t,n,r){function i(e){return{start:f.start,end:f.pos,string:f.current(),type:o||null,state:e?Gs(s.mode,c):c}}var o,s=e.doc,a=s.mode;t=tt(s,t);var l,u=ji(s,t.line),c=Et(e,t.line,n),f=new ea(u.text,e.options.tabSize);for(r&&(l=[]);(r||f.pos<t.ch)&&!f.eol();)f.start=f.pos,o=bi(a,f,c),r&&l.push(i(!0));return r?l:i()}function xi(e,t,n,r,i,o,s){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,u=0,c=null,f=new ea(t,e.options.tabSize),h=e.options.addModeClass&&[null];for(""==t&&gi(vi(n,r),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(a=!1,s&&Ci(e,t,r,f.pos),f.pos=t.length,l=null):l=gi(bi(n,f,r,h),o),h){var p=h[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!a||c!=l){for(;u<f.start;)u=Math.min(f.start,u+5e4),i(u,c);c=l}f.start=f.pos}for(;u<f.pos;){var d=Math.min(f.pos,u+5e4);i(d,c),u=d}}function wi(e,t,n,r){var i=[e.state.modeGen],o={};xi(e,t.text,e.doc.mode,n,function(e,t){i.push(e,t)},o,r);for(var s=0;s<e.state.overlays.length;++s){var a=e.state.overlays[s],l=1,u=0;xi(e,t.text,a.mode,!0,function(e,t){for(var n=l;e>u;){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,u=Math.min(e,r)}if(t)if(a.opaque)i.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;l>n;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"cm-overlay "+t}},o)}return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Si(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=wi(e,t,t.stateAfter=Et(e,Hi(t)));t.styles=r.styles,r.classes?t.styleClasses=r.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function Ci(e,t,n,r){var i=e.doc.mode,o=new ea(t,e.options.tabSize);for(o.start=o.pos=r||0,""==t&&vi(i,n);!o.eol()&&o.pos<=e.options.maxHighlightLength;)bi(i,o,n),o.start=o.pos}function ki(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?aa:sa;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function _i(e,t){var n=To("span",null,null,ss?"padding-right: .1px":null),r={pre:To("pre",[n]),content:n,col:0,pos:0,cm:e};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o,s=i?t.rest[i-1]:t.line;r.pos=0,r.addToken=Ei,(is||ss)&&e.getOption("lineWrapping")&&(r.addToken=Li(r.addToken)),Wo(e.display.measure)&&(o=Ui(s))&&(r.addToken=Ti(r.addToken,o)),r.map=[];var a=t!=e.display.externalMeasured&&Hi(s);Ii(s,r,Si(e,s,a)),s.styleClasses&&(s.styleClasses.bgClass&&(r.bgClass=No(s.styleClasses.bgClass,r.bgClass||"")),s.styleClasses.textClass&&(r.textClass=No(s.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild($o(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return ss&&/\bcm-tab\b/.test(r.content.lastChild.className)&&(r.content.className="cm-tab-wrap-hack"),va(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=No(r.pre.className,r.textClass||"")),r}function Ai(e){var t=To("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t}function Ei(e,t,n,r,i,o,s){if(t){var a=e.cm.options.specialChars,l=!1;if(a.test(t))for(var u=document.createDocumentFragment(),c=0;;){a.lastIndex=c;var f=a.exec(t),h=f?f.index-c:t.length-c;if(h){var p=document.createTextNode(t.slice(c,c+h));u.appendChild(is&&9>os?To("span",[p]):p),e.map.push(e.pos,e.pos+h,p),e.col+=h,e.pos+=h}if(!f)break;if(c+=h+1,"	"==f[0]){var d=e.cm.options.tabSize,m=d-e.col%d,p=u.appendChild(To("span",yo(m),"cm-tab"));e.col+=m}else{var p=e.cm.options.specialCharPlaceholder(f[0]);u.appendChild(is&&9>os?To("span",[p]):p),e.col+=1}e.map.push(e.pos,e.pos+1,p),e.pos++}else{e.col+=t.length;var u=document.createTextNode(t);e.map.push(e.pos,e.pos+t.length,u),is&&9>os&&(l=!0),e.pos+=t.length}if(n||r||i||l||s){var g=n||"";r&&(g+=r),i&&(g+=i);var v=To("span",[u],g,s);return o&&(v.title=o),e.content.appendChild(v)}e.content.appendChild(u)}}function Li(e){function t(e){for(var t=" ",n=0;n<e.length-2;++n)t+=n%2?" ":"\xa0";return t+=" "}return function(n,r,i,o,s,a){e(n,r.replace(/ {3,}/g,t),i,o,s,a)}}function Ti(e,t){return function(n,r,i,o,s,a){i=i?i+" cm-force-border":"cm-force-border";for(var l=n.pos,u=l+r.length;;){for(var c=0;c<t.length;c++){var f=t[c];if(f.to>l&&f.from<=l)break}if(f.to>=u)return e(n,r,i,o,s,a);e(n,r.slice(0,f.to-l),i,o,null,a),o=null,r=r.slice(f.to-l),l=f.to}}}function Pi(e,t,n,r){var i=!r&&n.widgetNode;i&&(e.map.push(e.pos,e.pos+t,i),e.content.appendChild(i)),e.pos+=t}function Ii(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var s,a,l,u,c,f,h,p=i.length,d=0,m=1,g="",v=0;;){if(v==d){l=u=c=f=a="",h=null,v=1/0;for(var b=[],y=0;y<r.length;++y){var x=r[y],w=x.marker;x.from<=d&&(null==x.to||x.to>d)?(null!=x.to&&v>x.to&&(v=x.to,u=""),w.className&&(l+=" "+w.className),w.css&&(a=w.css),w.startStyle&&x.from==d&&(c+=" "+w.startStyle),w.endStyle&&x.to==v&&(u+=" "+w.endStyle),w.title&&!f&&(f=w.title),w.collapsed&&(!h||ei(h.marker,w)<0)&&(h=x)):x.from>d&&v>x.from&&(v=x.from),"bookmark"==w.type&&x.from==d&&w.widgetNode&&b.push(w)}if(h&&(h.from||0)==d&&(Pi(t,(null==h.to?p+1:h.to)-d,h.marker,null==h.from),null==h.to))return;if(!h&&b.length)for(var y=0;y<b.length;++y)Pi(t,0,b[y])}if(d>=p)break;for(var S=Math.min(p,v);;){if(g){var C=d+g.length;if(!h){var k=C>S?g.slice(0,S-d):g;t.addToken(t,k,s?s+l:l,c,d+k.length==v?u:"",f,a)}if(C>=S){g=g.slice(S-d),d=S;break}d=C,c=""}g=i.slice(o,o=n[m++]),s=ki(n[m++],t.cm.options)}}else for(var m=1;m<n.length;m+=2)t.addToken(t,i.slice(o,o=n[m]),ki(n[m+1],t.cm.options))}function Mi(e,t){return 0==t.from.ch&&0==t.to.ch&&""==xo(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Oi(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){di(e,n,i,r),co(e,"change",e,t)}function s(e,t){for(var n=e,o=[];t>n;++n)o.push(new oa(u[n],i(n),r));return o}var a=t.from,l=t.to,u=t.text,c=ji(e,a.line),f=ji(e,l.line),h=xo(u),p=i(u.length-1),d=l.line-a.line;if(t.full)e.insert(0,s(0,u.length)),e.remove(u.length,e.size-u.length);else if(Mi(e,t)){var m=s(0,u.length-1);o(f,f.text,p),d&&e.remove(a.line,d),m.length&&e.insert(a.line,m)}else if(c==f)if(1==u.length)o(c,c.text.slice(0,a.ch)+h+c.text.slice(l.ch),p);else{var m=s(1,u.length-1);m.push(new oa(h+c.text.slice(l.ch),p,r)),o(c,c.text.slice(0,a.ch)+u[0],i(0)),e.insert(a.line+1,m)}else if(1==u.length)o(c,c.text.slice(0,a.ch)+u[0]+f.text.slice(l.ch),i(0)),e.remove(a.line+1,d);else{o(c,c.text.slice(0,a.ch)+u[0],i(0)),o(f,h+f.text.slice(l.ch),p);var m=s(1,u.length-1);d>1&&e.remove(a.line+1,d-1),e.insert(a.line+1,m)}co(e,"change",e,t)}function zi(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function Ni(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}function Di(e,t,n){function r(e,i,o){if(e.linked)for(var s=0;s<e.linked.length;++s){var a=e.linked[s];if(a.doc!=i){var l=o&&a.sharedHist;(!n||l)&&(t(a.doc,l),r(a.doc,e,l))}}}r(e,null,!0)}function Ri(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,s(e),n(e),e.options.lineWrapping||h(e),e.options.mode=t.modeOption,xn(e)}function ji(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(o>t){n=i;break}t-=o}return n.lines[t]}function $i(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i}),r}function Wi(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function Fi(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function Hi(e){if(null==e.parent)return null;for(var t=e.parent,n=wo(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function Bi(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(o>t){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var r=0;r<e.lines.length;++r){var s=e.lines[r],a=s.height;if(a>t)break;t-=a}return n+r}function qi(e){e=oi(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var r=0;r<o.children.length;++r){var s=o.children[r];if(s==n)break;t+=s.height}return t}function Ui(e){var t=e.order;return null==t&&(t=e.order=Ba(e.text)),t}function Vi(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Gi(e,t){var n={from:G(t.from),to:js(t),text:$i(e,t.from,t.to)};return eo(e,n,t.from.line,t.to.line+1),Di(e,function(e){eo(e,n,t.from.line,t.to.line+1)},!0),n}function Ki(e){for(;e.length;){var t=xo(e);if(!t.ranges)break;e.pop()}}function Yi(e,t){return t?(Ki(e.done),xo(e.done)):e.done.length&&!xo(e.done).ranges?xo(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),xo(e.done)):void 0}function Xi(e,t,n,r){var i=e.history;i.undone.length=0;var o,s=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=Yi(i,i.lastOp==r))){var a=xo(o.changes);0==ks(t.from,t.to)&&0==ks(t.from,a.to)?a.to=js(t):o.changes.push(Gi(e,t))}else{var l=xo(i.done);for(l&&l.ranges||Zi(e.sel,i.done),o={changes:[Gi(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,a||va(e,"historyAdded")}function Qi(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Ji(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||Qi(e,o,xo(i.done),t))?i.done[i.done.length-1]=t:Zi(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&r.clearRedo!==!1&&Ki(i.undone)}function Zi(e,t){var n=xo(t);n&&n.ranges&&n.equals(e)||t.push(e)}function eo(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function to(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function no(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=0,i=[];r<t.text.length;++r)i.push(to(n[r]));return i}function ro(e,t,n){for(var r=0,i=[];r<e.length;++r){var o=e[r];if(o.ranges)i.push(n?X.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];i.push({changes:a});for(var l=0;l<s.length;++l){var u,c=s[l];if(a.push({from:c.from,to:c.to,text:c.text}),t)for(var f in c)(u=f.match(/^spans_(\d+)$/))&&wo(t,Number(u[1]))>-1&&(xo(a)[f]=c[f],delete c[f])}}}return i}function io(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function oo(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],s=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var a=0;a<o.ranges.length;a++)io(o.ranges[a].anchor,t,n,r),io(o.ranges[a].head,t,n,r)}else{for(var a=0;a<o.changes.length;++a){var l=o.changes[a];if(n<l.from.line)l.from=Cs(l.from.line+r,l.from.ch),l.to=Cs(l.to.line+r,l.to.ch);else if(t<=l.to.line){s=!1;break}}s||(e.splice(0,i+1),i=0)}}}function so(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;oo(e.done,n,r,i),oo(e.undone,n,r,i)}function ao(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function lo(e){return e.target||e.srcElement}function uo(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),gs&&e.ctrlKey&&1==t&&(t=3),t}function co(e,t){function n(e){return function(){e.apply(null,o)}}var r=e._handlers&&e._handlers[t];if(r){var i,o=Array.prototype.slice.call(arguments,2);Ts?i=Ts.delayedCallbacks:ba?i=ba:(i=ba=[],setTimeout(fo,0));for(var s=0;s<r.length;++s)i.push(n(r[s]))}}function fo(){var e=ba;ba=null;for(var t=0;t<e.length;++t)e[t]()}function ho(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),va(e,n||t.type,e,t),ao(t)||t.codemirrorIgnore}function po(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==wo(n,t[r])&&n.push(t[r])}function mo(e,t){var n=e._handlers&&e._handlers[t];return n&&n.length>0}function go(e){e.prototype.on=function(e,t){ma(this,e,t)},e.prototype.off=function(e,t){ga(this,e,t)}}function vo(){this.id=null}function bo(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("	",r);-1==o&&(o=e.length);var s=o-r;if(o==e.length||i+s>=t)return r+Math.min(s,t-i);if(i+=o-r,i+=n-i%n,r=o+1,i>=t)return r}}function yo(e){for(;_a.length<=e;)_a.push(xo(_a)+" ");return _a[e]}function xo(e){return e[e.length-1]}function wo(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function So(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function Co(e,t){var n;if(Object.create)n=Object.create(e);else{var r=function(){};r.prototype=e,n=new r}return t&&ko(t,n),n}function ko(e,t,n){t||(t={});for(var r in e)!e.hasOwnProperty(r)||n===!1&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function _o(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Ao(e,t){return t?t.source.indexOf("\\w")>-1&&Ta(e)?!0:t.test(e):Ta(e)}function Eo(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function Lo(e){return e.charCodeAt(0)>=768&&Pa.test(e)}function To(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function Po(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Io(e,t){return Po(e).appendChild(t)}function Mo(e,t){if(e.contains)return e.contains(t);for(;t=t.parentNode;)if(t==e)return!0}function Oo(){return document.activeElement}function zo(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function No(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!zo(n[r]).test(t)&&(t+=" "+n[r]);return t}function Do(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}function Ro(){Na||(jo(),Na=!0)}function jo(){var e;ma(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Do(Nn)},100))}),ma(window,"blur",function(){Do(or)})}function $o(e){if(null==Ia){var t=To("span","\u200b");Io(e,To("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ia=t.offsetWidth<=1&&t.offsetHeight>2&&!(is&&8>os))}return Ia?To("span","\u200b"):To("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px")}function Wo(e){if(null!=Ma)return Ma;var t=Io(e,document.createTextNode("A\u062eA")),n=Ea(t,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var r=Ea(t,1,2).getBoundingClientRect();return Ma=r.right-n.right<3}function Fo(e){if(null!=Wa)return Wa;var t=Io(e,To("span","x")),n=t.getBoundingClientRect(),r=Ea(t,0,1).getBoundingClientRect();return Wa=Math.abs(n.left-r.left)>1}function Ho(e,t,n,r){if(!e)return r(t,n,"ltr");for(var i=!1,o=0;o<e.length;++o){var s=e[o];(s.from<n&&s.to>t||t==n&&s.to==t)&&(r(Math.max(s.from,t),Math.min(s.to,n),1==s.level?"rtl":"ltr"),i=!0)}i||r(t,n,"ltr")}function Bo(e){return e.level%2?e.to:e.from}function qo(e){return e.level%2?e.from:e.to}function Uo(e){var t=Ui(e);return t?Bo(t[0]):0}function Vo(e){var t=Ui(e);return t?qo(xo(t)):e.text.length}function Go(e,t){var n=ji(e.doc,t),r=oi(n);r!=n&&(t=Hi(r));var i=Ui(r),o=i?i[0].level%2?Vo(r):Uo(r):0;return Cs(t,o)}function Ko(e,t){for(var n,r=ji(e.doc,t);n=ri(r);)r=n.find(1,!0).line,t=null;var i=Ui(r),o=i?i[0].level%2?Uo(r):Vo(r):r.text.length;return Cs(null==t?Hi(r):t,o)}function Yo(e,t){var n=Go(e,t.line),r=ji(e.doc,n.line),i=Ui(r);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),s=t.line==n.line&&t.ch<=o&&t.ch;return Cs(n.line,s?0:o)}return n}function Xo(e,t,n){var r=e[0].level;return t==r?!0:n==r?!1:n>t}function Qo(e,t){Ha=null;for(var n,r=0;r<e.length;++r){var i=e[r];if(i.from<t&&i.to>t)return r;if(i.from==t||i.to==t){if(null!=n)return Xo(e,i.level,e[n].level)?(i.from!=i.to&&(Ha=n),r):(i.from!=i.to&&(Ha=r),n);n=r}}return n}function Jo(e,t,n,r){if(!r)return t+n;do t+=n;while(t>0&&Lo(e.text.charAt(t)));return t}function Zo(e,t,n,r){var i=Ui(e);if(!i)return es(e,t,n,r);for(var o=Qo(i,t),s=i[o],a=Jo(e,t,s.level%2?-n:n,r);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to)return Qo(i,a)==o?a:(s=i[o+=n],n>0==s.level%2?s.to:s.from);if(s=i[o+=n],!s)return null;a=n>0==s.level%2?Jo(e,s.to,-1,r):Jo(e,s.from,1,r)}}function es(e,t,n,r){var i=t+n;if(r)for(;i>0&&Lo(e.text.charAt(i));)i+=n;return 0>i||i>e.text.length?null:i}var ts=/gecko\/\d/i.test(navigator.userAgent),ns=/MSIE \d/.test(navigator.userAgent),rs=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),is=ns||rs,os=is&&(ns?document.documentMode||6:rs[1]),ss=/WebKit\//.test(navigator.userAgent),as=ss&&/Qt\/\d+\.\d+/.test(navigator.userAgent),ls=/Chrome\//.test(navigator.userAgent),us=/Opera\//.test(navigator.userAgent),cs=/Apple Computer/.test(navigator.vendor),fs=/KHTML\//.test(navigator.userAgent),hs=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),ps=/PhantomJS/.test(navigator.userAgent),ds=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),ms=ds||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),gs=ds||/Mac/.test(navigator.platform),vs=/win/i.test(navigator.platform),bs=us&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);bs&&(bs=Number(bs[1])),bs&&bs>=15&&(us=!1,ss=!0);var ys=gs&&(as||us&&(null==bs||12.11>bs)),xs=ts||is&&os>=9,ws=!1,Ss=!1;m.prototype=ko({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedOverlay&&e.clientHeight>0&&(0==r&&this.overlayHack(),this.checkedOverlay=!0),{right:n?r:0,bottom:t?r:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e)},overlayHack:function(){var e=gs&&!hs?"12px":"18px";this.horiz.style.minHeight=this.vert.style.minWidth=e;var t=this,n=function(e){lo(e)!=t.vert&&lo(e)!=t.horiz&&mn(t.cm,jn)(e)};ma(this.vert,"mousedown",n),ma(this.horiz,"mousedown",n)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},m.prototype),g.prototype=ko({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},g.prototype),e.scrollbarModel={"native":m,"null":g};var Cs=e.Pos=function(e,t){return this instanceof Cs?(this.line=e,void(this.ch=t)):new Cs(e,t)},ks=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch};X.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(0!=ks(n.anchor,r.anchor)||0!=ks(n.head,r.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Q(G(this.ranges[t].anchor),G(this.ranges[t].head));return new X(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(ks(t,r.from())>=0&&ks(e,r.to())<=0)return n}return-1}},Q.prototype={from:function(){return Y(this.anchor,this.head)},to:function(){return K(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var _s,As,Es,Ls={left:0,right:0,top:0,bottom:0},Ts=null,Ps=0,Is=null,Ms=0,Os=0,zs=null;is?zs=-.53:ts?zs=15:ls?zs=-.7:cs&&(zs=-1/3);var Ns=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}};e.wheelEventPixels=function(e){var t=Ns(e);return t.x*=zs,t.y*=zs,t};var Ds=new vo,Rs=null,js=e.changeEnd=function(e){return e.text?Cs(e.from.line+e.text.length-1,xo(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),In(this),Ln(this)},setOption:function(e,t){var n=this.options,r=n[e];(n[e]!=t||"mode"==e)&&(n[e]=t,Ws.hasOwnProperty(e)&&mn(this,Ws[e])(this,t,r))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](zr(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:gn(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:t,opaque:n&&n.opaque}),this.state.modeGen++,xn(this)}),removeOverlay:gn(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void xn(this)}}),indentLine:gn(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),rt(this.doc,e)&&Er(this,e,t,n)}),indentSelection:gn(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(Er(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&_r(this));else{var o=i.from(),s=i.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;n>l;++l)Er(this,l,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[r].from().ch>0&&lt(this.doc,r,new Q(o,u[r].to()),wa)}}}),getTokenAt:function(e,t){return yi(this,e,t)},getLineTokens:function(e,t){return yi(this,Cs(e),t,!0)},getTokenTypeAt:function(e){e=tt(this.doc,e);var t,n=Si(this,ji(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var s=r+i>>1;if((s?n[2*s-1]:0)>=o)i=s;else{if(!(n[2*s+1]<o)){t=n[2*s+2];break}r=s+1}}var a=t?t.indexOf("cm-overlay "):-1;return 0>a?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!Vs.hasOwnProperty(t))return Vs;var r=Vs[t],i=this.getModeAt(e);if("string"==typeof i[t])r[i[t]]&&n.push(r[i[t]]);else if(i[t])for(var o=0;o<i[t].length;o++){var s=r[i[t][o]];s&&n.push(s)}else i.helperType&&r[i.helperType]?n.push(r[i.helperType]):r[i.name]&&n.push(r[i.name]);for(var o=0;o<r._global.length;o++){var a=r._global[o];a.pred(i,this)&&-1==wo(n,a.val)&&n.push(a.val)}return n},getStateAfter:function(e,t){var n=this.doc;return e=et(n,null==e?n.first+n.size-1:e),Et(this,e+1,t)},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?tt(this.doc,e):e?r.from():r.to(),Qt(this,n,t||"page")},charCoords:function(e,t){return Xt(this,tt(this.doc,e),t||"page")},coordsChar:function(e,t){return e=Yt(this,e,t||"page"),en(this,e.left,e.top)},lineAtHeight:function(e,t){return e=Yt(this,{top:e,left:0},t||"page").top,Bi(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n=!1,r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>r&&(e=r,n=!0);var i=ji(this.doc,e);return Kt(this,i,{top:0,left:0},t||"page").top+(n?this.doc.height-qi(i):0)},defaultTextHeight:function(){return nn(this.display)},defaultCharWidth:function(){return rn(this.display)},setGutterMarker:gn(function(e,t,n){return Lr(this.doc,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&Eo(r)&&(e.gutterMarkers=null),!0})}),clearGutter:gn(function(e){var t=this,n=t.doc,r=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,wn(t,r,"gutter"),Eo(n.gutterMarkers)&&(n.gutterMarkers=null)),++r})}),addLineWidget:gn(function(e,t,n){return pi(this,e,t,n)}),removeLineWidget:function(e){e.clear()},lineInfo:function(e){if("number"==typeof e){if(!rt(this.doc,e))return null;var t=e;if(e=ji(this.doc,e),!e)return null}else{var t=Hi(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display;
e=Qt(this,tt(this.doc,e));var s=e.bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),o.sizer.appendChild(t),"over"==r)s=e.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(s=e.bottom),a+t.offsetWidth>u&&(a=u-t.offsetWidth)}t.style.top=s+"px",t.style.left=t.style.right="","right"==i?(a=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?a=0:"middle"==i&&(a=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),n&&Sr(this,a,s,a+t.offsetWidth,s+t.offsetHeight)},triggerOnKeyDown:gn(er),triggerOnKeyPress:gn(rr),triggerOnKeyUp:nr,execCommand:function(e){return Ys.hasOwnProperty(e)?Ys[e](this):void 0},findPosH:function(e,t,n,r){var i=1;0>t&&(i=-1,t=-t);for(var o=0,s=tt(this.doc,e);t>o&&(s=Pr(this.doc,s,i,n,r),!s.hitSide);++o);return s},moveH:gn(function(e,t){var n=this;n.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?Pr(n.doc,r.head,e,t,n.options.rtlMoveVisually):0>e?r.from():r.to()},Ca)}),deleteH:gn(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Tr(this,function(n){var i=Pr(r,n.head,e,t,!1);return 0>e?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=1,o=r;0>t&&(i=-1,t=-t);for(var s=0,a=tt(this.doc,e);t>s;++s){var l=Qt(this,a,"div");if(null==o?o=l.left:l.left=o,a=Ir(this,l,i,n),a.hitSide)break}return a},moveV:gn(function(e,t){var n=this,r=this.doc,i=[],o=!n.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(s){if(o)return 0>e?s.from():s.to();var a=Qt(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),i.push(a.left);var l=Ir(n,a,e,t);return"page"==t&&s==r.sel.primary()&&kr(n,null,Xt(n,l,"div").top-a.top),l},Ca),i.length)for(var s=0;s<r.sel.ranges.length;s++)r.sel.ranges[s].goalColumn=i[s]}),findWordAt:function(e){var t=this.doc,n=ji(t,e.line).text,r=e.ch,i=e.ch;if(n){var o=this.getHelper(e,"wordChars");(e.xRel<0||i==n.length)&&r?--r:++i;for(var s=n.charAt(r),a=Ao(s,o)?function(e){return Ao(e,o)}:/\s/.test(s)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Ao(e)};r>0&&a(n.charAt(r-1));)--r;for(;i<n.length&&a(n.charAt(i));)++i}return new Q(Cs(e.line,r),Cs(e.line,i))},toggleOverwrite:function(e){(null==e||e!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?za(this.display.cursorDiv,"CodeMirror-overwrite"):Oa(this.display.cursorDiv,"CodeMirror-overwrite"),va(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return Oo()==this.display.input},scrollTo:gn(function(e,t){(null!=e||null!=t)&&Ar(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-It(this)-this.display.barHeight,width:e.scrollWidth-It(this)-this.display.barWidth,clientHeight:Ot(this),clientWidth:Mt(this)}},scrollIntoView:gn(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Cs(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Ar(this),this.curOp.scrollToPos=e;else{var n=Cr(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:gn(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var r=this;null!=e&&(r.display.wrapper.style.width=n(e)),null!=t&&(r.display.wrapper.style.height=n(t)),r.options.lineWrapping&&qt(this);var i=r.display.viewFrom;r.doc.iter(i,r.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){wn(r,i,"widget");break}++i}),r.curOp.forceUpdate=!0,va(r,"refresh",this)}),operation:function(e){return dn(this,e)},refresh:gn(function(){var e=this.display.cachedTextHeight;xn(this),this.curOp.forceUpdate=!0,Ut(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),c(this),(null==e||Math.abs(e-nn(this.display))>.5)&&s(this),va(this,"refresh",this)}),swapDoc:gn(function(e){var t=this.doc;return t.cm=null,Ri(this,e),Ut(this),Pn(this),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,co(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},go(e);var $s=e.defaults={},Ws=e.optionHandlers={},Fs=e.Init={toString:function(){return"CodeMirror.Init"}};Mr("value","",function(e,t){e.setValue(t)},!0),Mr("mode",null,function(e,t){e.doc.modeOption=t,n(e)},!0),Mr("indentUnit",2,n,!0),Mr("indentWithTabs",!1),Mr("smartIndent",!0),Mr("tabSize",4,function(e){r(e),Ut(e),xn(e)},!0),Mr("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t){e.options.specialChars=new RegExp(t.source+(t.test("	")?"":"|	"),"g"),e.refresh()},!0),Mr("specialCharPlaceholder",Ai,function(e){e.refresh()},!0),Mr("electricChars",!0),Mr("rtlMoveVisually",!vs),Mr("wholeLineUpdateBefore",!0),Mr("theme","default",function(e){a(e),l(e)},!0),Mr("keyMap","default",function(t,n,r){var i=zr(n),o=r!=e.Init&&zr(r);o&&o.detach&&o.detach(t,i),i.attach&&i.attach(t,o||null)}),Mr("extraKeys",null),Mr("lineWrapping",!1,i,!0),Mr("gutters",[],function(e){p(e.options),l(e)},!0),Mr("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?k(e.display)+"px":"0",e.refresh()},!0),Mr("coverGutterNextToScrollbar",!1,function(e){b(e)},!0),Mr("scrollbarStyle","native",function(e){v(e),b(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),Mr("lineNumbers",!1,function(e){p(e.options),l(e)},!0),Mr("firstLineNumber",1,l,!0),Mr("lineNumberFormatter",function(e){return e},l,!0),Mr("showCursorWhenSelecting",!1,xt,!0),Mr("resetSelectionOnContextMenu",!0),Mr("readOnly",!1,function(e,t){"nocursor"==t?(or(e),e.display.input.blur(),e.display.disabled=!0):(e.display.disabled=!1,t||Pn(e))}),Mr("disableInput",!1,function(e,t){t||Pn(e)},!0),Mr("dragDrop",!0),Mr("cursorBlinkRate",530),Mr("cursorScrollMargin",0),Mr("cursorHeight",1,xt,!0),Mr("singleCursorHeightPerLine",!0,xt,!0),Mr("workTime",100),Mr("workDelay",100),Mr("flattenSpans",!0,r,!0),Mr("addModeClass",!1,r,!0),Mr("pollInterval",100),Mr("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),Mr("historyEventDelay",1250),Mr("viewportMargin",10,function(e){e.refresh()},!0),Mr("maxHighlightLength",1e4,r,!0),Mr("moveInputWithCursor",!0,function(e,t){t||(e.display.inputDiv.style.top=e.display.inputDiv.style.left=0)}),Mr("tabindex",null,function(e,t){e.display.input.tabIndex=t||""}),Mr("autofocus",null);var Hs=e.modes={},Bs=e.mimeModes={};e.defineMode=function(t,n){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),Hs[t]=n},e.defineMIME=function(e,t){Bs[e]=t},e.resolveMode=function(t){if("string"==typeof t&&Bs.hasOwnProperty(t))t=Bs[t];else if(t&&"string"==typeof t.name&&Bs.hasOwnProperty(t.name)){var n=Bs[t.name];"string"==typeof n&&(n={name:n}),t=Co(n,t),t.name=n.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){var n=e.resolveMode(n),r=Hs[n.name];if(!r)return e.getMode(t,"text/plain");var i=r(t,n);if(qs.hasOwnProperty(n.name)){var o=qs[n.name];for(var s in o)o.hasOwnProperty(s)&&(i.hasOwnProperty(s)&&(i["_"+s]=i[s]),i[s]=o[s])}if(i.name=n.name,n.helperType&&(i.helperType=n.helperType),n.modeProps)for(var s in n.modeProps)i[s]=n.modeProps[s];return i},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var qs=e.modeExtensions={};e.extendMode=function(e,t){var n=qs.hasOwnProperty(e)?qs[e]:qs[e]={};ko(t,n)},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineDocExtension=function(e,t){ua.prototype[e]=t},e.defineOption=Mr;var Us=[];e.defineInitHook=function(e){Us.push(e)};var Vs=e.helpers={};e.registerHelper=function(t,n,r){Vs.hasOwnProperty(t)||(Vs[t]=e[t]={_global:[]}),Vs[t][n]=r},e.registerGlobalHelper=function(t,n,r,i){e.registerHelper(t,n,i),Vs[t]._global.push({pred:r,val:i})};var Gs=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n},Ks=e.startState=function(e,t,n){return e.startState?e.startState(t,n):!0};e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var Ys=e.commands={selectAll:function(e){e.setSelection(Cs(e.firstLine(),0),Cs(e.lastLine()),wa)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),wa)},killLine:function(e){Tr(e,function(t){if(t.empty()){var n=ji(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:Cs(t.head.line+1,0)}:{from:t.head,to:Cs(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){Tr(e,function(t){return{from:Cs(t.from().line,0),to:tt(e.doc,Cs(t.to().line+1,0))}})},delLineLeft:function(e){Tr(e,function(e){return{from:Cs(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){Tr(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){Tr(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(Cs(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(Cs(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return Go(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return Yo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return Ko(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Ca)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Ca)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?Yo(e,t.head):r},Ca)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),s=ka(e.getLine(o.line),o.ch,r);t.push(new Array(r-s%r+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){dn(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var i=t[r].head,o=ji(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new Cs(i.line,i.ch-1)),i.ch>0)i=new Cs(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),Cs(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var s=ji(e.doc,i.line-1).text;s&&e.replaceRange(o.charAt(0)+"\n"+s.charAt(s.length-1),Cs(i.line-1,s.length-1),Cs(i.line,1),"+transpose")}n.push(new Q(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){dn(e,function(){for(var t=e.listSelections().length,n=0;t>n;n++){var r=e.listSelections()[n];e.replaceRange("\n",r.anchor,r.head,"+input"),e.indentLine(r.from().line+1,null,!0),_r(e)}})},toggleOverwrite:function(e){e.toggleOverwrite()}},Xs=e.keyMap={};Xs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Xs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Xs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},Xs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Xs["default"]=gs?Xs.macDefault:Xs.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=So(n.split(" "),Or),o=0;o<i.length;o++){var s,a;o==i.length-1?(a=n,s=r):(a=i.slice(0,o+1).join(" "),s="...");var l=t[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[n]}for(var u in t)e[u]=t[u];return e};var Qs=e.lookupKey=function(e,t,n,r){t=zr(t);var i=t.call?t.call(e,r):t[e];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Qs(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var s=Qs(e,t.fallthrough[o],n,r);if(s)return s}}},Js=e.isModifierKey=function(e){var t="string"==typeof e?e:Fa[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},Zs=e.keyName=function(e,t){if(us&&34==e.keyCode&&e["char"])return!1;var n=Fa[e.keyCode],r=n;return null==r||e.altGraphKey?!1:(e.altKey&&"Alt"!=n&&(r="Alt-"+r),(ys?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(r="Ctrl-"+r),(ys?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(r="Cmd-"+r),!t&&e.shiftKey&&"Shift"!=n&&(r="Shift-"+r),r)};e.fromTextArea=function(t,n){function r(){t.value=u.getValue()}if(n||(n={}),n.value=t.value,!n.tabindex&&t.tabindex&&(n.tabindex=t.tabindex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var i=Oo();n.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}if(t.form&&(ma(t.form,"submit",r),!n.leaveSubmitMethodAlone)){var o=t.form,s=o.submit;try{var a=o.submit=function(){r(),o.submit=s,o.submit(),o.submit=a}}catch(l){}}t.style.display="none";var u=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return u.save=r,u.getTextArea=function(){return t},u.toTextArea=function(){u.toTextArea=isNaN,r(),t.parentNode.removeChild(u.getWrapperElement()),t.style.display="",t.form&&(ga(t.form,"submit",r),"function"==typeof t.form.submit&&(t.form.submit=s))},u};var ea=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};ea.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ka(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ka(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return ka(this.string,null,this.tabSize)-(this.lineStart?ka(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&t!==!1&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);return i(o)==i(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var ta=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e};go(ta),ta.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&on(e),mo(this,"clear")){var n=this.find();n&&co(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=Fr(s.markedSpans,this);e&&!this.collapsed?wn(e,Hi(s),"text"):e&&(null!=a.to&&(i=Hi(s)),null!=a.from&&(r=Hi(s))),s.markedSpans=Hr(s.markedSpans,a),null==a.from&&this.collapsed&&!ui(this.doc,s)&&e&&Fi(s,nn(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var l=oi(this.lines[o]),u=f(l);u>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&xn(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&mt(e.doc)),e&&co(e,"markerCleared",e,this),t&&an(e),this.parent&&this.parent.clear()}},ta.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,r,i=0;i<this.lines.length;++i){var o=this.lines[i],s=Fr(o.markedSpans,this);if(null!=s.from&&(n=Cs(t?o:Hi(o),s.from),-1==e))return n;if(null!=s.to&&(r=Cs(t?o:Hi(o),s.to),1==e))return r}return n&&{from:n,to:r}},ta.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&dn(n,function(){var r=e.line,i=Hi(e.line),o=jt(n,i);if(o&&(Bt(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!ui(t.doc,r)&&null!=t.height){var s=t.height;t.height=null;var a=hi(t)-s;a&&Fi(r,r.height+a)}})},ta.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=wo(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ta.prototype.detachLine=function(e){if(this.lines.splice(wo(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var na=0,ra=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};go(ra),ra.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();co(this,"clear")}},ra.prototype.find=function(e,t){return this.primary.find(e,t)};var ia=e.LineWidget=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.cm=e,this.node=t};go(ia),ia.prototype.clear=function(){var e=this.cm,t=this.line.widgets,n=this.line,r=Hi(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=hi(this);dn(e,function(){fi(e,n,-o),wn(e,r,"widget"),Fi(n,Math.max(0,n.height-o))})}},ia.prototype.changed=function(){var e=this.height,t=this.cm,n=this.line;this.height=null;var r=hi(this)-e;r&&dn(t,function(){t.curOp.forceUpdate=!0,fi(t,n,r),Fi(n,n.height+r)})};var oa=e.Line=function(e,t,n){this.text=e,Qr(this,t),this.height=n?n(this):1};go(oa),oa.prototype.lineNo=function(){return Hi(this)};var sa={},aa={};zi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;r>n;++n){var i=this.lines[n];this.height-=i.height,mi(i),co(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;r>e;++e)if(n(this.lines[e]))return!0}},Ni.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(i>e){var o=Math.min(t,i-e),s=r.height;if(r.removeInner(e,o),this.height-=s-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof zi))){var a=[];this.collapse(a),this.children=[new zi(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(o>=e){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(;i.lines.length>50;){var s=i.lines.splice(i.lines.length-25,25),a=new zi(s);i.height-=a.height,this.children.splice(r+1,0,a),a.parent=this}this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Ni(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=wo(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new Ni(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(o>e){var s=Math.min(t,o-e);if(i.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var la=0,ua=e.Doc=function(e,t,n){if(!(this instanceof ua))return new ua(e,t,n);null==n&&(n=0),Ni.call(this,[new zi([new oa("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var r=Cs(n,0);this.sel=Z(r),this.history=new Vi(null),this.id=++la,this.modeOption=t,"string"==typeof e&&(e=Ra(e)),Oi(this,{from:r,to:r,text:e}),ht(this,Z(r),wa)};ua.prototype=Co(Ni.prototype,{constructor:ua,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Wi(this,this.first,this.first+this.size);return e===!1?t:t.join(e||"\n")},setValue:vn(function(e){var t=Cs(this.first,0),n=this.first+this.size-1;pr(this,{from:t,to:Cs(n,ji(this,n).text.length),text:Ra(e),origin:"setValue",full:!0},!0),ht(this,Z(t))}),replaceRange:function(e,t,n,r){t=tt(this,t),n=n?tt(this,n):t,yr(this,e,t,n,r)},getRange:function(e,t,n){var r=$i(this,tt(this,e),tt(this,t));return n===!1?r:r.join(n||"\n")},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return rt(this,e)?ji(this,e):void 0},getLineNumber:function(e){return Hi(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=ji(this,e)),oi(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return tt(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||e===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:vn(function(e,t,n){ut(this,tt(this,"number"==typeof e?Cs(e,t||0):e),null,n)}),setSelection:vn(function(e,t,n){ut(this,tt(this,e),tt(this,t||e),n)}),extendSelection:vn(function(e,t,n){st(this,tt(this,e),t&&tt(this,t),n)}),extendSelections:vn(function(e,t){at(this,it(this,e,t))}),extendSelectionsBy:vn(function(e,t){at(this,So(this.sel.ranges,e),t)}),setSelections:vn(function(e,t,n){if(e.length){for(var r=0,i=[];r<e.length;r++)i[r]=new Q(tt(this,e[r].anchor),tt(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),ht(this,J(i,t),n)}}),addSelection:vn(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new Q(tt(this,e),tt(this,t||e))),ht(this,J(r,r.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=$i(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return e===!1?t:t.join(e||"\n")},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=$i(this,n[r].from(),n[r].to());e!==!1&&(i=i.join(e||"\n")),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:vn(function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var s=i.ranges[o];r[o]={from:s.from(),to:s.to(),text:Ra(e[o]),origin:n}}for(var a=t&&"end"!=t&&fr(this,r,t),o=r.length-1;o>=0;o--)pr(this,r[o]);a?ft(this,a):this.cm&&_r(this.cm)}),undo:vn(function(){mr(this,"undo")}),redo:vn(function(){mr(this,"redo")}),undoSelection:vn(function(){mr(this,"undo",!0)}),redoSelection:vn(function(){mr(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new Vi(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:ro(this.history.done),undone:ro(this.history.undone)}},setHistory:function(e){var t=this.history=new Vi(this.history.maxGeneration);t.done=ro(e.done.slice(0),null,!0),t.undone=ro(e.undone.slice(0),null,!0)},addLineClass:vn(function(e,t,n){return Lr(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(zo(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:vn(function(e,t,n){return Lr(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(zo(n));if(!o)return!1;var s=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&s!=i.length?" ":"")+i.slice(s)||null}return!0})}),markText:function(e,t,n){return Nr(this,tt(this,e),tt(this,t),n,"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared};return e=tt(this,e),Nr(this,e,e,n,"bookmark")},findMarksAt:function(e){e=tt(this,e);var t=[],n=ji(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=tt(this,e),t=tt(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];i==e.line&&e.ch>l.to||null==l.from&&i!=e.line||i==t.line&&l.from>t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first;return this.iter(function(r){var i=r.text.length+1;return i>e?(t=e,!0):(e-=i,void++n)}),tt(this,Cs(n,t))},indexFromPos:function(e){e=tt(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new ua(Wi(this,this.first,this.first+this.size),this.modeOption,this.first);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new ua(Wi(this,t,n),e.mode||this.modeOption,t);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],jr(r,Rr(this)),r},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=this.linked[n];if(r.doc==t){this.linked.splice(n,1),t.unlinkDoc(this),$r(Rr(this));break}}if(t.history==this.history){var i=[t.id];Di(t,function(e){i.push(e.id)},!0),t.history=new Vi(null),t.history.done=ro(this.history.done,i),t.history.undone=ro(this.history.undone,i)}},iterLinkedDocs:function(e){Di(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),ua.prototype.eachLine=ua.prototype.iter;var ca="iter insert remove copy getEditor".split(" ");for(var fa in ua.prototype)ua.prototype.hasOwnProperty(fa)&&wo(ca,fa)<0&&(e.prototype[fa]=function(e){return function(){return e.apply(this.doc,arguments)}}(ua.prototype[fa]));go(ua);var ha=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},pa=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},da=e.e_stop=function(e){ha(e),pa(e)},ma=e.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={}),i=r[t]||(r[t]=[]);i.push(n)}},ga=e.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers&&e._handlers[t];if(!r)return;for(var i=0;i<r.length;++i)if(r[i]==n){r.splice(i,1);break}}},va=e.signal=function(e,t){var n=e._handlers&&e._handlers[t];if(n)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)},ba=null,ya=30,xa=e.Pass={toString:function(){return"CodeMirror.Pass"
}},wa={scroll:!1},Sa={origin:"*mouse"},Ca={origin:"+move"};vo.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var ka=e.countColumn=function(e,t,n,r,i){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var o=r||0,s=i||0;;){var a=e.indexOf("	",o);if(0>a||a>=t)return s+(t-o);s+=a-o,s+=n-s%n,o=a+1}},_a=[""],Aa=function(e){e.select()};ds?Aa=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:is&&(Aa=function(e){try{e.select()}catch(t){}});var Ea,La=/[\u00df\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ta=e.isWordChar=function(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||La.test(e))},Pa=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Ea=document.createRange?function(e,t,n){var r=document.createRange();return r.setEnd(e,n),r.setStart(e,t),r}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r},is&&11>os&&(Oo=function(){try{return document.activeElement}catch(e){return document.body}});var Ia,Ma,Oa=e.rmClass=function(e,t){var n=e.className,r=zo(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}},za=e.addClass=function(e,t){var n=e.className;zo(t).test(n)||(e.className+=(n?" ":"")+t)},Na=!1,Da=function(){if(is&&9>os)return!1;var e=To("div");return"draggable"in e||"dragDrop"in e}(),Ra=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;r>=t;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),t+=s+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},ja=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},$a=function(){var e=To("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Wa=null,Fa={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};e.keyNames=Fa,function(){for(var e=0;10>e;e++)Fa[e+48]=Fa[e+96]=String(e);for(var e=65;90>=e;e++)Fa[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)Fa[e+111]=Fa[e+63235]="F"+e}();var Ha,Ba=function(){function e(e){return 247>=e?n.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?r.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,u="L";return function(n){if(!i.test(n))return!1;for(var r,c=n.length,f=[],h=0;c>h;++h)f.push(r=e(n.charCodeAt(h)));for(var h=0,p=u;c>h;++h){var r=f[h];"m"==r?f[h]=p:p=r}for(var h=0,d=u;c>h;++h){var r=f[h];"1"==r&&"r"==d?f[h]="n":s.test(r)&&(d=r,"r"==r&&(f[h]="R"))}for(var h=1,p=f[0];c-1>h;++h){var r=f[h];"+"==r&&"1"==p&&"1"==f[h+1]?f[h]="1":","!=r||p!=f[h+1]||"1"!=p&&"n"!=p||(f[h]=p),p=r}for(var h=0;c>h;++h){var r=f[h];if(","==r)f[h]="N";else if("%"==r){for(var m=h+1;c>m&&"%"==f[m];++m);for(var g=h&&"!"==f[h-1]||c>m&&"1"==f[m]?"1":"N",v=h;m>v;++v)f[v]=g;h=m-1}}for(var h=0,d=u;c>h;++h){var r=f[h];"L"==d&&"1"==r?f[h]="L":s.test(r)&&(d=r)}for(var h=0;c>h;++h)if(o.test(f[h])){for(var m=h+1;c>m&&o.test(f[m]);++m);for(var b="L"==(h?f[h-1]:u),y="L"==(c>m?f[m]:u),g=b||y?"L":"R",v=h;m>v;++v)f[v]=g;h=m-1}for(var x,w=[],h=0;c>h;)if(a.test(f[h])){var S=h;for(++h;c>h&&a.test(f[h]);++h);w.push(new t(0,S,h))}else{var C=h,k=w.length;for(++h;c>h&&"L"!=f[h];++h);for(var v=C;h>v;)if(l.test(f[v])){v>C&&w.splice(k,0,new t(1,C,v));var _=v;for(++v;h>v&&l.test(f[v]);++v);w.splice(k,0,new t(2,_,v)),C=v}else++v;h>C&&w.splice(k,0,new t(1,C,h))}return 1==w[0].level&&(x=n.match(/^\s+/))&&(w[0].from=x[0].length,w.unshift(new t(0,0,x[0].length))),1==xo(w).level&&(x=n.match(/\s+$/))&&(xo(w).to-=x[0].length,w.push(new t(0,c-x[0].length,c))),w[0].level!=xo(w).level&&w.push(new t(w[0].level,c,c)),w}}();return e.version="4.12.0",e}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],e):e(CodeMirror)}(function(e){function t(t){if(t.getOption("disableInput"))return e.Pass;for(var n=t.listSelections(),r=[],l=0;l<n.length;l++){if(!n[l].empty())return e.Pass;var u=n[l].head,c=t.getTokenAt(u),f=e.innerMode(t.getMode(),c.state),h=f.state;if("xml"!=f.mode.name||!h.tagName)return e.Pass;var p=t.getOption("autoCloseTags"),d="html"==f.mode.configuration,m="object"==typeof p&&p.dontCloseTags||d&&s,g="object"==typeof p&&p.indentTags||d&&a,v=h.tagName;c.end>u.ch&&(v=v.slice(0,v.length-c.end+u.ch));var b=v.toLowerCase();if(!v||"string"==c.type&&(c.end!=u.ch||!/[\"\']/.test(c.string.charAt(c.string.length-1))||1==c.string.length)||"tag"==c.type&&"closeTag"==h.type||c.string.indexOf("/")==c.string.length-1||m&&i(m,b)>-1||o(t,v,u,h,!0))return e.Pass;var y=g&&i(g,b)>-1;r[l]={indent:y,text:">"+(y?"\n\n":"")+"</"+v+">",newPos:y?e.Pos(u.line+1,0):e.Pos(u.line,u.ch+1)}}for(var l=n.length-1;l>=0;l--){var x=r[l];t.replaceRange(x.text,n[l].head,n[l].anchor,"+insert");var w=t.listSelections().slice(0);w[l]={head:x.newPos,anchor:x.newPos},t.setSelections(w),x.indent&&(t.indentLine(x.newPos.line,null,!0),t.indentLine(x.newPos.line+1,null,!0))}}function n(t,n){for(var r=t.listSelections(),i=[],s=n?"/":"</",a=0;a<r.length;a++){if(!r[a].empty())return e.Pass;var l=r[a].head,u=t.getTokenAt(l),c=e.innerMode(t.getMode(),u.state),f=c.state;if(n&&("string"==u.type||"<"!=u.string.charAt(0)||u.start!=l.ch-1))return e.Pass;if("xml"!=c.mode.name)if("htmlmixed"==t.getMode().name&&"javascript"==c.mode.name)i[a]=s+"script>";else{if("htmlmixed"!=t.getMode().name||"css"!=c.mode.name)return e.Pass;i[a]=s+"style>"}else{if(!f.context||!f.context.tagName||o(t,f.context.tagName,l,f))return e.Pass;i[a]=s+f.context.tagName+">"}}t.replaceSelections(i),r=t.listSelections();for(var a=0;a<r.length;a++)(a==r.length-1||r[a].head.line<r[a+1].head.line)&&t.indentLine(r[a].head.line)}function r(t){return t.getOption("disableInput")?e.Pass:void n(t,!0)}function i(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;r>n;++n)if(e[n]==t)return n;return-1}function o(t,n,r,i,o){if(!e.scanForClosingTag)return!1;var s=Math.min(t.lastLine()+1,r.line+500),a=e.scanForClosingTag(t,r,null,s);if(!a||a.tag!=n)return!1;for(var l=i.context,u=o?1:0;l&&l.tagName==n;l=l.prev)++u;r=a.to;for(var c=1;u>c;c++){var f=e.scanForClosingTag(t,r,null,s);if(!f||f.tag!=n)return!1;r=f.to}return!0}e.defineOption("autoCloseTags",!1,function(n,i,o){if(o!=e.Init&&o&&n.removeKeyMap("autoCloseTags"),i){var s={name:"autoCloseTags"};("object"!=typeof i||i.whenClosing)&&(s["'/'"]=function(e){return r(e)}),("object"!=typeof i||i.whenOpening)&&(s["'>'"]=function(e){return t(e)}),n.addKeyMap(s)}});var s=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],a=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];e.commands.closeTag=function(e){return n(e)}}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("./searchcursor"),require("../dialog/dialog")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./searchcursor","../dialog/dialog"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){return"string"==typeof e?e=new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t?"gi":"g"):e.global||(e=new RegExp(e.source,e.ignoreCase?"gi":"g")),{token:function(t){e.lastIndex=t.pos;var n=e.exec(t.string);return n&&n.index==t.pos?(t.pos+=n[0].length,"searching"):void(n?t.pos=n.index:t.skipToEnd())}}}function n(){this.posFrom=this.posTo=this.query=null,this.overlay=null}function r(e){return e.state.search||(e.state.search=new n)}function i(e){return"string"==typeof e&&e==e.toLowerCase()}function o(e,t,n){return e.getSearchCursor(t,n,i(t))}function s(e,t,n,r,i){e.openDialog?e.openDialog(t,i,{value:r}):i(prompt(n,r))}function a(e,t,n,r){e.openConfirm?e.openConfirm(t,r):confirm(n)&&r[0]()}function l(e){var t=e.match(/^\/(.*)\/([a-z]*)$/);if(t)try{e=new RegExp(t[1],-1==t[2].indexOf("i")?"":"i")}catch(n){}return("string"==typeof e?""==e:e.test(""))&&(e=/x^/),e}function u(e,n){var o=r(e);return o.query?c(e,n):void s(e,p,"Search for:",e.getSelection(),function(r){e.operation(function(){r&&!o.query&&(o.query=l(r),e.removeOverlay(o.overlay,i(o.query)),o.overlay=t(o.query,i(o.query)),e.addOverlay(o.overlay),e.showMatchesOnScrollbar&&(o.annotate&&(o.annotate.clear(),o.annotate=null),o.annotate=e.showMatchesOnScrollbar(o.query,i(o.query))),o.posFrom=o.posTo=e.getCursor(),c(e,n))})})}function c(t,n){t.operation(function(){var i=r(t),s=o(t,i.query,n?i.posFrom:i.posTo);(s.find(n)||(s=o(t,i.query,n?e.Pos(t.lastLine()):e.Pos(t.firstLine(),0)),s.find(n)))&&(t.setSelection(s.from(),s.to()),t.scrollIntoView({from:s.from(),to:s.to()}),i.posFrom=s.from(),i.posTo=s.to())})}function f(e){e.operation(function(){var t=r(e);t.query&&(t.query=null,e.removeOverlay(t.overlay),t.annotate&&(t.annotate.clear(),t.annotate=null))})}function h(e,t){e.getOption("readOnly")||s(e,d,"Replace:",e.getSelection(),function(n){n&&(n=l(n),s(e,m,"Replace with:","",function(r){if(t)e.operation(function(){for(var t=o(e,n);t.findNext();)if("string"!=typeof n){var i=e.getRange(t.from(),t.to()).match(n);t.replace(r.replace(/\$(\d)/g,function(e,t){return i[t]}))}else t.replace(r)});else{f(e);var i=o(e,n,e.getCursor()),s=function(){var t,r=i.from();!(t=i.findNext())&&(i=o(e,n),!(t=i.findNext())||r&&i.from().line==r.line&&i.from().ch==r.ch)||(e.setSelection(i.from(),i.to()),e.scrollIntoView({from:i.from(),to:i.to()}),a(e,g,"Replace?",[function(){l(t)},s]))},l=function(e){i.replace("string"==typeof n?r:r.replace(/\$(\d)/g,function(t,n){return e[n]})),s()};s()}}))})}var p='Search: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',d='Replace: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',m='With: <input type="text" style="width: 10em" class="CodeMirror-search-field"/>',g="Replace? <button>Yes</button> <button>No</button> <button>Stop</button>";e.commands.find=function(e){f(e),u(e)},e.commands.findNext=u,e.commands.findPrev=function(e){u(e,!0)},e.commands.clearSearch=f,e.commands.replace=h,e.commands.replaceAll=function(e){h(e,!0)}}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,i,o){if(this.atOccurrence=!1,this.doc=e,null==o&&"string"==typeof t&&(o=!1),i=i?e.clipPos(i):r(0,0),this.pos={from:i,to:i},"string"!=typeof t)t.global||(t=new RegExp(t.source,t.ignoreCase?"ig":"g")),this.matches=function(n,i){if(n){t.lastIndex=0;for(var o,s,a=e.getLine(i.line).slice(0,i.ch),l=0;;){t.lastIndex=l;var u=t.exec(a);if(!u)break;if(o=u,s=o.index,l=o.index+(o[0].length||1),l==a.length)break}var c=o&&o[0].length||0;c||(0==s&&0==a.length?o=void 0:s!=e.getLine(i.line).length&&c++)}else{t.lastIndex=i.ch;var a=e.getLine(i.line),o=t.exec(a),c=o&&o[0].length||0,s=o&&o.index;s+c==a.length||c||(c=1)}return o&&c?{from:r(i.line,s),to:r(i.line,s+c),match:o}:void 0};else{var s=t;o&&(t=t.toLowerCase());var a=o?function(e){return e.toLowerCase()}:function(e){return e},l=t.split("\n");if(1==l.length)this.matches=t.length?function(i,o){if(i){var l=e.getLine(o.line).slice(0,o.ch),u=a(l),c=u.lastIndexOf(t);if(c>-1)return c=n(l,u,c),{from:r(o.line,c),to:r(o.line,c+s.length)}}else{var l=e.getLine(o.line).slice(o.ch),u=a(l),c=u.indexOf(t);if(c>-1)return c=n(l,u,c)+o.ch,{from:r(o.line,c),to:r(o.line,c+s.length)}}}:function(){};else{var u=s.split("\n");this.matches=function(t,n){var i=l.length-1;if(t){if(n.line-(l.length-1)<e.firstLine())return;if(a(e.getLine(n.line).slice(0,u[i].length))!=l[l.length-1])return;for(var o=r(n.line,u[i].length),s=n.line-1,c=i-1;c>=1;--c,--s)if(l[c]!=a(e.getLine(s)))return;var f=e.getLine(s),h=f.length-u[0].length;if(a(f.slice(h))!=l[0])return;return{from:r(s,h),to:o}}if(!(n.line+(l.length-1)>e.lastLine())){var f=e.getLine(n.line),h=f.length-u[0].length;if(a(f.slice(h))==l[0]){for(var p=r(n.line,h),s=n.line+1,c=1;i>c;++c,++s)if(l[c]!=a(e.getLine(s)))return;if(a(e.getLine(s).slice(0,u[i].length))==l[i])return{from:p,to:r(s,u[i].length)}}}}}}}function n(e,t,n){if(e.length==t.length)return n;for(var r=Math.min(n,e.length);;){var i=e.slice(0,r).toLowerCase().length;if(n>i)++r;else{if(!(i>n))return r;--r}}}var r=e.Pos;t.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){function t(e){var t=r(e,0);return n.pos={from:t,to:t},n.atOccurrence=!1,!1}for(var n=this,i=this.doc.clipPos(e?this.pos.from:this.pos.to);;){if(this.pos=this.matches(e,i))return this.atOccurrence=!0,this.pos.match||!0;if(e){if(!i.line)return t(0);i=r(i.line-1,this.doc.getLine(i.line-1).length)}else{var o=this.doc.lineCount();if(i.line==o-1)return t(o);i=r(i.line+1,0)}}},from:function(){return this.atOccurrence?this.pos.from:void 0},to:function(){return this.atOccurrence?this.pos.to:void 0},replace:function(t){if(this.atOccurrence){var n=e.splitLines(t);this.doc.replaceRange(n,this.pos.from,this.pos.to),this.pos.to=r(this.pos.from.line+n.length-1,n[n.length-1].length+(1==n.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,n,r){return new t(this.doc,e,n,r)}),e.defineDocExtension("getSearchCursor",function(e,n,r){return new t(this,e,n,r)}),e.defineExtension("selectMatches",function(t,n){for(var r,i=[],o=this.getSearchCursor(t,this.getCursor("from"),n);(r=o.findNext())&&!(e.cmpPos(o.to(),this.getCursor("to"))>0);)i.push({anchor:o.from(),head:o.to()});i.length&&this.setSelections(i,0)})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t,n){var r,i=e.getWrapperElement();return r=i.appendChild(document.createElement("div")),r.className=n?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top","string"==typeof t?r.innerHTML=t:r.appendChild(t),r}function n(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=t}e.defineExtension("openDialog",function(r,i,o){function s(e){if("string"==typeof e)f.value=e;else{if(u)return;u=!0,l.parentNode.removeChild(l),c.focus(),o.onClose&&o.onClose(l)}}o||(o={}),n(this,null);var a,l=t(this,r,o.bottom),u=!1,c=this,f=l.getElementsByTagName("input")[0];return f?(o.value&&(f.value=o.value,f.select()),o.onInput&&e.on(f,"input",function(e){o.onInput(e,f.value,s)}),o.onKeyUp&&e.on(f,"keyup",function(e){o.onKeyUp(e,f.value,s)}),e.on(f,"keydown",function(t){o&&o.onKeyDown&&o.onKeyDown(t,f.value,s)||((27==t.keyCode||o.closeOnEnter!==!1&&13==t.keyCode)&&(f.blur(),e.e_stop(t),s()),13==t.keyCode&&i(f.value,t))}),o.closeOnBlur!==!1&&e.on(f,"blur",s),f.focus()):(a=l.getElementsByTagName("button")[0])&&(e.on(a,"click",function(){s(),c.focus()}),o.closeOnBlur!==!1&&e.on(a,"blur",s),a.focus()),s}),e.defineExtension("openConfirm",function(r,i,o){function s(){u||(u=!0,a.parentNode.removeChild(a),c.focus())}n(this,null);var a=t(this,r,o&&o.bottom),l=a.getElementsByTagName("button"),u=!1,c=this,f=1;l[0].focus();for(var h=0;h<l.length;++h){var p=l[h];!function(t){e.on(p,"click",function(n){e.e_preventDefault(n),s(),t&&t(c)})}(i[h]),e.on(p,"blur",function(){--f,setTimeout(function(){0>=f&&s()},200)}),e.on(p,"focus",function(){++f})}}),e.defineExtension("openNotification",function(r,i){function o(){l||(l=!0,clearTimeout(s),a.parentNode.removeChild(a))}n(this,o);var s,a=t(this,r,i&&i.bottom),l=!1,u=i&&"undefined"!=typeof i.duration?i.duration:5e3;return e.on(a,"click",function(t){e.e_preventDefault(t),o()}),u&&(s=setTimeout(o,u)),o})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t,r,i){var o=e.getLineHandle(t.line),l=t.ch-1,u=l>=0&&a[o.text.charAt(l)]||a[o.text.charAt(++l)];if(!u)return null;var c=">"==u.charAt(1)?1:-1;if(r&&c>0!=(l==t.ch))return null;var f=e.getTokenTypeAt(s(t.line,l+1)),h=n(e,s(t.line,l+(c>0?1:0)),c,f||null,i);return null==h?null:{from:s(t.line,l),to:h&&h.pos,match:h&&h.ch==u.charAt(0),forward:c>0}}function n(e,t,n,r,i){for(var o=i&&i.maxScanLineLength||1e4,l=i&&i.maxScanLines||1e3,u=[],c=i&&i.bracketRegex?i.bracketRegex:/[(){}[\]]/,f=n>0?Math.min(t.line+l,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-l),h=t.line;h!=f;h+=n){var p=e.getLine(h);if(p){var d=n>0?0:p.length-1,m=n>0?p.length:-1;if(!(p.length>o))for(h==t.line&&(d=t.ch-(0>n?1:0));d!=m;d+=n){var g=p.charAt(d);if(c.test(g)&&(void 0===r||e.getTokenTypeAt(s(h,d+1))==r)){var v=a[g];if(">"==v.charAt(1)==n>0)u.push(g);else{if(!u.length)return{pos:s(h,d),ch:g};u.pop()}}}}}return h-n==(n>0?e.lastLine():e.firstLine())?!1:null}function r(e,n,r){for(var i=e.state.matchBrackets.maxHighlightLineLength||1e3,a=[],l=e.listSelections(),u=0;u<l.length;u++){var c=l[u].empty()&&t(e,l[u].head,!1,r);if(c&&e.getLine(c.from.line).length<=i){var f=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";a.push(e.markText(c.from,s(c.from.line,c.from.ch+1),{className:f})),c.to&&e.getLine(c.to.line).length<=i&&a.push(e.markText(c.to,s(c.to.line,c.to.ch+1),{className:f}))}}if(a.length){o&&e.state.focused&&e.display.input.focus();var h=function(){e.operation(function(){for(var e=0;e<a.length;e++)a[e].clear()})};if(!n)return h;setTimeout(h,800)}}function i(e){e.operation(function(){l&&(l(),l=null),l=r(e,!1,e.state.matchBrackets)})}var o=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),s=e.Pos,a={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},l=null;e.defineOption("matchBrackets",!1,function(t,n,r){r&&r!=e.Init&&t.off("cursorActivity",i),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",i))}),e.defineExtension("matchBrackets",function(){r(this,!0)}),e.defineExtension("findMatchingBracket",function(e,n,r){return t(this,e,n,r)}),e.defineExtension("scanForBracket",function(e,t,r,i){return n(this,e,t,r,i)})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t){var n=e.getRange(l(t.line,t.ch-1),l(t.line,t.ch+1));return 2==n.length?n:null}function n(t,n,r){var i=t.getLine(n.line),o=t.getTokenAt(n);if(/\bstring2?\b/.test(o.type))return!1;var s=new e.StringStream(i.slice(0,n.ch)+r+i.slice(n.ch),4);for(s.pos=s.start=o.start;;){var a=t.getMode().token(s,o.state);if(s.pos>=n.ch+1)return/\bstring2?\b/.test(a);s.start=s.pos}}function r(r){for(var i={name:"autoCloseBrackets",Backspace:function(n){if(n.getOption("disableInput"))return e.Pass;for(var i=n.listSelections(),o=0;o<i.length;o++){if(!i[o].empty())return e.Pass;var s=t(n,i[o].head);if(!s||r.indexOf(s)%2!=0)return e.Pass}for(var o=i.length-1;o>=0;o--){var a=i[o].head;n.replaceRange("",l(a.line,a.ch-1),l(a.line,a.ch+1))}}},o="",s=0;s<r.length;s+=2)(function(t,r){o+=r,i["'"+t+"'"]=function(i){if(i.getOption("disableInput"))return e.Pass;for(var s,u,c=i.listSelections(),f=0;f<c.length;f++){var h,p=c[f],d=p.head,u=i.getRange(d,l(d.line,d.ch+1));if(p.empty())if(t==r&&u==r)h=i.getRange(d,l(d.line,d.ch+3))==t+t+t?"skipThree":"skip";else if(t==r&&d.ch>1&&i.getRange(l(d.line,d.ch-2),d)==t+t&&(d.ch<=2||i.getRange(l(d.line,d.ch-3),l(d.line,d.ch-2))!=t))h="addFour";else if('"'==t||"'"==t){if(e.isWordChar(u)||!n(i,d,t))return e.Pass;h="both"}else{if(!(i.getLine(d.line).length==d.ch||o.indexOf(u)>=0||a.test(u)))return e.Pass;h="both"}else h="surround";if(s){if(s!=h)return e.Pass}else s=h}i.operation(function(){if("skip"==s)i.execCommand("goCharRight");else if("skipThree"==s)for(var e=0;3>e;e++)i.execCommand("goCharRight");else if("surround"==s){for(var n=i.getSelections(),e=0;e<n.length;e++)n[e]=t+n[e]+r;i.replaceSelections(n,"around")}else"both"==s?(i.replaceSelection(t+r,null),i.execCommand("goCharLeft")):"addFour"==s&&(i.replaceSelection(t+t+t+t,"before"),i.execCommand("goCharRight"))})},t!=r&&(i["'"+r+"'"]=function(t){for(var n=t.listSelections(),i=0;i<n.length;i++){var o=n[i];if(!o.empty()||t.getRange(o.head,l(o.head.line,o.head.ch+1))!=r)return e.Pass}t.execCommand("goCharRight")})})(r.charAt(s),r.charAt(s+1));return i}function i(n){return function(r){if(r.getOption("disableInput"))return e.Pass;for(var i=r.listSelections(),o=0;o<i.length;o++){if(!i[o].empty())return e.Pass;var s=t(r,i[o].head);if(!s||n.indexOf(s)%2!=0)return e.Pass}r.operation(function(){r.replaceSelection("\n\n",null),r.execCommand("goCharLeft"),i=r.listSelections();for(var e=0;e<i.length;e++){var t=i[e].head.line;r.indentLine(t,null,!0),r.indentLine(t+1,null,!0)}})}}var o="()[]{}''\"\"",s="[]{}",a=/\s/,l=e.Pos;e.defineOption("autoCloseBrackets",!1,function(t,n,a){if(a!=e.Init&&a&&t.removeKeyMap("autoCloseBrackets"),n){var l=o,u=s;"string"==typeof n?l=n:"object"==typeof n&&(null!=n.pairs&&(l=n.pairs),null!=n.explode&&(u=n.explode));var c=r(l);u&&(c.Enter=i(u)),t.addKeyMap(c)}})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(t,i,o,s){function a(e){var n=l(t,i);if(!n||n.to.line-n.from.line<u)return null;for(var r=t.findMarksAt(n.from),o=0;o<r.length;++o)if(r[o].__isFold&&"fold"!==s){if(!e)return null;n.cleared=!0,r[o].clear()}return n}if(o&&o.call){var l=o;o=null}else var l=r(t,o,"rangeFinder");"number"==typeof i&&(i=e.Pos(i,0));var u=r(t,o,"minFoldSize"),c=a(!0);if(r(t,o,"scanUp"))for(;!c&&i.line>t.firstLine();)i=e.Pos(i.line-1,0),c=a(!1);if(c&&!c.cleared&&"unfold"!==s){var f=n(t,o);e.on(f,"mousedown",function(t){h.clear(),e.e_preventDefault(t)});var h=t.markText(c.from,c.to,{replacedWith:f,clearOnEnter:!0,__isFold:!0});h.on("clear",function(n,r){e.signal(t,"unfold",t,n,r)}),e.signal(t,"fold",t,c.from,c.to)}}function n(e,t){var n=r(e,t,"widget");if("string"==typeof n){var i=document.createTextNode(n);n=document.createElement("span"),n.appendChild(i),n.className="CodeMirror-foldmarker"}return n}function r(e,t,n){if(t&&void 0!==t[n])return t[n];var r=e.options.foldOptions;return r&&void 0!==r[n]?r[n]:i[n]}e.newFoldFunction=function(e,n){return function(r,i){t(r,i,{rangeFinder:e,widget:n})}},e.defineExtension("foldCode",function(e,n,r){t(this,e,n,r)}),e.defineExtension("isFolded",function(e){for(var t=this.findMarksAt(e),n=0;n<t.length;++n)if(t[n].__isFold)return!0}),e.commands.toggleFold=function(e){e.foldCode(e.getCursor())},e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")},e.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold")},e.commands.foldAll=function(t){t.operation(function(){for(var n=t.firstLine(),r=t.lastLine();r>=n;n++)t.foldCode(e.Pos(n,0),null,"fold")})},e.commands.unfoldAll=function(t){t.operation(function(){for(var n=t.firstLine(),r=t.lastLine();r>=n;n++)t.foldCode(e.Pos(n,0),null,"unfold")})},e.registerHelper("fold","combine",function(){var e=Array.prototype.slice.call(arguments,0);return function(t,n){for(var r=0;r<e.length;++r){var i=e[r](t,n);if(i)return i}}}),e.registerHelper("fold","auto",function(e,t){for(var n=e.getHelpers(t,"fold"),r=0;r<n.length;r++){var i=n[r](e,t);if(i)return i}});var i={rangeFinder:e.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:!1};e.defineOption("foldOptions",null),e.defineExtension("foldOption",function(e,t){return r(this,e,t)})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("./foldcode")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./foldcode"],e):e(CodeMirror)}(function(e){"use strict";function t(e){this.options=e,this.from=this.to=0}function n(e){return e===!0&&(e={}),null==e.gutter&&(e.gutter="CodeMirror-foldgutter"),null==e.indicatorOpen&&(e.indicatorOpen="CodeMirror-foldgutter-open"),null==e.indicatorFolded&&(e.indicatorFolded="CodeMirror-foldgutter-folded"),e}function r(e,t){for(var n=e.findMarksAt(f(t)),r=0;r<n.length;++r)if(n[r].__isFold&&n[r].find().from.line==t)return!0}function i(e){if("string"==typeof e){var t=document.createElement("div");return t.className=e+" CodeMirror-guttermarker-subtle",t}return e.cloneNode(!0)}function o(e,t,n){var o=e.state.foldGutter.options,s=t,a=e.foldOption(o,"minFoldSize"),l=e.foldOption(o,"rangeFinder");e.eachLine(t,n,function(t){var n=null;if(r(e,s))n=i(o.indicatorFolded);else{var u=f(s,0),c=l&&l(e,u);c&&c.to.line-c.from.line>=a&&(n=i(o.indicatorOpen))}e.setGutterMarker(t,o.gutter,n),++s})}function s(e){var t=e.getViewport(),n=e.state.foldGutter;n&&(e.operation(function(){o(e,t.from,t.to)}),n.from=t.from,n.to=t.to)}function a(e,t,n){var r=e.state.foldGutter.options;n==r.gutter&&e.foldCode(f(t,0),r.rangeFinder)}function l(e){var t=e.state.foldGutter,n=e.state.foldGutter.options;t.from=t.to=0,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){s(e)},n.foldOnChangeTimeSpan||600)}function u(e){var t=e.state.foldGutter,n=e.state.foldGutter.options;clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){var n=e.getViewport();t.from==t.to||n.from-t.to>20||t.from-n.to>20?s(e):e.operation(function(){n.from<t.from&&(o(e,n.from,t.from),t.from=n.from),n.to>t.to&&(o(e,t.to,n.to),t.to=n.to)})},n.updateViewportTimeSpan||400)}function c(e,t){var n=e.state.foldGutter,r=t.line;r>=n.from&&r<n.to&&o(e,r,r+1)}e.defineOption("foldGutter",!1,function(r,i,o){o&&o!=e.Init&&(r.clearGutter(r.state.foldGutter.options.gutter),r.state.foldGutter=null,r.off("gutterClick",a),r.off("change",l),r.off("viewportChange",u),r.off("fold",c),r.off("unfold",c),r.off("swapDoc",s)),i&&(r.state.foldGutter=new t(n(i)),s(r),r.on("gutterClick",a),r.on("change",l),r.on("viewportChange",u),r.on("fold",c),r.on("unfold",c),r.on("swapDoc",s))});var f=e.Pos}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerHelper("fold","brace",function(t,n){function r(r){for(var i=n.ch,l=0;;){var u=0>=i?-1:a.lastIndexOf(r,i-1);if(-1!=u){if(1==l&&u<n.ch)break;if(o=t.getTokenTypeAt(e.Pos(s,u+1)),!/^(comment|string)/.test(o))return u+1;i=u-1}else{if(1==l)break;l=1,i=a.length}}}var i,o,s=n.line,a=t.getLine(s),l="{",u="}",i=r("{");if(null==i&&(l="[",u="]",i=r("[")),null!=i){var c,f,h=1,p=t.lastLine();e:for(var d=s;p>=d;++d)for(var m=t.getLine(d),g=d==s?i:0;;){var v=m.indexOf(l,g),b=m.indexOf(u,g);if(0>v&&(v=m.length),0>b&&(b=m.length),g=Math.min(v,b),g==m.length)break;if(t.getTokenTypeAt(e.Pos(d,g+1))==o)if(g==v)++h;else if(!--h){c=d,f=g;break e}++g}if(null!=c&&(s!=c||f!=i))return{from:e.Pos(s,i),to:e.Pos(c,f)}}}),e.registerHelper("fold","import",function(t,n){function r(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));if(/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"keyword"!=r.type||"import"!=r.string)return null;for(var i=n,o=Math.min(t.lastLine(),n+10);o>=i;++i){var s=t.getLine(i),a=s.indexOf(";");if(-1!=a)return{startCh:r.end,end:e.Pos(i,a)}}}var i,n=n.line,o=r(n);if(!o||r(n-1)||(i=r(n-2))&&i.end.line==n-1)return null;for(var s=o.end;;){var a=r(s.line+1);if(null==a)break;s=a.end}return{from:t.clipPos(e.Pos(n,o.startCh+1)),to:s}}),e.registerHelper("fold","include",function(t,n){function r(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));return/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"meta"==r.type&&"#include"==r.string.slice(0,8)?r.start+8:void 0}var n=n.line,i=r(n);if(null==i||null!=r(n-1))return null;for(var o=n;;){var s=r(o+1);if(null==s)break;++o}return{from:e.Pos(n,i+1),to:t.clipPos(e.Pos(o))}})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){return e.line-t.line||e.ch-t.ch}function n(e,t,n,r){this.line=t,this.ch=n,this.cm=e,this.text=e.getLine(t),this.min=r?r.from:e.firstLine(),this.max=r?r.to-1:e.lastLine()}function r(e,t){var n=e.cm.getTokenTypeAt(h(e.line,t));return n&&/\btag\b/.test(n)}function i(e){return e.line>=e.max?void 0:(e.ch=0,e.text=e.cm.getLine(++e.line),!0)}function o(e){return e.line<=e.min?void 0:(e.text=e.cm.getLine(--e.line),e.ch=e.text.length,!0)}function s(e){for(;;){var t=e.text.indexOf(">",e.ch);if(-1==t){if(i(e))continue;return}{if(r(e,t+1)){var n=e.text.lastIndexOf("/",t),o=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,o?"selfClose":"regular"}e.ch=t+1}}}function a(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(-1==t){if(o(e))continue;return}if(r(e,t+1)){m.lastIndex=t,e.ch=t;var n=m.exec(e.text);if(n&&n.index==t)return n}else e.ch=t}}function l(e){for(;;){m.lastIndex=e.ch;var t=m.exec(e.text);if(!t){if(i(e))continue;return}{if(r(e,t.index+1))return e.ch=t.index+t[0].length,t;e.ch=t.index+1}}}function u(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(-1==t){if(o(e))continue;return}{if(r(e,t+1)){var n=e.text.lastIndexOf("/",t),i=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,i?"selfClose":"regular"}e.ch=t}}}function c(e,t){for(var n=[];;){var r,i=l(e),o=e.line,a=e.ch-(i?i[0].length:0);if(!i||!(r=s(e)))return;if("selfClose"!=r)if(i[1]){for(var u=n.length-1;u>=0;--u)if(n[u]==i[2]){n.length=u;break}if(0>u&&(!t||t==i[2]))return{tag:i[2],from:h(o,a),to:h(e.line,e.ch)}}else n.push(i[2])}}function f(e,t){for(var n=[];;){var r=u(e);if(!r)return;if("selfClose"!=r){var i=e.line,o=e.ch,s=a(e);if(!s)return;if(s[1])n.push(s[2]);else{for(var l=n.length-1;l>=0;--l)if(n[l]==s[2]){n.length=l;break}if(0>l&&(!t||t==s[2]))return{tag:s[2],from:h(e.line,e.ch),to:h(i,o)}}}else a(e)}}var h=e.Pos,p="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",d=p+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",m=new RegExp("<(/?)(["+p+"]["+d+"]*)","g");e.registerHelper("fold","xml",function(e,t){for(var r=new n(e,t.line,0);;){var i,o=l(r);if(!o||r.line!=t.line||!(i=s(r)))return;if(!o[1]&&"selfClose"!=i){var t=h(r.line,r.ch),a=c(r,o[2]);return a&&{from:t,to:a.from}}}}),e.findMatchingTag=function(e,r,i){var o=new n(e,r.line,r.ch,i);if(-1!=o.text.indexOf(">")||-1!=o.text.indexOf("<")){var l=s(o),u=l&&h(o.line,o.ch),p=l&&a(o);if(l&&p&&!(t(o,r)>0)){var d={from:h(o.line,o.ch),to:u,tag:p[2]};return"selfClose"==l?{open:d,close:null,at:"open"}:p[1]?{open:f(o,p[2]),close:d,at:"close"}:(o=new n(e,u.line,u.ch,i),{open:d,close:c(o,p[2]),at:"open"})}}},e.findEnclosingTag=function(e,t,r){for(var i=new n(e,t.line,t.ch,r);;){var o=f(i);if(!o)break;var s=new n(e,t.line,t.ch,r),a=c(s,o.tag);if(a)return{open:o,close:a}}},e.scanForClosingTag=function(e,t,r,i){var o=new n(e,t.line,t.ch,i?{from:0,to:i}:null);return c(o,r)}}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerHelper("fold","markdown",function(t,n){function r(n){var r=t.getTokenTypeAt(e.Pos(n,0));return r&&/\bheader\b/.test(r)}function i(e,t,n){var i=t&&t.match(/^#+/);return i&&r(e)?i[0].length:(i=n&&n.match(/^[=\-]+\s*$/),i&&r(e+1)?"="==n[0]?1:2:o)}var o=100,s=t.getLine(n.line),a=t.getLine(n.line+1),l=i(n.line,s,a);if(l===o)return void 0;for(var u=t.lastLine(),c=n.line,f=t.getLine(c+2);u>c&&!(i(c+1,a,f)<=l);)++c,a=f,f=t.getLine(c+2);return{from:e.Pos(n.line,s.length),to:e.Pos(c,t.getLine(c).length)}})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerGlobalHelper("fold","comment",function(e){return e.blockCommentStart&&e.blockCommentEnd},function(t,n){var r=t.getModeAt(n),i=r.blockCommentStart,o=r.blockCommentEnd;if(i&&o){for(var s,a=n.line,l=t.getLine(a),u=n.ch,c=0;;){var f=0>=u?-1:l.lastIndexOf(i,u-1);if(-1!=f){if(1==c&&f<n.ch)return;if(/comment/.test(t.getTokenTypeAt(e.Pos(a,f+1)))){s=f+i.length;break}u=f-1}else{if(1==c)return;c=1,u=l.length}}var h,p,d=1,m=t.lastLine();e:for(var g=a;m>=g;++g)for(var v=t.getLine(g),b=g==a?s:0;;){var y=v.indexOf(i,b),x=v.indexOf(o,b);if(0>y&&(y=v.length),0>x&&(x=v.length),b=Math.min(y,x),b==v.length)break;if(b==y)++d;else if(!--d){h=g,p=b;break e}++b}if(null!=h&&(a!=h||p!=s))return{from:e.Pos(a,s),to:e.Pos(h,p)}}})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(t,n,r){function i(t){var n=e.wheelEventPixels(t)["horizontal"==o.orientation?"x":"y"],r=o.pos;o.moveTo(o.pos+n),o.pos!=r&&e.e_preventDefault(t)}this.orientation=n,this.scroll=r,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=t+"-"+n,this.inner=this.node.appendChild(document.createElement("div"));var o=this;e.on(this.inner,"mousedown",function(t){function n(){e.off(document,"mousemove",r),e.off(document,"mouseup",n)}function r(e){return 1!=e.which?n():void o.moveTo(a+(e[i]-s)*(o.total/o.size))}if(1==t.which){e.e_preventDefault(t);var i="horizontal"==o.orientation?"pageX":"pageY",s=t[i],a=o.pos;e.on(document,"mousemove",r),e.on(document,"mouseup",n)}}),e.on(this.node,"click",function(t){e.e_preventDefault(t);var n,r=o.inner.getBoundingClientRect();n="horizontal"==o.orientation?t.clientX<r.left?-1:t.clientX>r.right?1:0:t.clientY<r.top?-1:t.clientY>r.bottom?1:0,o.moveTo(o.pos+n*o.screen)}),e.on(this.node,"mousewheel",i),e.on(this.node,"DOMMouseScroll",i)}function n(e,n,r){this.addClass=e,this.horiz=new t(e,"horizontal",r),n(this.horiz.node),this.vert=new t(e,"vertical",r),n(this.vert.node),this.width=null}t.prototype.moveTo=function(e,t){0>e&&(e=0),e>this.total-this.screen&&(e=this.total-this.screen),e!=this.pos&&(this.pos=e,this.inner.style["horizontal"==this.orientation?"left":"top"]=e*(this.size/this.total)+"px",t!==!1&&this.scroll(e,this.orientation))},t.prototype.update=function(e,t,n){this.screen=t,this.total=e,this.size=n,this.inner.style["horizontal"==this.orientation?"width":"height"]=this.screen*(this.size/this.total)+"px",this.inner.style["horizontal"==this.orientation?"left":"top"]=this.pos*(this.size/this.total)+"px"},n.prototype.update=function(e){if(null==this.width){var t=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;t&&(this.width=parseInt(t.height))}var n=this.width||0,r=e.scrollWidth>e.clientWidth+1,i=e.scrollHeight>e.clientHeight+1;return this.vert.node.style.display=i?"block":"none",this.horiz.node.style.display=r?"block":"none",i&&(this.vert.update(e.scrollHeight,e.clientHeight,e.viewHeight-(r?n:0)),this.vert.node.style.display="block",this.vert.node.style.bottom=r?n+"px":"0"),r&&(this.horiz.update(e.scrollWidth,e.clientWidth,e.viewWidth-(i?n:0)-e.barLeft),this.horiz.node.style.right=i?n+"px":"0",this.horiz.node.style.left=e.barLeft+"px"),{right:i?n:0,bottom:r?n:0}},n.prototype.setScrollTop=function(e){this.vert.moveTo(e,!1)},n.prototype.setScrollLeft=function(e){this.horiz.moveTo(e,!1)},n.prototype.clear=function(){var e=this.horiz.node.parentNode;e.removeChild(this.horiz.node),e.removeChild(this.vert.node)},e.scrollbarModel.simple=function(e,t){return new n("CodeMirror-simplescroll",e,t)},e.scrollbarModel.overlay=function(e,t){return new n("CodeMirror-overlayscroll",e,t)}}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("xml",function(t,n){function r(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();if("<"==r)return e.eat("!")?e.eat("[")?e.match("CDATA[")?n(s("atom","]]>")):null:e.match("--")?n(s("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(a(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=s("meta","?>"),"meta"):(C=e.eat("/")?"closeTag":"openTag",t.tokenize=i,"tag bracket");if("&"==r){var o;return o=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),o?"atom":"error"}return e.eatWhile(/[^&<]/),null}function i(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=r,C=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return C="equals",null;if("<"==n){t.tokenize=r,t.state=f,t.tagName=t.tagStart=null;var i=t.tokenize(e,t);return i?i+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=o(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function o(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=i;break}return"string"};return t.isInAttribute=!0,t}function s(e,t){return function(n,i){for(;!n.eol();){if(n.match(t)){i.tokenize=r;break}n.next()}return e}}function a(e){return function(t,n){for(var i;null!=(i=t.next());){if("<"==i)return n.tokenize=a(e+1),n.tokenize(t,n);if(">"==i){if(1==e){n.tokenize=r;break}return n.tokenize=a(e-1),n.tokenize(t,n)}}return"meta"}}function l(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(_.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function u(e){e.context&&(e.context=e.context.prev)}function c(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!_.contextGrabbers.hasOwnProperty(n)||!_.contextGrabbers[n].hasOwnProperty(t))return;u(e)}}function f(e,t,n){return"openTag"==e?(n.tagStart=t.column(),h):"closeTag"==e?p:f}function h(e,t,n){return"word"==e?(n.tagName=t.current(),k="tag",g):(k="error",h)}function p(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&_.implicitlyClosed.hasOwnProperty(n.context.tagName)&&u(n),n.context&&n.context.tagName==r?(k="tag",d):(k="tag error",m)}return k="error",m}function d(e,t,n){return"endTag"!=e?(k="error",d):(u(n),f)}function m(e,t,n){return k="error",d(e,t,n)}function g(e,t,n){if("word"==e)return k="attribute",v;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||_.autoSelfClosers.hasOwnProperty(r)?c(n,r):(c(n,r),n.context=new l(n,r,i==n.indented)),f}return k="error",g}function v(e,t,n){return"equals"==e?b:(_.allowMissing||(k="error"),g(e,t,n))}function b(e,t,n){return"string"==e?y:"word"==e&&_.allowUnquoted?(k="string",g):(k="error",g(e,t,n))}function y(e,t,n){return"string"==e?y:g(e,t,n)}var x=t.indentUnit,w=n.multilineTagIndentFactor||1,S=n.multilineTagIndentPastTag;null==S&&(S=!0);var C,k,_=n.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},A=n.alignCDATA;return{startState:function(){return{tokenize:r,state:f,indented:0,tagName:null,tagStart:null,context:null}},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;C=null;var n=t.tokenize(e,t);return(n||C)&&"comment"!=n&&(k=null,t.state=t.state(C||n,e,t),k&&(n="error"==k?n+" error":k)),n},indent:function(t,n,o){var s=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+x;if(s&&s.noIndent)return e.Pass;if(t.tokenize!=i&&t.tokenize!=r)return o?o.match(/^(\s*)/)[0].length:0;if(t.tagName)return S?t.tagStart+t.tagName.length+2:t.tagStart+x*w;if(A&&/<!\[CDATA\[/.test(n))return 0;var a=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(a&&a[1])for(;s;){if(s.tagName==a[2]){s=s.prev;break}if(!_.implicitlyClosed.hasOwnProperty(s.tagName))break;s=s.prev}else if(a)for(;s;){var l=_.contextGrabbers[s.tagName];if(!l||!l.hasOwnProperty(a[2]))break;s=s.prev}for(;s&&!s.startOfLine;)s=s.prev;return s?s.indent+x:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:n.htmlMode?"html":"xml",helperType:n.htmlMode?"html":"xml"}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function n(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}function r(e,t){return e.skipTo("-->")?(e.match("-->"),t.tokenize=null):e.skipToEnd(),["comment","comment"]}e.defineMode("css",function(t,n){function r(e,t){return p=t,e}function i(e,t){var n=e.next();if(g[n]){var i=g[n](e,t);if(i!==!1)return i}return"@"==n?(e.eatWhile(/[\w\\\-]/),r("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?r(null,"compare"):'"'==n||"'"==n?(t.tokenize=o(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),r("atom","hash")):"!"==n?(e.match(/^\s*\w*/),r("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),r("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?r(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?r("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?r(null,n):"u"==n&&e.match("rl(")?(e.backUp(1),t.tokenize=s,r("property","word")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),r("property","word")):r(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),r("number","unit")):e.match(/^\w+-/)?r("meta","meta"):void 0}function o(e){return function(t,n){for(var i,o=!1;null!=(i=t.next());){if(i==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==i}return(i==e||!o&&")"!=e)&&(n.tokenize=null),r("string","string")}}function s(e,t){return e.next(),t.tokenize=e.match(/\s*[\"\')]/,!1)?null:o(")"),r(null,"(")}function a(e,t,n){this.type=e,this.indent=t,this.prev=n}function l(e,t,n){return e.context=new a(n,t.indentation()+m,e.context),n}function u(e){return e.context=e.context.prev,e.context.type}function c(e,t,n){return _[n.context.type](e,t,n)}function f(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return c(e,t,n)}function h(e){var t=e.current().toLowerCase();d=S.hasOwnProperty(t)?"atom":w.hasOwnProperty(t)?"keyword":"variable"}n.propertyKeywords||(n=e.resolveMode("text/css"));var p,d,m=t.indentUnit,g=n.tokenHooks,v=n.mediaTypes||{},b=n.mediaFeatures||{},y=n.propertyKeywords||{},x=n.nonStandardPropertyKeywords||{},w=n.colorKeywords||{},S=n.valueKeywords||{},C=n.fontProperties||{},k=n.allowNested,_={};return _.top=function(e,t,n){if("{"==e)return l(n,t,"block");if("}"==e&&n.context.prev)return u(n);if("@media"==e)return l(n,t,"media");if("@font-face"==e)return"font_face_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return l(n,t,"at");if("hash"==e)d="builtin";else if("word"==e)d="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return l(n,t,"interpolation");if(":"==e)return"pseudo";if(k&&"("==e)return l(n,t,"parens")}return n.context.type},_.block=function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return y.hasOwnProperty(r)?(d="property","maybeprop"):x.hasOwnProperty(r)?(d="string-2","maybeprop"):k?(d=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(d+=" error","maybeprop")}return"meta"==e?"block":k||"hash"!=e&&"qualifier"!=e?_.top(e,t,n):(d="error","block")},_.maybeprop=function(e,t,n){return":"==e?l(n,t,"prop"):c(e,t,n)},_.prop=function(e,t,n){if(";"==e)return u(n);if("{"==e&&k)return l(n,t,"propBlock");if("}"==e||"{"==e)return f(e,t,n);if("("==e)return l(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t.current())){if("word"==e)h(t);else if("interpolation"==e)return l(n,t,"interpolation")}else d+=" error";return"prop"},_.propBlock=function(e,t,n){return"}"==e?u(n):"word"==e?(d="property","maybeprop"):n.context.type},_.parens=function(e,t,n){return"{"==e||"}"==e?f(e,t,n):")"==e?u(n):"("==e?l(n,t,"parens"):("word"==e&&h(t),"parens")},_.pseudo=function(e,t,n){return"word"==e?(d="variable-3",n.context.type):c(e,t,n)},_.media=function(e,t,n){if("("==e)return l(n,t,"media_parens");if("}"==e)return f(e,t,n);if("{"==e)return u(n)&&l(n,t,k?"block":"top");if("word"==e){var r=t.current().toLowerCase();d="only"==r||"not"==r||"and"==r?"keyword":v.hasOwnProperty(r)?"attribute":b.hasOwnProperty(r)?"property":"error"}return n.context.type},_.media_parens=function(e,t,n){return")"==e?u(n):"{"==e||"}"==e?f(e,t,n,2):_.media(e,t,n)},_.font_face_before=function(e,t,n){return"{"==e?l(n,t,"font_face"):c(e,t,n)},_.font_face=function(e,t,n){return"}"==e?u(n):"word"==e?(d=C.hasOwnProperty(t.current().toLowerCase())?"property":"error","maybeprop"):"font_face"},_.keyframes=function(e,t,n){return"word"==e?(d="variable","keyframes"):"{"==e?l(n,t,"top"):c(e,t,n)},_.at=function(e,t,n){return";"==e?u(n):"{"==e||"}"==e?f(e,t,n):("word"==e?d="tag":"hash"==e&&(d="builtin"),"at")},_.interpolation=function(e,t,n){return"}"==e?u(n):"{"==e||";"==e?f(e,t,n):("variable"!=e&&(d="error"),"interpolation")},{startState:function(e){return{tokenize:null,state:"top",context:new a("top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||i)(e,t);return n&&"object"==typeof n&&(p=n[1],n=n[0]),d=n,t.state=_[t.state](p,e,t),d},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),i=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),!n.prev||("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"font_face"!=n.type)&&(")"!=r||"parens"!=n.type&&"media_parens"!=n.type)&&("{"!=r||"at"!=n.type&&"media"!=n.type)||(i=n.indent-m,n=n.prev),i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});var i=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],o=t(i),s=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],a=t(s),l=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],u=t(l),c=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],f=t(c),h=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],p=t(h),d=["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","keep-all","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small"],m=t(d),g=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],v=t(g),b=i.concat(s).concat(l).concat(c).concat(h).concat(d);e.registerHelper("hintWords","css",b),e.defineMIME("text/css",{mediaTypes:o,mediaFeatures:a,propertyKeywords:u,nonStandardPropertyKeywords:f,colorKeywords:p,valueKeywords:m,fontProperties:v,tokenHooks:{"<":function(e,t){return e.match("!--")?(t.tokenize=r,r(e,t)):!1},"/":function(e,t){return e.eat("*")?(t.tokenize=n,n(e,t)):!1}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:o,mediaFeatures:a,propertyKeywords:u,nonStandardPropertyKeywords:f,colorKeywords:p,valueKeywords:m,fontProperties:v,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},":":function(e){return e.match(/\s*\{/)?[null,"{"]:!1},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return e.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:o,mediaFeatures:a,propertyKeywords:u,nonStandardPropertyKeywords:f,colorKeywords:p,valueKeywords:m,fontProperties:v,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},"@":function(e){return e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)?!1:(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("javascript",function(t,n){function r(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function i(e,t,n){return mt=e,gt=n,t}function o(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=s(n),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return i("number","number");if("."==n&&e.match(".."))return i("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return i(n);if("="==n&&e.eat(">"))return i("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==n)return e.eat("*")?(t.tokenize=a,a(e,t)):e.eat("/")?(e.skipToEnd(),i("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(r(e),e.eatWhile(/[gimy]/),i("regexp","string-2")):(e.eatWhile(kt),i("operator","operator",e.current()));if("`"==n)return t.tokenize=l,l(e,t);if("#"==n)return e.skipToEnd(),i("error","error");if(kt.test(n))return e.eatWhile(kt),i("operator","operator",e.current());if(St.test(n)){e.eatWhile(St);var o=e.current(),u=Ct.propertyIsEnumerable(o)&&Ct[o];return u&&"."!=t.lastType?i(u.type,u.style,o):i("variable","variable",o)}}function s(e){return function(t,n){var r,s=!1;if(yt&&"@"==t.peek()&&t.match(_t))return n.tokenize=o,i("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=e||s);)s=!s&&"\\"==r;return s||(n.tokenize=o),i("string","string")}}function a(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=o;break}r="*"==n}return i("comment","comment")}function l(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=o;break}r=!r&&"\\"==n}return i("quasi","string-2",e.current())}function u(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(0>n)){for(var r=0,i=!1,o=n-1;o>=0;--o){var s=e.string.charAt(o),a=At.indexOf(s);if(a>=0&&3>a){if(!r){++o;break}if(0==--r)break}else if(a>=3&&6>a)++r;else if(St.test(s))i=!0;else{if(/["'\/]/.test(s))return;if(i&&!r){++o;break}}}i&&!r&&(t.fatArrowAt=o)}}function c(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function f(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==t)return!0}function h(e,t,n,r,i){var o=e.cc;for(Lt.state=e,Lt.stream=i,Lt.marked=null,Lt.cc=o,Lt.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var s=o.length?o.pop():xt?S:w;if(s(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Lt.marked?Lt.marked:"variable"==n&&f(e,r)?"variable-2":t}}}function p(){for(var e=arguments.length-1;e>=0;e--)Lt.cc.push(arguments[e])}function d(){return p.apply(null,arguments),!0}function m(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var r=Lt.state;if(r.context){if(Lt.marked="def",t(r.localVars))return;r.localVars={name:e,next:r.localVars}}else{if(t(r.globalVars))return;n.globalVars&&(r.globalVars={name:e,next:r.globalVars})}}function g(){Lt.state.context={prev:Lt.state.context,vars:Lt.state.localVars},Lt.state.localVars=Tt}function v(){Lt.state.localVars=Lt.state.context.vars,Lt.state.context=Lt.state.context.prev}function b(e,t){var n=function(){var n=Lt.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new c(r,Lt.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function y(){var e=Lt.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function x(e){function t(n){return n==e?d():";"==e?p():d(t)}return t}function w(e,t){return"var"==e?d(b("vardef",t.length),B,x(";"),y):"keyword a"==e?d(b("form"),S,w,y):"keyword b"==e?d(b("form"),w,y):"{"==e?d(b("}"),W,y):";"==e?d():"if"==e?("else"==Lt.state.lexical.info&&Lt.state.cc[Lt.state.cc.length-1]==y&&Lt.state.cc.pop()(),d(b("form"),S,w,y,K)):"function"==e?d(et):"for"==e?d(b("form"),Y,w,y):"variable"==e?d(b("stat"),O):"switch"==e?d(b("form"),S,b("}","switch"),x("{"),W,y,y):"case"==e?d(S,x(":")):"default"==e?d(x(":")):"catch"==e?d(b("form"),g,x("("),tt,x(")"),w,y,v):"module"==e?d(b("form"),g,st,v,y):"class"==e?d(b("form"),nt,y):"export"==e?d(b("form"),at,y):"import"==e?d(b("form"),lt,y):p(b("stat"),S,x(";"),y)}function S(e){return k(e,!1)}function C(e){return k(e,!0)}function k(e,t){if(Lt.state.fatArrowAt==Lt.stream.start){var n=t?M:I;if("("==e)return d(g,b(")"),j(q,")"),y,x("=>"),n,v);if("variable"==e)return p(g,q,x("=>"),n,v)}var r=t?L:E;return Et.hasOwnProperty(e)?d(r):"function"==e?d(et,r):"keyword c"==e?d(t?A:_):"("==e?d(b(")"),_,pt,x(")"),y,r):"operator"==e||"spread"==e?d(t?C:S):"["==e?d(b("]"),ft,y,r):"{"==e?$(N,"}",null,r):"quasi"==e?p(T,r):d()}function _(e){return e.match(/[;\}\)\],]/)?p():p(S)}function A(e){return e.match(/[;\}\)\],]/)?p():p(C)}function E(e,t){return","==e?d(S):L(e,t,!1)}function L(e,t,n){var r=0==n?E:L,i=0==n?S:C;return"=>"==e?d(g,n?M:I,v):"operator"==e?/\+\+|--/.test(t)?d(r):"?"==t?d(S,x(":"),i):d(i):"quasi"==e?p(T,r):";"!=e?"("==e?$(C,")","call",r):"."==e?d(z,r):"["==e?d(b("]"),_,x("]"),y,r):void 0:void 0}function T(e,t){return"quasi"!=e?p():"${"!=t.slice(t.length-2)?d(T):d(S,P)}function P(e){return"}"==e?(Lt.marked="string-2",Lt.state.tokenize=l,d(T)):void 0}function I(e){return u(Lt.stream,Lt.state),p("{"==e?w:S)}function M(e){return u(Lt.stream,Lt.state),p("{"==e?w:C)}function O(e){return":"==e?d(y,w):p(E,x(";"),y)}function z(e){return"variable"==e?(Lt.marked="property",d()):void 0}function N(e,t){return"variable"==e||"keyword"==Lt.style?(Lt.marked="property",d("get"==t||"set"==t?D:R)):"number"==e||"string"==e?(Lt.marked=yt?"property":Lt.style+" property",d(R)):"jsonld-keyword"==e?d(R):"["==e?d(S,x("]"),R):void 0}function D(e){return"variable"!=e?p(R):(Lt.marked="property",d(et))}function R(e){return":"==e?d(C):"("==e?p(et):void 0}function j(e,t){function n(r){if(","==r){var i=Lt.state.lexical;return"call"==i.info&&(i.pos=(i.pos||0)+1),d(e,n)}return r==t?d():d(x(t))}return function(r){return r==t?d():p(e,n)}}function $(e,t,n){for(var r=3;r<arguments.length;r++)Lt.cc.push(arguments[r]);return d(b(t,n),j(e,t),y)}function W(e){return"}"==e?d():p(w,W)}function F(e){return wt&&":"==e?d(H):void 0}function H(e){return"variable"==e?(Lt.marked="variable-3",d()):void 0}function B(){return p(q,F,V,G)}function q(e,t){return"variable"==e?(m(t),d()):"["==e?$(q,"]"):"{"==e?$(U,"}"):void 0}function U(e,t){return"variable"!=e||Lt.stream.match(/^\s*:/,!1)?("variable"==e&&(Lt.marked="property"),d(x(":"),q,V)):(m(t),d(V))}function V(e,t){return"="==t?d(C):void 0}function G(e){return","==e?d(B):void 0}function K(e,t){return"keyword b"==e&&"else"==t?d(b("form","else"),w,y):void 0}function Y(e){return"("==e?d(b(")"),X,x(")"),y):void 0}function X(e){return"var"==e?d(B,x(";"),J):";"==e?d(J):"variable"==e?d(Q):p(S,x(";"),J)}function Q(e,t){return"in"==t||"of"==t?(Lt.marked="keyword",d(S)):d(E,J)}function J(e,t){return";"==e?d(Z):"in"==t||"of"==t?(Lt.marked="keyword",d(S)):p(S,x(";"),Z)}function Z(e){")"!=e&&d(S)}function et(e,t){return"*"==t?(Lt.marked="keyword",d(et)):"variable"==e?(m(t),d(et)):"("==e?d(g,b(")"),j(tt,")"),y,w,v):void 0}function tt(e){return"spread"==e?d(tt):p(q,F)}function nt(e,t){return"variable"==e?(m(t),d(rt)):void 0}function rt(e,t){return"extends"==t?d(S,rt):"{"==e?d(b("}"),it,y):void 0}function it(e,t){return"variable"==e||"keyword"==Lt.style?(Lt.marked="property","get"==t||"set"==t?d(ot,et,it):d(et,it)):"*"==t?(Lt.marked="keyword",d(it)):";"==e?d(it):"}"==e?d():void 0}function ot(e){return"variable"!=e?p():(Lt.marked="property",d())}function st(e,t){return"string"==e?d(w):"variable"==e?(m(t),d(ct)):void 0}function at(e,t){return"*"==t?(Lt.marked="keyword",d(ct,x(";"))):"default"==t?(Lt.marked="keyword",d(S,x(";"))):p(w)}function lt(e){return"string"==e?d():p(ut,ct)}function ut(e,t){return"{"==e?$(ut,"}"):("variable"==e&&m(t),d())}function ct(e,t){return"from"==t?(Lt.marked="keyword",d(S)):void 0}function ft(e){return"]"==e?d():p(C,ht)}function ht(e){return"for"==e?p(pt,x("]")):","==e?d(j(A,"]")):p(j(C,"]"))}function pt(e){return"for"==e?d(Y,pt):"if"==e?d(S,pt):void 0}function dt(e,t){return"operator"==e.lastType||","==e.lastType||kt.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}var mt,gt,vt=t.indentUnit,bt=n.statementIndent,yt=n.jsonld,xt=n.json||yt,wt=n.typescript,St=n.wordCharacters||/[\w$\xa1-\uffff]/,Ct=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("operator"),o={type:"atom",style:"atom"},s={"if":e("if"),"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":r,"break":r,"continue":r,"new":r,"delete":r,"throw":r,"debugger":r,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o,"this":e("this"),module:e("module"),"class":e("class"),"super":e("atom"),"yield":r,"export":e("export"),"import":e("import"),"extends":r};if(wt){var a={type:"variable",style:"variable-3"},l={"interface":e("interface"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),string:a,number:a,bool:a,any:a};for(var u in l)s[u]=l[u]}return s}(),kt=/[+\-*&%=<>!?|~^]/,_t=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,At="([{}])",Et={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Lt={state:null,column:null,marked:null,cc:null},Tt={name:"this",next:{name:"arguments"}};return y.lex=!0,{startState:function(e){var t={tokenize:o,lastType:"sof",cc:[],lexical:new c((e||0)-vt,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),u(e,t)),t.tokenize!=a&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==mt?n:(t.lastType="operator"!=mt||"++"!=gt&&"--"!=gt?mt:"incdec",h(t,n,mt,gt,e))},indent:function(t,r){if(t.tokenize==a)return e.Pass;if(t.tokenize!=o)return 0;var i=r&&r.charAt(0),s=t.lexical;if(!/^\s*else\b/.test(r))for(var l=t.cc.length-1;l>=0;--l){var u=t.cc[l];if(u==y)s=s.prev;else if(u!=K)break}"stat"==s.type&&"}"==i&&(s=s.prev),bt&&")"==s.type&&"stat"==s.prev.type&&(s=s.prev);var c=s.type,f=i==c;return"vardef"==c?s.indented+("operator"==t.lastType||","==t.lastType?s.info+1:0):"form"==c&&"{"==i?s.indented:"form"==c?s.indented+vt:"stat"==c?s.indented+(dt(t,r)?bt||vt:0):"switch"!=s.info||f||0==n.doubleIndentSwitch?s.align?s.column+(f?0:1):s.indented+(f?0:vt):s.indented+(/^(?:case|default)\b/.test(r)?vt:2*vt)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:xt?null:"/*",blockCommentEnd:xt?null:"*/",lineComment:xt?null:"//",fold:"brace",helperType:xt?"json":"javascript",jsonldMode:yt,jsonMode:xt}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.emmetCodeMirror=e()}}(function(){var define,module,exports;return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e){var t=e("../lib/assets/resources"),n=e("../lib/snippets.json");t.setVocabulary(n,!0)},{"../lib/assets/resources":30,"../lib/snippets.json":65}],2:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(){if(CodeMirror.version>="3.1")return CodeMirror.Pass;throw CodeMirror.Pass}function n(e){return function(t){a.setupContext(t);var n;return t.operation(function(){n=i(e,t)}),n}}function r(e){return function(t){a.setupContext(t);var n=a.selectionList(),r=null;return t.operation(function(){for(var o=0,s=n.length;s>o&&(a.selectionIndex=o,r=i(e,t),r!==CodeMirror.Pass);o++);}),r}}function i(e,n){if("expand_abbreviation_with_tab"==e&&(n.somethingSelected()||!a.isValidSyntax()))return t();var r=!1;try{if(r=l.run(e,a),!r&&"insert_formatted_line_break_only"==e)return t()}catch(i){}return r}function o(e){return u?e:e.replace("Cmd","Ctrl")}function s(e,t){e=o(e),CodeMirror.keyMap["default"][e]="emmet."+t}var a=e("./editor"),l=e("emmet"),u=/Mac/.test(navigator.platform),c={"Cmd-E":"expand_abbreviation",Tab:"expand_abbreviation_with_tab","Cmd-D":"balance_outward","Shift-Cmd-D":"balance_inward","Cmd-M":"matching_pair","Shift-Cmd-A":"wrap_with_abbreviation","Ctrl-Alt-Right":"next_edit_point","Ctrl-Alt-Left":"prev_edit_point","Cmd-L":"select_line","Cmd-Shift-M":"merge_lines","Cmd-/":"toggle_comment","Cmd-J":"split_join_tag","Cmd-K":"remove_tag","Shift-Cmd-Y":"evaluate_math_expression","Ctrl-Up":"increment_number_by_1","Ctrl-Down":"decrement_number_by_1","Ctrl-Alt-Up":"increment_number_by_01","Ctrl-Alt-Down":"decrement_number_by_01","Shift-Ctrl-Up":"increment_number_by_10","Shift-Ctrl-Down":"decrement_number_by_10","Shift-Cmd-.":"select_next_item","Shift-Cmd-,":"select_previous_item","Cmd-B":"reflect_css_value",Enter:"insert_formatted_line_break_only"},f=["prev_edit_point","next_edit_point","merge_lines","reflect_css_value","select_next_item","select_previous_item","wrap_with_abbreviation","update_tag","insert_formatted_line_break_only"];return CodeMirror.defineOption?CodeMirror.defineOption("profile","html"):CodeMirror.defaults.profile="html",Object.keys(c).forEach(function(e){var t=c[e],i="emmet."+t;CodeMirror.commands[i]||(CodeMirror.commands[i]=~f.indexOf(t)?n(t):r(t)),s(e,t)}),{emmet:l,editor:a,setKeymap:function(e){Object.keys(e).forEach(function(t){s(t,e[t])})},clearKeymap:function(){var e=CodeMirror.keyMap["default"],t=/^emmet\./;Object.keys(e).forEach(function(n){t.test(e[n])&&delete e[n]})},addKeybinding:s,removeKeybinding:function(e){e=o(e);var t=CodeMirror.keyMap["default"];e in t?delete t[e]:(e="emmet."+e,Object.keys(t).forEach(function(n){t[n]===e&&delete t[n]}))}}})},{"./editor":3,emmet:37}],3:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t){return arguments.length>2&&"object"!=typeof t&&(t={line:arguments[1],ch:arguments[2]}),e.indexFromPos(t)}function n(e,t){return e.posFromIndex(t)}var r=e("emmet"),i=r.utils.common,o=r.utils.action,s=r.resources,a=r.tabStops;return{context:null,selectionIndex:0,modeMap:{"text/html":"html","application/xml":"xml","text/xsl":"xsl","text/css":"css","text/x-less":"less","text/x-scss":"scss","text/x-sass":"sass","text/x-styl":"stylus"},setupContext:function(e,t){this.context=e,this.selectionIndex=t||0;var n=i.repeatString(" ",e.getOption("indentUnit"));e.getOption("indentWithTabs")&&(n="	"),s.setVariable("indentation",n)},selectionList:function(){var e=this.context;return e.listSelections().map(function(n){var r=t(e,n.anchor),i=t(e,n.head);return{start:Math.min(r,i),end:Math.max(r,i)}})},getCaretPos:function(){return this.getSelectionRange().start},setCaretPos:function(e){this.createSelection(e)},getSelectionRange:function(){return this.selectionList()[this.selectionIndex]},createSelection:function(e,t){"undefined"==typeof t&&(t=e);var r=this.selectionList(),i=this.context;r[this.selectionIndex]={start:e,end:t},this.context.setSelections(r.map(function(e){return{head:n(i,e.start),anchor:n(i,e.end)}}))},getSelection:function(){var e=this.getSelectionRange();return e.start=n(this.context,e.start),e.end=n(this.context,e.end),this.context.getRange(e.start,e.end)},getCurrentLineRange:function(){var e=n(this.context,this.getCaretPos());return{start:t(this.context,e.line,0),end:t(this.context,e.line,this.context.getLine(e.line).length)}},getCurrentLine:function(){var e=n(this.context,this.getCaretPos());return this.context.getLine(e.line)||""},replaceContent:function(e,t,r,o){"undefined"==typeof r&&(r="undefined"==typeof t?this.getContent().length:t),"undefined"==typeof t&&(t=0),o||(e=i.padString(e,i.getLinePaddingFromPosition(this.getContent(),t)));var s=a.extract(e,{escape:function(e){return e}});e=s.text;var l=s.tabstops[0]||{start:e.length,end:e.length};l.start+=t,l.end+=t,this.context.replaceRange(e,n(this.context,t),n(this.context,r)),this.createSelection(l.start,l.end)},getContent:function(){return this.context.getValue()},getSyntax:function(){var e=this.context.getOption("mode");return this.modeMap[e]||o.detectSyntax(this,e)},getProfileName:function(){return this.context.getOption("profile")?this.context.getOption("profile"):o.detectProfile(this)},prompt:function(e){return prompt(e)},getFilePath:function(){return location.href},isValidSyntax:function(){return s.hasSyntax(this.getSyntax())}}})},{emmet:37}],4:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){return e[e.length-1]}function n(e,t){var n=l.outputInfo(e),r=n.content,i=c(e.getSelectionRange());if(p&&!p.range.equal(i)&&(p=null),p&&i.length())if("in"==t){if("tag"==p.type&&!p.close)return!1;if(p.range.equal(p.outerRange))p.range=p.innerRange;else{var o=a.narrowToNonSpace(r,p.innerRange);p=s.find(r,o.start+1),p&&p.range.equal(i)&&p.outerRange.equal(i)&&(p.range=p.innerRange)}}else!p.innerRange.equal(p.outerRange)&&p.range.equal(p.innerRange)&&i.equal(p.range)?p.range=p.outerRange:(p=s.find(r,i.start),p&&p.range.equal(i)&&p.innerRange.equal(i)&&(p.range=p.outerRange));else p=s.find(r,i.start);return p&&(p.innerRange.equal(i)&&(p.range=p.outerRange),!p.range.equal(i))?(e.createSelection(p.range.start,p.range.end),!0):(p=null,!1)}function r(e,n){var r=[e.range(!0)];r.push(e.valueRange(!0));var i=h.nestedSectionsInRule(e),o=e.list();if(o.length||i.length){var s=Number.POSITIVE_INFINITY,a=-1;o.length&&(s=o[0].namePosition(!0),a=t(o).range(!0).end),i.length&&(i[0].start<s&&(s=i[0].start),t(i).end>a&&(a=t(i).end)),r.push(c.create2(s,a))}r=r.concat(i);var l=f.propertyFromPosition(e,n)||o[0];if(l){r.push(l.range(!0));var u=l.valueRange(!0);l.end()||(u._unterminated=!0),r.push(u)}return r}function i(e,t){var n;if("string"==typeof e){var i=h.matchEnclosingRule(e,t);i&&(n=f.parse(i.substring(e),{offset:i.start}))}else n=e;if(!n)return null;var o=r(n,t);return o=o.filter(function(e){return!!e.length}),a.unique(o,function(e){return e.valueOf()})}function o(e,n){var r=l.outputInfo(e),o=r.content,s=c(e.getSelectionRange()),u=i(r.content,s.start);if(!u&&s.length())try{var h=f.parse(s.substring(r.content),{offset:s.start});u=i(h,s.start)}catch(p){}if(!u)return!1;u=c.sort(u,!0);var d=a.find(u,function(e){return e.equal(s)});if(d||(d=a.find(u,function(e){return e._unterminated?e.include(s.start):e.inside(s.start)})),!d)return!1;var m=u.indexOf(d);if(d.equal(s)&&(m+="out"==n?1:-1),0>m||m>=u.length)if(m>=u.length&&"out"==n){pos=d.start-1;var g=i(o,pos);g&&(d=t(g.filter(function(e){return e.inside(pos)})))}else d=0>m&&"in"==n?null:null;else d=u[m];return d?(e.createSelection(d.start,d.end),!0):!1}var s=e("../assets/htmlMatcher"),a=e("../utils/common"),l=e("../utils/editor"),u=e("../utils/action"),c=e("../assets/range"),f=e("../editTree/css"),h=e("../utils/cssSections"),p=null;return{balance:function(e,t){t=String((t||"out").toLowerCase());var r=l.outputInfo(e);return u.isSupportedCSS(r.syntax)?o(e,t):n(e,t)},balanceInwardAction:function(e){return this.balance(e,"in")},balanceOutwardAction:function(e){return this.balance(e,"out")},goToMatchingPairAction:function(e){var t=String(e.getContent()),n=e.getCaretPos();"<"==t.charAt(n)&&n++;var r=s.tag(t,n);return r&&r.close?(e.setCaretPos(r.open.range.inside(n)?r.close.range.start:r.open.range.start),!0):!1}}})},{"../assets/htmlMatcher":25,"../assets/range":29,"../editTree/css":35,"../utils/action":67,"../utils/common":70,"../utils/cssSections":71,"../utils/editor":72}],5:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t,n){return n=n||0,t.charAt(n)==e.charAt(0)&&t.substr(n,e.length)==e}function n(e,t,n){var r=e.getFilePath(),a="application/octet-stream";if(null===r)throw"You should save your file before using this action";var l=i.locateFile(r,t);if(null===l)throw"Can't find "+t+" file";return i.read(l,function(r,u){if(r)throw"Unable to read "+l+": "+r;var c=o.encode(String(u));if(!c)throw"Can't encode file content to base64";c="data:"+(s.mimeTypes[String(i.getExt(l))]||a)+";base64,"+c,e.replaceContent("$0"+c,n,n+t.length)}),!0}function r(e,t,n){var r=String(e.prompt("Enter path to file (absolute or relative)"));if(!r)return!1;var s=i.createPath(e.getFilePath(),r);if(!s)throw"Can't save file";return i.save(s,o.decode(t.replace(/^data\:.+?;.+?,/,""))),e.replaceContent("$0"+r,n,n+t.length),!0}var i=e("../plugin/file"),o=e("../utils/base64"),s=e("../utils/action"),a=e("../utils/editor");return{encodeDecodeDataUrlAction:function(e){var i=String(e.getSelection()),o=e.getCaretPos(),s=a.outputInfo(e);if(!i)for(var l,u=s.content;o-->=0;){if(t("src=",u,o)){(l=u.substr(o).match(/^(src=(["'])?)([^'"<>\s]+)\1?/))&&(i=l[3],o+=l[1].length);break}if(t("url(",u,o)){(l=u.substr(o).match(/^(url\((['"])?)([^'"\)\s]+)\1?/))&&(i=l[3],o+=l[1].length);break}}return i?t("data:",i)?r(e,i,o):n(e,i,o):!1}}})},{"../plugin/file":60,"../utils/action":67,"../utils/base64":68,"../utils/editor":72}],6:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(){function e(e,t,n){function r(e){for(var t=e;t>=0;){var n=o.charAt(t);if("\n"==n||"\r"==n)break;t--}return o.substring(t,e)}t=t||1,n=n||0;for(var i=e.getCaretPos()+n,o=String(e.getContent()),s=o.length,a=-1,l=/^\s+$/;s>=i&&i>=0;){i+=t;var u=o.charAt(i),c=o.charAt(i+1),f=o.charAt(i-1);switch(u){case'"':case"'":c==u&&"="==f&&(a=i+1);break;case">":"<"==c&&(a=i+1);break;case"\n":case"\r":l.test(r(i-1))&&(a=i)}if(-1!=a)break}return a}return{previousEditPointAction:function(t){var n=t.getCaretPos(),r=e(t,-1);return r==n&&(r=e(t,-1,-2)),-1!=r?(t.setCaretPos(r),!0):!1},nextEditPointAction:function(t){var n=e(t,1);return-1!=n?(t.setCaretPos(n),!0):!1}}})},{}],7:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("../utils/action"),n=e("../utils/common"),r=e("../utils/math"),i=e("../assets/range");return{evaluateMathAction:function(e){var o=e.getContent(),s=".+-*/\\",a=i(e.getSelectionRange());if(a.length()||(a=t.findExpressionBounds(e,function(e){return n.isNumeric(e)||-1!=s.indexOf(e)})),a&&a.length()){var l=a.substring(o);l=l.replace(/([\d\.\-]+)\\([\d\.\-]+)/g,"round($1/$2)");try{var u=n.prettifyNumber(r.evaluate(l));return e.replaceContent(u,a.start,a.end),e.setCaretPos(a.start+u.length),!0}catch(c){}}return!1}}})},{"../assets/range":29,"../utils/action":67,"../utils/common":70,"../utils/math":73}],8:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){var t=r(e.getSelectionRange()),n=String(e.getContent());if(t.length())return t.substring(n);var i=e.getCurrentLineRange();return a.extractAbbreviation(n.substring(i.start,t.start))}var n=e("../assets/handlerList"),r=e("../assets/range"),i=e("../assets/preferences"),o=e("../utils/common"),s=e("../utils/editor"),a=e("../utils/action"),l=e("../resolver/cssGradient"),u=e("../parser/abbreviation"),c=n.create();return c.add(function(e,n,r){var o=e.getSelectionRange().end,s=t(e);if(s){var l=u.expand(s,{syntax:n,profile:r,contextNode:a.captureContext(e)});if(l){var c=o-s.length,f=o,h=i.getArray("css.syntaxes");if(h&&~h.indexOf(n)){var p=e.getContent();";"==p.charAt(o)&&";"==l.charAt(l.length-1)&&f++}return e.replaceContent(l,c,f),!0}}return!1},{order:-1}),c.add(l.expandAbbreviationHandler.bind(l)),{expandAbbreviationAction:function(e,t,n){var r=o.toArray(arguments),i=s.outputInfo(e,t,n);return r[1]=i.syntax,r[2]=i.profile,c.exec(!1,r)},expandAbbreviationWithTabAction:function(e,t,n){var i=e.getSelection(),s=window.emmetCodeMirror.emmet.resources.getVariable("indentation");if(i){var a=r(e.getSelectionRange()),l=o.padString(i,s);e.replaceContent(s+"${0}",e.getCaretPos());var u=r(e.getCaretPos(),a.length());return e.replaceContent(l,u.start,u.end,!0),e.createSelection(u.start,u.start+l.length),!0}return this.expandAbbreviationAction(e,t,n)||e.replaceContent(s,e.getCaretPos()),!0},_defaultHandler:function(e,t,n){var r=e.getSelectionRange().end,i=this.findAbbreviation(e);if(i){var o=a.captureContext(e),s=u.expand(i,t,n,o);if(s)return e.replaceContent(s,r-i.length,r),!0}return!1},addHandler:function(e,t){c.add(e,t)},removeHandler:function(e){c.remove(e)},findAbbreviation:t}})},{"../assets/handlerList":24,"../assets/preferences":27,"../assets/range":29,"../parser/abbreviation":52,"../resolver/cssGradient":62,"../utils/action":67,"../utils/common":70,"../utils/editor":72}],9:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){return e=e.replace(/^\-/,""),~e.indexOf(".")?e.split(".")[0].length:e.length}var n=e("../utils/common"),r=e("../utils/action");return{increment01Action:function(e){return this.incrementNumber(e,.1)},increment1Action:function(e){return this.incrementNumber(e,1)},increment10Action:function(e){return this.incrementNumber(e,10)},decrement01Action:function(e){return this.incrementNumber(e,-.1)},decrement1Action:function(e){return this.incrementNumber(e,-1)},decrement10Action:function(e){return this.incrementNumber(e,-10)},incrementNumber:function(e,i){var o=!1,s=!1,a=r.findExpressionBounds(e,function(e,t,r){return n.isNumeric(e)?!0:"."==e?n.isNumeric(r.charAt(t+1))?s?!1:s=!0:!1:"-"==e?o?!1:o=!0:!1});if(a&&a.length()){var l=a.substring(String(e.getContent())),u=parseFloat(l);if(!isNaN(u)){if(u=n.prettifyNumber(u+i),/^(\-?)0+[1-9]/.test(l)){var c="";RegExp.$1&&(c="-",u=u.substring(1));var f=u.split(".");f[0]=n.zeroPadString(f[0],t(l)),u=c+f.join(".")}return e.replaceContent(u,a.start,a.end),e.createSelection(a.start,a.start+u.length),!0}}return!1}}})},{"../utils/action":67,"../utils/common":70}],10:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("../assets/preferences"),n=e("../utils/common"),r=(e("../assets/resources"),e("../assets/htmlMatcher")),i=e("../utils/editor"),o=["html","xml","xsl"];return t.define("css.closeBraceIndentation","\n","Indentation before closing brace of CSS rule. Some users prefere indented closing brace of CSS rule for better readability. This preference\u2019s value will be automatically inserted before closing brace when user adds newline in newly created CSS rule (e.g. when \u201cInsert formatted linebreak\u201d action will be performed in CSS file). If you\u2019re such user, you may want to write put a value like <code>\\n  </code> in this preference."),{insertLineBreakAction:function(e){if(!this.insertLineBreakOnlyAction(e)){for(var t,n=i.getCurrentLinePadding(e),r=String(e.getContent()),o=e.getCaretPos(),s=r.length,a="\n",l=e.getCurrentLineRange(),u="",c=l.end+1;s>c&&(t=r.charAt(c)," "==t||"  "==t);c++)u+=t;u.length>n.length?e.replaceContent(a+u,o,o,!0):e.replaceContent(a,o)}return!0},insertLineBreakOnlyAction:function(e){var s=i.outputInfo(e),a=e.getCaretPos(),l="\n",u="",c=CP.cssEditor.editor;if(c.getOption("indentWithTabs"))u="	";else for(var f=c.getOption("indentUnit"),h=0;f>h;h++)u+=" ";if(~o.indexOf(s.syntax)){var p=r.tag(s.content,a);if(p&&!p.innerRange.length())return e.replaceContent(l+u+n.getCaretPlaceholder()+l,a),!0}else if("css"==s.syntax){var d=s.content;if(a&&"{"==d.charAt(a-1)){var m=t.get("css.closeBraceIndentation"),g="}"==d.charAt(a);if(!g)for(var v,h=a,b=d.length;b>h&&(v=d.charAt(h),"{"!=v);h++)if("}"==v){m="",g=!0;break}g||(m+="}");var y=l+u+n.getCaretPlaceholder()+m;return e.replaceContent(y,a),!0}}return!1}}})},{"../assets/htmlMatcher":25,"../assets/preferences":27,"../assets/resources":30,"../utils/common":70,"../utils/editor":72}],11:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t,r){e=e.toLowerCase(),r=r||{},"string"==typeof r&&(r={label:r}),r.label||(r.label=n(e)),i[e]={name:e,fn:t,options:r}}function n(e){return r.trim(e.charAt(0).toUpperCase()+e.substring(1).replace(/_[a-z]/g,function(e){return" "+e.charAt(1).toUpperCase()}))}var r=e("../utils/common"),i={},o={base64:e("./base64"),editPoints:e("./editPoints"),evaluateMath:e("./evaluateMath"),expandAbbreviation:e("./expandAbbreviation"),incrementDecrement:e("./incrementDecrement"),lineBreaks:e("./lineBreaks"),balance:e("./balance"),mergeLines:e("./mergeLines"),reflectCSSValue:e("./reflectCSSValue"),removeTag:e("./removeTag"),selectItem:e("./selectItem"),selectLine:e("./selectLine"),splitJoinTag:e("./splitJoinTag"),toggleComment:e("./toggleComment"),updateImageSize:e("./updateImageSize"),wrapWithAbbreviation:e("./wrapWithAbbreviation"),updateTag:e("./updateTag")},s=function(e,t){var n=o[e];return n[t].bind(n)};return t("encode_decode_data_url",s("base64","encodeDecodeDataUrlAction"),"Encode\\Decode data:URL image"),t("prev_edit_point",s("editPoints","previousEditPointAction"),"Previous Edit Point"),t("next_edit_point",s("editPoints","nextEditPointAction"),"Next Edit Point"),t("evaluate_math_expression",s("evaluateMath","evaluateMathAction"),"Numbers/Evaluate Math Expression"),t("expand_abbreviation_with_tab",s("expandAbbreviation","expandAbbreviationWithTabAction"),{hidden:!0}),t("expand_abbreviation",s("expandAbbreviation","expandAbbreviationAction"),"Expand Abbreviation"),t("insert_formatted_line_break_only",s("lineBreaks","insertLineBreakOnlyAction"),{hidden:!0}),t("insert_formatted_line_break",s("lineBreaks","insertLineBreakAction"),{hidden:!0}),t("balance_inward",s("balance","balanceInwardAction"),"Balance (inward)"),t("balance_outward",s("balance","balanceOutwardAction"),"Balance (outward)"),t("matching_pair",s("balance","goToMatchingPairAction"),"HTML/Go To Matching Tag Pair"),t("merge_lines",s("mergeLines","mergeLinesAction"),"Merge Lines"),t("reflect_css_value",s("reflectCSSValue","reflectCSSValueAction"),"CSS/Reflect Value"),t("remove_tag",s("removeTag","removeTagAction"),"HTML/Remove Tag"),t("select_next_item",s("selectItem","selectNextItemAction"),"Select Next Item"),t("select_previous_item",s("selectItem","selectPreviousItemAction"),"Select Previous Item"),t("split_join_tag",s("splitJoinTag","splitJoinTagAction"),"HTML/Split\\Join Tag Declaration"),t("toggle_comment",s("toggleComment","toggleCommentAction"),"Toggle Comment"),t("update_image_size",s("updateImageSize","updateImageSizeAction"),"Update Image Size"),t("wrap_with_abbreviation",s("wrapWithAbbreviation","wrapWithAbbreviationAction"),"Wrap With Abbreviation"),t("update_tag",s("updateTag","updateTagAction"),"HTML/Update Tag"),[1,-1,10,-10,.1,-.1].forEach(function(e){var n=e>0?"increment":"decrement",r=String(Math.abs(e)).replace(".","").substring(0,2),i=n+"_number_by_"+r,o=n+r+"Action",a="Numbers/"+n.charAt(0).toUpperCase()+n.substring(1)+" number by "+Math.abs(e);t(i,s("incrementDecrement",o),a)}),{add:t,get:function(e){return i[e.toLowerCase()]},run:function(e,t){Array.isArray(t)||(t=r.toArray(arguments,1));var n=this.get(e);if(!n)throw new Error('Action "'+e+'" is not defined');return n.fn.apply(n,t)
},getAll:function(){return i},getList:function(){var e=this.getAll();return Object.keys(e).map(function(t){return e[t]})},getMenu:function(e){var t=[];return e=e||[],this.getList().forEach(function(i){if(!i.options.hidden&&!~e.indexOf(i.name)){var o=n(i.name),s=t;if(i.options.label){var a=i.options.label.split("/");o=a.pop();for(var l,u;l=a.shift();)u=r.find(s,function(e){return"submenu"==e.type&&e.name==l}),u||(u={name:l,type:"submenu",items:[]},s.push(u)),s=u.items}s.push({type:"action",name:i.name,label:o})}}),t},getActionNameForMenuTitle:function(e,t){return r.find(t||this.getMenu(),function(t){return"action"!=t.type?this.getActionNameForMenuTitle(e,t.items):t.label==e||t.name==e?t.name:void 0},this)}}})},{"../utils/common":70,"./balance":4,"./base64":5,"./editPoints":6,"./evaluateMath":7,"./expandAbbreviation":8,"./incrementDecrement":9,"./lineBreaks":10,"./mergeLines":12,"./reflectCSSValue":13,"./removeTag":14,"./selectItem":15,"./selectLine":16,"./splitJoinTag":17,"./toggleComment":18,"./updateImageSize":19,"./updateTag":20,"./wrapWithAbbreviation":21}],12:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("../assets/htmlMatcher"),n=e("../utils/common"),r=e("../utils/editor"),i=e("../assets/range");return{mergeLinesAction:function(e){var o=r.outputInfo(e),s=i(e.getSelectionRange());if(!s.length()){var a=t.find(o.content,e.getCaretPos());a&&(s=a.outerRange)}if(s.length()){for(var l=s.substring(o.content),u=n.splitByLines(l),c=1;c<u.length;c++)u[c]=u[c].replace(/^\s+/,"");l=u.join("").replace(/\s{2,}/," ");var f=l.length;return l=n.escapeText(l),e.replaceContent(l,s.start,s.end),e.createSelection(s.start,s.start+f),!0}return!1}}})},{"../assets/htmlMatcher":25,"../assets/range":29,"../utils/common":70,"../utils/editor":72}],13:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){function r(e){var t=d.outputInfo(e),n=e.getCaretPos(),r=f.parseFromPosition(t.content,n);if(r){var i=r.itemFromPosition(n,!0);if(i){var o=r.source,s=r.options.offset,a=n-s-i.range().start;return g.exec(!1,[i]),o!==r.source?{data:r.source,start:s,end:s+o.length,caret:s+i.range().start+a}:void 0}}}function i(e){e=f.baseName(e);var t,n="^(?:\\-\\w+\\-)?";return new RegExp("opacity"!=e&&"filter"!=e||!u.get("css.reflect.oldIEOpacity")?(t=e.match(/^border-radius-(top|bottom)(left|right)/))?n+"(?:"+e+"|border-"+t[1]+"-"+t[2]+"-radius)$":(t=e.match(/^border-(top|bottom)-(left|right)-radius/))?n+"(?:"+e+"|border-radius-"+t[1]+t[2]+")$":n+e+"$":n+"(?:opacity|filter)$")}function o(e,t){var n=/^\-(\w+)\-/,r=n.test(e)?RegExp.$1.toLowerCase():"",i=f.findParts(t);return i.reverse(),i.forEach(function(e){var i=e.substring(t).replace(n,""),o=c.vendorPrefixes(i);o&&(r&&~o.indexOf(r)&&(i="-"+r+"-"+i),t=h.replaceSubstring(t,i,e))}),t}function s(e,t){var n=a(e.name(),e.value(),t.name(),t.value());n=o(t.name(),n),t.value(n)}function a(e,t,n,r){if(e=f.baseName(e),n=f.baseName(n),"opacity"==e&&"filter"==n)return r.replace(/opacity=[^)]*/i,"opacity="+Math.floor(100*parseFloat(t)));if("filter"==e&&"opacity"==n){var i=t.match(/opacity=([^)]*)/i);return i?h.prettifyNumber(parseInt(i[1],10)/100):r}return t}var l=e("../assets/handlerList"),u=e("../assets/preferences"),c=e("../resolver/css"),f=e("../editTree/css"),h=e("../utils/common"),p=e("../utils/action"),d=e("../utils/editor"),m=e("../resolver/cssGradient");u.define("css.reflect.oldIEOpacity",!1,"Support IE6/7/8 opacity notation, e.g. <code>filter:alpha(opacity=...)</code>.		Note that CSS3 and SVG also provides <code>filter</code> property so this option is disabled by default.");var g=l.create();return n=n||{},n.exports={reflectCSSValueAction:function(e){return"css"!=e.getSyntax()?!1:p.compoundUpdate(e,r(e))},_defaultHandler:function(e){var t=i(e.name());e.parent.list().forEach(function(n){t.test(n.name())&&s(e,n)})},addHandler:function(e,t){g.add(e,t)},removeHandler:function(e){g.remove(e)}},g.add(n.exports._defaultHandler.bind(n.exports),{order:-1}),g.add(m.reflectValueHandler.bind(m)),n.exports})},{"../assets/handlerList":24,"../assets/preferences":27,"../editTree/css":35,"../resolver/css":61,"../resolver/cssGradient":62,"../utils/action":67,"../utils/common":70,"../utils/editor":72}],14:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("../utils/common"),n=e("../utils/editor"),r=e("../assets/htmlMatcher");return{removeTagAction:function(e){var i=n.outputInfo(e),o=r.tag(i.content,e.getCaretPos());if(o){if(o.close){var s=t.narrowToNonSpace(i.content,o.innerRange),a=t.findNewlineBounds(i.content,s.start),l=t.getLinePadding(a.substring(i.content)),u=s.substring(i.content);u=t.unindentString(u,l),e.replaceContent(t.getCaretPlaceholder()+t.escapeText(u),o.outerRange.start,o.outerRange.end)}else e.replaceContent(t.getCaretPlaceholder(),o.range.start,o.range.end);return!0}return!1}}})},{"../assets/htmlMatcher":25,"../utils/common":70,"../utils/editor":72}],15:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t,n,r){for(var i,o,s=y.outputInfo(e).content,a=s.length,l=v(-1,0),u=v(e.getSelectionRange()),c=u.start,f=1e5;c>=0&&a>c&&--f>0;){if(i=n(s,c,t)){if(l.equal(i))break;if(l=i.clone(),o=r(i.substring(s),i.start,u.clone()))return e.createSelection(o.start,o.end),!0;c=t?i.start:i.end-1}c+=t?-1:1}return!1}function n(e){var n=!0;return t(e,!1,function(e,t){return n?(n=!1,a(e,t)):l(e,t)},function(e,t,n){return s(e,t,n,!1)})}function r(e){return t(e,!0,l,function(e,t,n){return s(e,t,n,!0)})}function i(e,t,n){n=n||0;var r,i,s=[],a=-1,l="",c="";return t.forEach(function(t){switch(t.type){case"tag":i=e.substring(t.start,t.end),/^<[\w\:\-]/.test(i)&&s.push(v({start:t.start+1,end:t.end}));break;case"attribute":a=t.start,l=e.substring(t.start,t.end);break;case"string":s.push(v(a,t.end-a)),r=v(t),c=r.substring(e),u(c.charAt(0))&&r.start++,u(c.charAt(c.length-1))&&r.end--,s.push(r),"class"==l&&(s=s.concat(o(r.substring(e),r.start)))}}),s=s.filter(function(e){return e.length()?(e.shift(n),!0):void 0}),b.unique(s,function(e){return e.toString()})}function o(e,t){t=t||0;var n=[],r=w.create(e);r.eatSpace(),r.start=r.pos;for(var i;i=r.next();)/[\s\u00a0]/.test(i)&&(n.push(v(r.start+t,r.pos-r.start-1)),r.eatSpace(),r.start=r.pos);return n.push(v(r.start+t,r.pos-r.start)),n}function s(e,t,n,r){var o=i(e,S.parse(e),t);r&&o.reverse();var s=b.find(o,function(e){return e.equal(n)});if(s){var a=o.indexOf(s);return a<o.length-1?o[a+1]:null}if(r)return b.find(o,function(e){return e.start<n.start});if(!s){var l=o.filter(function(e){return e.inside(n.end)});if(l.length>1)return l[1]}return b.find(o,function(e){return e.end>n.end})}function a(e,t){for(var n;t>=0;){if(n=l(e,t))return n;t--}return null}function l(e,t){var n;return"<"==e.charAt(t)&&(n=e.substring(t,e.length).match(_))?v(t,n[0]):void 0}function u(e){return'"'==e||"'"==e}function c(e){var t=[e.nameRange(!0)],n=k.nestedSectionsInRule(e);return n.forEach(function(e){t.push(v.create2(e.start,e._selectorEnd))}),e.list().forEach(function(e){t=t.concat(f(e))}),t=v.sort(t),t=t.filter(function(e){return!!e.length()}),b.unique(t,function(e){return e.toString()})}function f(e){var t=e.valueRange(!0),n=[e.range(!0),t],r=e.value();return e.valueParts().forEach(function(e){var i=e.clone();n.push(i.shift(t.start));var o=w.create(e.substring(r));if(o.match(/^[\w\-]+\(/,!0)){o.start=o.pos,o.backUp(1),o.skipToPair("(",")"),o.backUp(1);var s=o.current();n.push(v(i.start+o.start,s)),C.findParts(s).forEach(function(e){n.push(v(i.start+o.start+e.start,e.substring(s)))})}}),n}function h(e,t,n){var r=c(e);n&&r.reverse();var i=b.find(r,function(e){return e.equal(t)});if(i)return r[r.indexOf(i)+1];var o=r.filter(function(e){return e.inside(t.end)});if(o.length)return o.sort(function(e,t){return e.length()-t.length()})[0];i=b.find(r,n?function(e){return e.end<t.start}:function(e){return e.end>t.start});return i||(i=r[0]),i}function p(e){return t(e,!1,k.locateRule.bind(k),m)}function d(e){return t(e,!0,k.locateRule.bind(k),g)}function m(e,t,n){var r=C.parse(e,{offset:t});return h(r,n,!1)}function g(e,t,n){var r=C.parse(e,{offset:t});return h(r,n,!0)}var v=e("../assets/range"),b=e("../utils/common"),y=e("../utils/editor"),x=e("../utils/action"),w=e("../assets/stringStream"),S=e("../parser/xml"),C=e("../editTree/css"),k=e("../utils/cssSections"),_=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/;return{selectNextItemAction:function(e){return x.isSupportedCSS(e.getSyntax())?p(e):n(e)},selectPreviousItemAction:function(e){return x.isSupportedCSS(e.getSyntax())?d(e):r(e)}}})},{"../assets/range":29,"../assets/stringStream":31,"../editTree/css":35,"../parser/xml":59,"../utils/action":67,"../utils/common":70,"../utils/cssSections":71,"../utils/editor":72}],16:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(){return{selectLineAction:function(e){var t=e.getCurrentLineRange();return e.createSelection(t.start,t.end),!0}}})},{}],17:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t,n){var i=t.selfClosing()||" /",o=n.open.range.substring(n.source).replace(/\s*>$/,i+">"),s=e.getCaretPos();return o.length+n.outerRange.start<s&&(s=o.length+n.outerRange.start),o=r.escapeText(o),e.replaceContent(o,n.outerRange.start,n.outerRange.end),e.setCaretPos(s),!0}function n(e,t,n){var i=e.getCaretPos(),o=t.tag_nl===!0?"\n  \n":"",s=n.outerContent().replace(/\s*\/>$/,">");return i=n.outerRange.start+s.length,s+=o+"</"+n.open.name+">",s=r.escapeText(s),e.replaceContent(s,n.outerRange.start,n.outerRange.end),e.setCaretPos(i),!0}var r=e("../utils/common"),i=(e("../assets/resources"),e("../assets/htmlMatcher")),o=e("../utils/editor"),s=e("../assets/profile");return{splitJoinTagAction:function(e,r){var a=o.outputInfo(e,null,r),l=s.get(a.profile),u=i.tag(a.content,e.getCaretPos());return u?u.close?t(e,l,u):n(e,l,u):!1}}})},{"../assets/htmlMatcher":25,"../assets/profile":28,"../assets/resources":30,"../utils/common":70,"../utils/editor":72}],18:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){var t=a(e.getSelectionRange()),n=c.outputInfo(e);if(!t.length()){var r=f.tag(n.content,e.getCaretPos());r&&(t=r.outerRange)}return o(e,"<!--","-->",t)}function n(e){var t=a(e.getSelectionRange()),n=c.outputInfo(e);if(!t.length()){var i=h.parseFromPosition(n.content,e.getCaretPos());if(i){var s=r(i,e.getCaretPos());t=s?s.range(!0):a(i.nameRange(!0).start,i.source)}}return t.length()||(t=a(e.getCurrentLineRange()),l.narrowToNonSpace(n.content,t)),o(e,"/*","*/",t)}function r(e,t){var n=t-(e.options.offset||0),r=/^[\s\n\r]/;return l.find(e.list(),function(t){return t.range().end===n?r.test(e.source.charAt(n)):t.range().inside(n)})}function i(e,t,n,r){for(var i=-1,o=-1,s=function(t,n){return e.substr(n,t.length)==t};t--;)if(s(n,t)){i=t;break}if(-1!=i){t=i;for(var l=e.length;l>=t++;)if(s(r,t)){o=t+r.length;break}}return-1!=i&&-1!=o?a(i,o-i):null}function o(e,t,n,r){function o(e){return e.replace(new RegExp("^"+l.escapeForRegexp(t)+"\\s*"),function(e){return a-=e.length,""}).replace(new RegExp("\\s*"+l.escapeForRegexp(n)+"$"),"")}var s=c.outputInfo(e).content,a=e.getCaretPos(),u=null,f=i(s,a,t,n);return f&&f.overlap(r)?(r=f,u=o(r.substring(s))):(u=t+" "+r.substring(s).replace(new RegExp(l.escapeForRegexp(t)+"\\s*|\\s*"+l.escapeForRegexp(n),"g"),"")+" "+n,a+=t.length+1),null!==u?(u=l.escapeText(u),e.setCaretPos(r.start),e.replaceContent(c.unindent(e,u),r.start,r.end),e.setCaretPos(a),!0):!1}var s=e("../assets/preferences"),a=e("../assets/range"),l=e("../utils/common"),u=e("../utils/action"),c=e("../utils/editor"),f=e("../assets/htmlMatcher"),h=e("../editTree/css");return{toggleCommentAction:function(e){var r=c.outputInfo(e);if(u.isSupportedCSS(r.syntax)){var i=e.getCaretPos(),o=f.tag(r.content,i);o&&o.open.range.inside(i)&&(r.syntax="html")}var a=s.getArray("css.syntaxes");return~a.indexOf(r.syntax)?n(e):t(e)}}})},{"../assets/htmlMatcher":25,"../assets/preferences":27,"../assets/range":29,"../editTree/css":35,"../utils/action":67,"../utils/common":70,"../utils/editor":72}],19:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){var t=e.getCaretPos(),n=o.outputInfo(e),l=a.parseFromPosition(n.content,t,!0);l&&"img"==(l.name()||"").toLowerCase()&&r(e,l.value("src"),function(n){if(n){var r=l.range(!0);l.value("width",n.width),l.value("height",n.height,l.indexOf("width")+1),s.compoundUpdate(e,i.extend(r,{data:l.toString(),caret:t}))}})}function n(e){var t=e.getCaretPos(),n=o.outputInfo(e),a=l.parseFromPosition(n.content,t,!0);if(a){var u,c=a.itemFromPosition(t,!0);c&&(u=/url\((["']?)(.+?)\1\)/i.exec(c.value()||""))&&r(e,u[2],function(n){if(n){var r=a.range(!0);a.value("width",n.width+"px"),a.value("height",n.height+"px",a.indexOf("width")+1),s.compoundUpdate(e,i.extend(r,{data:a.toString(),caret:t}))}})}}function r(e,t,n){var r;if(t){if(/^data:/.test(t))return r=u.decode(t.replace(/^data\:.+?;.+?,/,"")),n(s.getImageSize(r));var i=c.locateFile(e.getFilePath(),t);if(null===i)throw"Can't find "+t+" file";c.read(i,function(e,t){if(e)throw"Unable to read "+i+": "+e;t=String(t),n(s.getImageSize(t))})}}var i=e("../utils/common"),o=e("../utils/editor"),s=e("../utils/action"),a=e("../editTree/xml"),l=e("../editTree/css"),u=e("../utils/base64"),c=e("../plugin/file");return{updateImageSizeAction:function(e){return s.isSupportedCSS(e.getSyntax())?n(e):t(e),!0}}})},{"../editTree/css":35,"../editTree/xml":36,"../plugin/file":60,"../utils/action":67,"../utils/base64":68,"../utils/common":70,"../utils/editor":72}],20:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t,n){var r=(t.attribute("class")||"").split(/\s+/g);n&&r.push("+"+t.name());var o=function(e){return i.replaceCounter(e,t.counter)};r.forEach(function(t){if(t){t=o(t);var n=t.charAt(0);"+"==n?e.addClass(t.substr(1)):"-"==n?e.removeClass(t.substr(1)):e.value("class",t)}}),t.attributeList().forEach(function(t){if("class"!=t.name.toLowerCase()){var n=t.name.charAt(0);if("+"==n){var r=t.name.substr(1),i=e.get(r);i?i.value(i.value()+o(t.value)):e.value(r,o(t.value))}else"-"==n?e.remove(t.name.substr(1)):e.value(t.name,o(t.value))}})}var n=e("../editTree/xml"),r=(e("../utils/editor"),e("../utils/action")),i=e("../utils/common"),o=e("../parser/abbreviation");return{updateTagAction:function(e,t){if(t=t||e.prompt("Enter abbreviation"),!t)return!1;var n=e.getContent(),i=r.captureContext(e),o=this.getUpdatedTag(t,i,n);return o?(o.name()!=i.name&&i.match.close&&e.replaceContent("</"+o.name()+">",i.match.close.range.start,i.match.close.range.end,!0),e.replaceContent(o.source,i.match.open.range.start,i.match.open.range.end,!0),!0):!1},getUpdatedTag:function(e,r,i,s){if(!r)return null;var a=o.parse(e,s||{}),l=n.parse(r.match.open.range.substring(i),{offset:r.match.outerRange.start});a.children.forEach(function(e,n){t(l,e,n)});var u=a.children[0];return u.data("nameResolved")||l.name(u.name()),l}}})},{"../editTree/xml":36,"../parser/abbreviation":52,"../utils/action":67,"../utils/common":70,"../utils/editor":72}],21:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("../assets/range"),n=e("../assets/htmlMatcher"),r=e("../utils/common"),i=e("../utils/editor"),o=e("../utils/action"),s=e("../parser/abbreviation");return{wrapWithAbbreviationAction:function(e,a,l,u){var c=i.outputInfo(e,l,u);if(a=a||e.prompt("Enter abbreviation"),!a)return null;a=String(a);var f=t(e.getSelectionRange());if(!f.length()){var h=n.tag(c.content,f.start);if(!h)return!1;f=r.narrowToNonSpace(c.content,h.range)}var p=r.escapeText(f.substring(c.content)),d=s.expand(a,{pastedContent:i.unindent(e,p),syntax:c.syntax,profile:c.profile,contextNode:o.captureContext(e)});return d?(e.replaceContent(d,f.start,f.end),!0):!1}}})},{"../assets/htmlMatcher":25,"../assets/range":29,"../parser/abbreviation":52,"../utils/action":67,"../utils/common":70,"../utils/editor":72}],22:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t){var n=[],r=e,i=t;r.length>i.length&&(r=t,i=e),i.forEach(function(e){~r.indexOf(e)&&n.push(n)})}function n(e,t){"string"==typeof e&&(e=JSON.parse(e)),t||(e=i(e)),d=e.vendors,p=e.css,m=e.era}function i(e){return"string"==typeof e&&(e=JSON.parse(e)),{vendors:o(e),css:s(e),era:a(e)}}function o(e){var t={};return Object.keys(e.agents).forEach(function(n){var r=e.agents[n];t[n]={prefix:r.prefix,versions:r.versions}}),t}function s(e){{var t={};e.cats.CSS}return Object.keys(e.data).forEach(function(n){var r=e.data[n];n in h&&h[n].forEach(function(e){t[e]=r.stats})}),t}function a(e){return Object.keys(e.eras).sort(function(e,t){return parseInt(e.substr(1))-parseInt(t.substr(1))})}function l(){var e=Object.keys(d),n=c.getArray("caniuse.vendors");return n&&"all"!=n[0]?t(e,n):e}function u(){var e=c.get("caniuse.era"),t=m.indexOf(e);return~t||(t=m.indexOf("e-2")),t}var c=e("./preferences"),f=e("../utils/common");c.define("caniuse.enabled",!0,"Enable support of Can I Use database. When enabled,		CSS abbreviation resolver will look at Can I Use database first before detecting		CSS properties that should be resolved"),c.define("caniuse.vendors","all","A comma-separated list vendor identifiers		(as described in Can I Use database) that should be supported		when resolving vendor-prefixed properties. Set value to <code>all</code>		to support all available properties"),c.define("caniuse.era","e-2","Browser era, as defined in Can I Use database.		Examples: <code>e0</code> (current version), <code>e1</code> (near future)		<code>e-2</code> (2 versions back) and so on.");var h={"border-image":["border-image"],"css-boxshadow":["box-shadow"],"css3-boxsizing":["box-sizing"],multicolumn:["column-width","column-count","columns","column-gap","column-rule-color","column-rule-style","column-rule-width","column-rule","column-span","column-fill"],"border-radius":["border-radius","border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"],transforms2d:["transform"],"css-hyphens":["hyphens"],"css-transitions":["transition","transition-property","transition-duration","transition-timing-function","transition-delay"],"font-feature":["font-feature-settings"],"css-animation":["animation","animation-name","animation-duration","animation-timing-function","animation-iteration-count","animation-direction","animation-play-state","animation-delay","animation-fill-mode","@keyframes"],"css-gradients":["linear-gradient"],"css-masks":["mask-image","mask-source-type","mask-repeat","mask-position","mask-clip","mask-origin","mask-size","mask","mask-type","mask-box-image-source","mask-box-image-slice","mask-box-image-width","mask-box-image-outset","mask-box-image-repeat","mask-box-image","clip-path","clip-rule"],"css-featurequeries":["@supports"],flexbox:["flex","inline-flex","flex-direction","flex-wrap","flex-flow","order","flex"],calc:["calc"],"object-fit":["object-fit","object-position"],"css-grid":["grid","inline-grid","grid-template-rows","grid-template-columns","grid-template-areas","grid-template","grid-auto-rows","grid-auto-columns"," grid-auto-flow","grid-auto-position","grid"," grid-row-start","grid-column-start","grid-row-end","grid-column-end","grid-column","grid-row","grid-area","justify-self","justify-items","align-self","align-items"],"css-repeating-gradients":["repeating-linear-gradient"],"css-filters":["filter"],"user-select-none":["user-select"],"intrinsic-width":["min-content","max-content","fit-content","fill-available"],"css3-tabsize":["tab-size"]},p=null,d=null,m=null,g=null;return function(e){if("undefined"==typeof r||!r.amd)try{var t=e("fs"),n=e("path");g=t.readFileSync(n.join(__dirname,"../caniuse.json"),{encoding:"utf8"})}catch(i){}}(e),g&&n(g),{load:n,optimize:i,resolvePrefixes:function(e){if(!(c.get("caniuse.enabled")&&p&&e in p))return null;var t=[],n=p[e],r=u();return l().forEach(function(e){for(var i,o=d[e].versions.slice(r),s=0;s<o.length;s++)if(i=o[s],i&&~n[e][i].indexOf("x")){t.push(d[e].prefix);break}}),f.unique(t).sort(function(e,t){return t.length-e.length})}}})},{"../utils/common":70,"./preferences":27}],23:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){function r(e){return{data:e}}var i={},o=/([@\!]?)([\w\-:]+)\s*=\s*(['"])(.*?)\3/g;return n=n||{},n.exports={add:function(e,t){var n=this;i[e]=function(){var r=t.apply(n,arguments);return r&&(r.type=e),r}},get:function(e){return i[e]},create:function(e){var t=[].slice.call(arguments,1),n=this.get(e);return n?n.apply(this,t):null},is:function(e,t){return this.type(e)===t},type:function(e){return e&&e.type}},n.exports.add("element",function(e,t,n){var r={name:e,is_empty:!!n};if(t)if(r.attributes=[],Array.isArray(t))r.attributes=t;else if("string"==typeof t)for(var i;i=o.exec(t);)r.attributes.push({name:i[2],value:i[4],isDefault:"@"==i[1],isImplied:"!"==i[1]});else r.attributes=Object.keys(t).map(function(e){return{name:e,value:t[e]}});return r}),n.exports.add("snippet",r),n.exports.add("reference",r),n.exports.add("empty",function(){return{}}),n.exports})},{}],24:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(){this._list=[]}var n=e("../utils/common");return t.prototype={add:function(e,t){var r=this._list.length;t&&"order"in t&&(r=1e4*t.order),this._list.push(n.extend({},t,{order:r,fn:e}))},remove:function(e){var t=n.find(this._list,function(t){return t.fn===e});t&&this._list.splice(this._list.indexOf(t),1)},list:function(){return this._list.sort(function(e,t){return t.order-e.order})},listFn:function(){return this.list().map(function(e){return e.fn})},exec:function(e,t){t=t||[];var r=null;return n.find(this.list(),function(n){return r=n.fn.apply(n,t),r!==e?!0:void 0}),r}},{create:function(){return new t}}})},{"../utils/common":70}],25:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t){return{name:t[1],selfClose:!!t[3],range:a(e,t[0]),type:"open"}}function n(e,t){return{name:t[1],range:a(e,t[0]),type:"close"}}function r(e,t){return{range:a(e,"number"==typeof t?t-e:t[0]),type:"comment"}}function i(e){var r,i={};return{open:function(e){var t=this.matches(e);return t&&"open"==t.type?t:null},close:function(e){var t=this.matches(e);return t&&"close"==t.type?t:null},matches:function(o){var s="p"+o;if(!(s in i)&&(i[s]=!1,"<"==e.charAt(o))){var a=e.slice(o);(r=a.match(l))?i[s]=t(o,r):(r=a.match(u))&&(i[s]=n(o,r))}return i[s]},text:function(){return e},clean:function(){i=e=r=null}}}function o(e,t,n){return e.substring(t,t+n.length)==n}function s(e,t){for(var n=[],r=null,i=t.text(),s=e.range.end,a=i.length;a>s;s++){if(o(i,s,"<!--"))for(var l=s;a>l;l++)if(o(i,l,"-->")){s=l+3;break}if(r=t.matches(s)){if("open"!=r.type||r.selfClose){if("close"==r.type){if(!n.length)return r.name==e.name?r:null;if(n[n.length-1]==r.name)n.pop();else{for(var u=!1;n.length&&!u;){var c=n.pop();c==r.name&&(u=!0)}if(!n.length&&!u)return r.name==e.name?r:null}}}else n.push(r.name);s=r.range.end-1}}}var a=e("./range"),l=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,u=/^<\/([\w\:\-]+)[^>]*>/;return{find:function(e,t){for(var n,l,u=i(e),c=null,f=null,h=t;h>=0;h--)if(c=u.open(h)){if(c.selfClose){if(c.range.cmp(t,"lt","gt"))break;continue}if(f=s(c,u)){var p=a.create2(c.range.start,f.range.end);if(p.contains(t))break}else if(c.range.contains(t))break;c=null}else if(o(e,h,"-->")){for(n=h-1;n>=0&&!o(e,n,"-->");n--)if(o(e,n,"<!--")){h=n;break}}else if(o(e,h,"<!--")){for(n=h+4,l=e.length;l>n;n++)if(o(e,n,"-->")){n+=3;break}c=r(h,n);break}if(u.clean(),c){var d=null,m=null;if(f?(d=a.create2(c.range.start,f.range.end),m=a.create2(c.range.end,f.range.start)):d=m=a.create2(c.range.start,c.range.end),"comment"==c.type){var g=d.substring(e);m.start+=g.length-g.replace(/^<\!--\s*/,"").length,m.end-=g.length-g.replace(/\s*-->$/,"").length}return{open:c,close:f,type:"comment"==c.type?"comment":"tag",innerRange:m,innerContent:function(){return this.innerRange.substring(e)},outerRange:d,outerContent:function(){return this.outerRange.substring(e)},range:m.length()&&m.cmp(t,"lte","gte")?m:d,content:function(){return this.range.substring(e)},source:e}}},tag:function(e,t){var n=this.find(e,t);return n&&"tag"==n.type?n:void 0}}})},{"./range":29}],26:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(){return{log:function(){"undefined"!=typeof console&&console.log&&console.log.apply(console,arguments)}}})},{}],27:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){return"string"==typeof e?(e=e.toLowerCase(),"yes"==e||"true"==e||"1"==e):!!e}function n(e){return"object"==typeof e&&!Array.isArray(e)&&"value"in e&&Object.keys(e).length<3}var r=e("../utils/common"),i={},o={},s=null,a=null;return{define:function(e,t,r){var i=e;"string"==typeof e&&(i={},i[e]={value:t,description:r}),Object.keys(i).forEach(function(e){var t=i[e];o[e]=n(t)?t:{value:t}})},set:function(e,n){var r=e;"string"==typeof e&&(r={},r[e]=n),Object.keys(r).forEach(function(e){var n=r[e];if(!(e in o))throw new Error('Property "'+e+'" is not defined. You should define it first with `define` method of current module');if(n!==o[e].value){switch(typeof o[e].value){case"boolean":n=t(n);break;case"number":n=parseInt(n+"",10)||0;break;default:null!==n&&(n+="")}i[e]=n}else e in i&&delete i[e]})},get:function(e){return e in i?i[e]:e in o?o[e].value:void 0},getArray:function(e){var t=this.get(e);return"undefined"==typeof t||null===t||""===t?null:(t=t.split(",").map(r.trim),t.length?t:null)},getDict:function(e){var t={};return this.getArray(e).forEach(function(e){var n=e.split(":");t[n[0]]=n[1]}),t},description:function(e){return e in o?o[e].description:void 0},remove:function(e){Array.isArray(e)||(e=[e]),e.forEach(function(e){e in i&&delete i[e],e in o&&delete o[e]})},list:function(){return Object.keys(o).sort().map(function(e){return{name:e,value:this.get(e),type:typeof o[e].value,description:o[e].description}},this)},load:function(e){Object.keys(e).forEach(function(t){this.set(t,e[t])},this)},exportModified:function(){return r.extend({},i)},reset:function(){i={}},_startTest:function(){s=o,a=i,o={},i={}},_stopTest:function(){o=s,i=a}}})},{"../utils/common":70}],28:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){o.extend(this,u,e)}function n(e,t){switch(String(t||"").toLowerCase()){case"lower":return e.toLowerCase();case"upper":return e.toUpperCase()}return e}function r(e,n){return l[e.toLowerCase()]=new t(n)}function i(){r("xhtml"),r("html",{self_closing_tag:!1,compact_bool:!0}),r("xml",{self_closing_tag:!0,tag_nl:!0}),r("plain",{tag_nl:!1,indent:!1,place_cursor:!1}),r("line",{tag_nl:!1,indent:!1,extraFilters:"s"}),r("css",{tag_nl:!0}),r("css_line",{tag_nl:!1})}var o=e("../utils/common"),s=e("./resources"),a=e("./preferences");a.define("profile.allowCompactBoolean",!0,'This option can be used to globally disable compact form of boolean attribues (attributes where name and value are equal). With compactform enabled, HTML tags can be outputted as <code>&lt;div contenteditable&gt;</code> instead of <code>&lt;div contenteditable="contenteditable"&gt;</code>'),a.define("profile.booleanAttributes","^contenteditable|seamless$","A regular expression for attributes that should be boolean by default.If attribute name matches this expression, you don\u2019t have to write dot after attribute name in Emmet abbreviation to mark it as boolean.");var l={},u={tag_case:"asis",attr_case:"asis",attr_quotes:"double",tag_nl:"decide",tag_nl_leaf:!1,place_cursor:!0,indent:!0,inline_break:3,compact_bool:!1,self_closing_tag:"xhtml",filters:"",extraFilters:""};return t.prototype={tagName:function(e){return n(e,this.tag_case)},attributeName:function(e){return n(e,this.attr_case)},attributeQuote:function(){return"single"==this.attr_quotes?"'":'"'},selfClosing:function(){return"xhtml"==this.self_closing_tag?" /":this.self_closing_tag===!0?"/":""},cursor:function(){return this.place_cursor?o.getCaretPlaceholder():""},isBoolean:function(e,t){if(e==t)return!0;var n=a.get("profile.booleanAttributes");return!t&&n?(n=new RegExp(n,"i"),n.test(e)):!1},allowCompactBoolean:function(){return this.compact_bool&&a.get("profile.allowCompactBoolean")}},i(),{create:function(e,n){return 2==arguments.length?r(e,n):new t(o.defaults(e||{},u))},get:function(e,n){if(!e&&n){var r=s.findItem(n,"profile");r&&(e=r)}return e?e instanceof t?e:"string"==typeof e&&e.toLowerCase()in l?l[e.toLowerCase()]:this.create(e):l.plain},remove:function(e){e=(e||"").toLowerCase(),e in l&&delete l[e]},reset:function(){l={},i()},stringCase:n}})},{"../utils/common":70,"./preferences":27,"./resources":30}],29:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){function r(e,t,n){switch(n){case"eq":case"==":return e===t;case"lt":case"<":return t>e;case"lte":case"<=":return t>=e;case"gt":case">":return e>t;case"gte":case">=":return e>=t}}function i(e,t){"object"==typeof e&&"start"in e?(this.start=Math.min(e.start,e.end),this.end=Math.max(e.start,e.end)):Array.isArray(e)?(this.start=e[0],this.end=e[1]):(t="string"==typeof t?t.length:+t,this.start=e,this.end=e+t)}return i.prototype={length:function(){return Math.abs(this.end-this.start)},equal:function(e){return this.cmp(e,"eq","eq")},shift:function(e){return this.start+=e,this.end+=e,this},overlap:function(e){return e.start<=this.end&&e.end>=this.start},intersection:function(e){if(this.overlap(e)){var t=Math.max(e.start,this.start),n=Math.min(e.end,this.end);return new i(t,n-t)}return null},union:function(e){if(this.overlap(e)){var t=Math.min(e.start,this.start),n=Math.max(e.end,this.end);return new i(t,n-t)}return null},inside:function(e){return this.cmp(e,"lte","gt")},contains:function(e){return this.cmp(e,"lt","gt")},include:function(e){return this.cmp(e,"lte","gte")},cmp:function(e,t,n){var o,s;return e instanceof i?(o=e.start,s=e.end):o=s=e,r(this.start,o,t||"<=")&&r(this.end,s,n||">")},substring:function(e){return this.length()>0?e.substring(this.start,this.end):""},clone:function(){return new i(this.start,this.length())},toArray:function(){return[this.start,this.end]},toString:function(){return this.valueOf()},valueOf:function(){return"{"+this.start+", "+this.length()+"}"}},n.exports=function(e,t){return"undefined"==typeof e||null===e?null:e instanceof i?e:("object"==typeof e&&"start"in e&&"end"in e&&(t=e.end-e.start,e=e.start),new i(e,t))},n.exports.create=n.exports,n.exports.isRange=function(e){return e instanceof i},n.exports.create2=function(e,t){return"number"==typeof e&&"number"==typeof t&&(t-=e),this.create(e,t)},n.exports.sort=function(e,t){return e=e.sort(function(e,t){return e.start===t.start?t.end-e.end:e.start-t.start}),t&&e.reverse(),e},n.exports})},{}],30:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t){function n(e,t){e&&Object.keys(e).forEach(function(n){t(e[n],n)})}function i(e){return c.replaceUnescapedSymbol(e,"|",c.getCaretPlaceholder())}function o(e,t,n){return t=i(t),"snippets"==n?f.create("snippet",t):"abbreviations"==n?s(e,t):void 0}function s(e,t){e=c.trim(e);var n;return(n=v.exec(t))?f.create("element",n[1],n[2],"/"==n[4]):f.create("reference",t)}function a(e){return e.replace(/:$/,"").replace(/:/g,"-")}function l(e){var t={};return n(e,function(e,n){for(var r=n.split("|"),i=r.length-1;i>=0;i--)t[r[i]]=e}),t}var u=e("./handlerList"),c=e("../utils/common"),f=e("./elements"),h=(e("../assets/logger"),e("../vendor/stringScore")),p=e("../resolver/css"),d="system",m="user",g={},v=/^<(\w+\:?[\w\-]*)((?:\s+[@\!]?[\w\:\-]+\s*=\s*(['"]).*?\3)*)\s*(\/?)>/,b={},y={},x=u.create();return c.extend(t,{setVocabulary:function(e,t){g={};var r={};n(e,function(e,t){var i={};n(e,function(e,t){("abbreviations"==t||"snippets"==t)&&(e=l(e)),i[t]=e}),r[t]=i}),t==d?b=r:y=r},getVocabulary:function(e){return e==d?b:y},getMatchedResource:function(e,t){return x.exec(null,c.toArray(arguments))||this.findSnippet(t,e.name())
},getVariable:function(e){return(this.getSection("variables")||{})[e]},setVariable:function(e,t){var n=this.getVocabulary("user")||{};"variables"in n||(n.variables={}),n.variables[e]=t,this.setVocabulary(n,"user")},hasSyntax:function(e){return e in this.getVocabulary(m)||e in this.getVocabulary(d)},addResolver:function(e,t){x.add(e,t)},removeResolver:function(e){x.remove(e)},getSection:function(e){if(!e)return null;e in g||(g[e]=c.deepMerge({},b[e],y[e]));for(var t,n=g[e],r=c.toArray(arguments,1);n&&(t=r.shift());){if(!(t in n))return null;n=n[t]}return n},findItem:function(e,t){for(var n=this.getSection(e);n;){if(t in n)return n[t];n=this.getSection(n["extends"])}},findSnippet:function(e,t,n){if(!e||!t)return null;n=n||[];var r=[t];~t.indexOf("-")&&r.push(t.replace(/\-/g,":"));var i=this.getSection(e),s=null;return["snippets","abbreviations"].some(function(t){var n=this.getSection(e,t);return n?r.some(function(e){return n[e]?s=o(e,n[e],t):void 0}):void 0},this),n.push(e),s||!i["extends"]||~n.indexOf(i["extends"])?s:this.findSnippet(i["extends"],t,n)},fuzzyFindSnippet:function(e,t,n){var r=this.fuzzyFindMatches(e,t,n)[0];return r?r.value.parsedValue:void 0},fuzzyFindMatches:function(e,t,n){n=n||.3,t=a(t);var r=this.getAllSnippets(e);return Object.keys(r).map(function(e){var n=r[e];return{key:e,score:h.score(n.nk,t,.1),value:n}}).filter(function(e){return e.score>=n}).sort(function(e,t){return e.score-t.score}).reverse()},getAllSnippets:function(e){var t="all-"+e;if(!g[t]){var r=[],i=e,s=[];do{var l=this.getSection(i);if(!l)break;["snippets","abbreviations"].forEach(function(e){var t={};n(l[e]||null,function(n,r){t[r]={nk:a(r),value:n,parsedValue:o(r,n,e),type:e}}),r.push(t)}),s.push(i),i=l["extends"]}while(i&&!~s.indexOf(i));g[t]=c.extend.apply(c,r.reverse())}return g[t]},getNewline:function(){var e=this.getVariable("newline");return"string"==typeof e?e:"\n"},setNewline:function(e){this.setVariable("newline",e),this.setVariable("nl",e)}}),t.addResolver(p.resolve.bind(p)),function(e){if("undefined"==typeof r||!r.amd)try{var n=e("fs"),i=e("path"),o=n.readFileSync(i.join(__dirname,"../snippets.json"),{encoding:"utf8"});t.setVocabulary(JSON.parse(o),d)}catch(s){}}(e),t})},{"../assets/logger":26,"../resolver/css":61,"../utils/common":70,"../vendor/stringScore":76,"./elements":23,"./handlerList":24}],31:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){function r(e){this.pos=this.start=0,this.string=e,this._length=e.length}return r.prototype={eol:function(){return this.pos>=this._length},sol:function(){return 0===this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){return this.pos<this._length?this.string.charAt(this.pos++):void 0},eat:function(e){var t,n=this.string.charAt(this.pos);return t="string"==typeof e?n==e:n&&(e.test?e.test(n):e(n)),t?(++this.pos,n):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this._length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},skipToPair:function(e,t,n){for(var r,i=0,o=this.pos,s=this._length;s>o;)if(r=this.string.charAt(o++),r==e)i++;else if(r==t){if(i--,1>i)return this.pos=o,!0}else!n||'"'!=r&&"'"!=r||this.skipString(r);return!1},skipQuoted:function(e){var t=this.string.charAt(e?this.pos:this.pos-1);return'"'===t||"'"===t?(e&&this.pos++,this.skipString(t)):void 0},skipString:function(e){for(var t,n=this.pos,r=this._length;r>n;)if(t=this.string.charAt(n++),"\\"!=t&&t==e)return this.pos=n,!0;return!1},backUp:function(e){this.pos-=e},match:function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&t!==!1&&(this.pos+=r[0].length),r}var i=n?function(e){return e.toLowerCase()}:function(e){return e};return i(this.string).indexOf(i(e),this.pos)==this.pos?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(e){return this.string.slice(this.start,this.pos-(e?1:0))}},n.exports=function(e){return new r(e)},n.exports.create=n.exports,n.exports})},{}],32:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("../utils/common"),n=e("./stringStream"),r=e("./resources"),i=100,o=0,s={replaceCarets:!1,escape:function(e){return"\\"+e},tabstop:function(e){return e.token},variable:function(e){return e.token}};return{extract:function(e,n){var r={carets:""},i=[];n=t.extend({},s,n,{tabstop:function(e){var t=e.token,n="";return"cursor"==e.placeholder?i.push({start:e.start,end:e.start+t.length,group:"carets",value:""}):("placeholder"in e&&(r[e.group]=e.placeholder),e.group in r&&(n=r[e.group]),i.push({start:e.start,end:e.start+t.length,group:e.group,value:n})),t}}),n.replaceCarets&&(e=e.replace(new RegExp(t.escapeForRegexp(t.getCaretPlaceholder()),"g"),"${0:cursor}")),e=this.processText(e,n);var o="",a=0,l=i.map(function(t){o+=e.substring(a,t.start);var n=o.length,i=r[t.group]||"";return o+=i,a=t.end,{group:t.group,start:n,end:n+i.length}});return o+=e.substring(a),{text:o,tabstops:l.sort(function(e,t){return e.start-t.start})}},processText:function(e,r){r=t.extend({},s,r);for(var i,o,a,l="",u=n.create(e);i=u.next();)if("\\"!=i||u.eol()){if(a=i,"$"==i)if(u.start=u.pos-1,o=u.match(/^[0-9]+/))a=r.tabstop({start:l.length,group:u.current().substr(1),token:u.current()});else if(o=u.match(/^\{([a-z_\-][\w\-]*)\}/))a=r.variable({start:l.length,name:o[1],token:u.current()});else if(o=u.match(/^\{([0-9]+)(:.+?)?\}/,!1)){u.skipToPair("{","}");var c={start:l.length,group:o[1],token:u.current()},f=c.token.substring(c.group.length+2,c.token.length-1);f&&(c.placeholder=f.substr(1)),a=r.tabstop(c)}l+=a}else l+=r.escape(u.next());return l},upgrade:function(e,t){var n=0,r={tabstop:function(e){var r=parseInt(e.group,10);return r>n&&(n=r),e.placeholder?"${"+(r+t)+":"+e.placeholder+"}":"${"+(r+t)+"}"}};return["start","end","content"].forEach(function(t){e[t]=this.processText(e[t],r)},this),n},variablesResolver:function(e){var n={};return function(o,s){if("child"==s)return o;if("cursor"==s)return t.getCaretPlaceholder();var a=e.attribute(s);if("undefined"!=typeof a&&a!==o)return a;var l=r.getVariable(s);return l?l:(n[s]||(n[s]=i++),"${"+n[s]+":"+s+"}")}},replaceVariables:function(e,t){t=t||{};var n="function"==typeof t?t:function(e,n){return n in t?t[n]:null};return this.processText(e,{variable:function(e){var t=n(e.token,e.name,e);return null===t&&(t=r.getVariable(e.name)),(null===t||"undefined"==typeof t)&&(t=e.token),t}})},resetTabstopIndex:function(){o=0,i=100},abbrOutputProcessor:function(e,t){var n=0,r=this,i={tabstop:function(e){var t=parseInt(e.group,10);if(0===t)return"${0}";if(t>n&&(n=t),e.placeholder){var s=t+o,a=r.processText(e.placeholder,i);return"${"+s+":"+a+"}"}return"${"+(t+o)+"}"}};return e=this.processText(e,i),e=this.replaceVariables(e,this.variablesResolver(t)),o+=n+1,e}}})},{"../utils/common":70,"./resources":30,"./stringStream":31}],33:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(){function e(e){this.tokens=e,this._position=0,this.reset()}return e.prototype={next:function(){if(this.hasNext()){var e=this.tokens[++this._i];return this._position=e.start,e}return this._i=this._il,null},current:function(){return this.tokens[this._i]},peek:function(){return this.tokens[this._i+i]},position:function(){return this._position},hasNext:function(){return this._i<this._il-1},reset:function(){this._i=0,this._il=this.tokens.length},item:function(){return this.tokens[this._i]},itemNext:function(){return this.tokens[this._i+1]},itemPrev:function(){return this.tokens[this._i-1]},nextUntil:function(e,t){for(var n,r="string"==typeof e?function(t){return t.type==e}:e;(n=this.next())&&(t&&t.call(this,n),!r.call(this,n)););}},{create:function(t){return new e(t)}}})},{}],34:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t){this.options=i.extend({offset:0},t),this.source=e,this._children=[],this._positions={name:0},this.initialize.apply(this,arguments)}function n(e,t,n){this.parent=e,this._name=t.value,this._value=n?n.value:"",this._positions={name:t.start,value:n?n.start:-1},this.initialize.apply(this,arguments)}var r=e("../assets/range"),i=e("../utils/common"),o=e("../vendor/klass");return t.extend=o.extend,t.prototype={type:"container",initialize:function(){},_pos:function(e,t){return e+(t?this.options.offset:0)},_updateSource:function(e,t,n){var o=r.create(t,"undefined"==typeof n?0:n-t),s=e.length-o.length(),a=function(e){Object.keys(e).forEach(function(t){e[t]>=o.end&&(e[t]+=s)})};a(this._positions);var l=function(e){e.forEach(function(e){a(e._positions),"container"==e.type&&l(e.list())})};l(this.list()),this.source=i.replaceSubstring(this.source,e,o)},add:function(e,t){var r=new n(e,t);return this._children.push(r),r},get:function(e){return"number"==typeof e?this.list()[e]:"string"==typeof e?i.find(this.list(),function(t){return t.name()===e}):e},getAll:function(e){Array.isArray(e)||(e=[e]);var t=[],n=[];return e.forEach(function(e){"string"==typeof e?t.push(e):"number"==typeof e&&n.push(e)}),this.list().filter(function(e,r){return~n.indexOf(r)||~t.indexOf(e.name())})},list:function(){return this._children},remove:function(e){var t=this.get(e);if(t){this._updateSource("",t.fullRange());var n=this._children.indexOf(t);~n&&this._children.splice(n,1)}},indexOf:function(e){return this.list().indexOf(this.get(e))},value:function(e,t,n){var r=this.get(e);return r?r.value(t):"undefined"!=typeof t?this.add(e,t,n):void 0},values:function(e){return this.getAll(e).map(function(e){return e.value()})},name:function(e){return"undefined"!=typeof e&&this._name!==(e=String(e))&&(this._updateSource(e,this._positions.name,this._positions.name+this._name.length),this._name=e),this._name},nameRange:function(e){return r.create(this._positions.name+(e?this.options.offset:0),this.name())},range:function(e){return r.create(e?this.options.offset:0,this.valueOf())},itemFromPosition:function(e,t){return i.find(this.list(),function(n){return n.range(t).inside(e)})},toString:function(){return this.valueOf()},valueOf:function(){return this.source}},n.extend=o.extend,n.prototype={type:"element",initialize:function(){},_pos:function(e,t){return e+(t?this.parent.options.offset:0)},value:function(e){return"undefined"!=typeof e&&this._value!==(e=String(e))&&(this.parent._updateSource(e,this.valueRange()),this._value=e),this._value},name:function(e){return"undefined"!=typeof e&&this._name!==(e=String(e))&&(this.parent._updateSource(e,this.nameRange()),this._name=e),this._name},namePosition:function(e){return this._pos(this._positions.name,e)},valuePosition:function(e){return this._pos(this._positions.value,e)},range:function(e){return r.create(this.namePosition(e),this.valueOf())},fullRange:function(e){return this.range(e)},nameRange:function(e){return r.create(this.namePosition(e),this.name())},valueRange:function(e){return r.create(this.valuePosition(e),this.value())},toString:function(){return this.valueOf()},valueOf:function(){return this.name()+this.value()}},{EditContainer:t,EditElement:n,createToken:function(e,t,n){var r={start:e||0,value:t||"",type:n};return r.end=r.start+r.value.length,r}}})},{"../assets/range":29,"../utils/common":70,"../vendor/klass":75}],35:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t,n){n=n||g|v,t=e.substring(t);var r;return n&g&&(r=t.match(d))&&(e.start+=r[0].length),n&v&&(r=t.match(m))&&(e.end-=r[0].length),e.end<e.start&&(e.end=e.start),e}function n(e,n){var r,i,o,s=e.current();if(!s)return null;for(var a={white:1,line:1,comment:1};(s=e.current())&&s.type in a;)e.next();if(!e.hasNext())return null;s=e.current(),r=c(s.start,s.value);for(var l="@"==s.value.charAt(0);s=e.next();)if(r.end=s.end,":"==s.type||"white"==s.type){if(r.end=s.start,e.next(),":"==s.type||l)break}else if(";"==s.type||"line"==s.type){r.end=s.start,i=c(s.start,0),e.next();break}if(s=e.current(),!i&&s){"line"==s.type&&(u=s),i=c(s.start,s.value);for(var u;s=e.next();)if(i.end=s.end,"line"==s.type)u=s;else{if("}"==s.type||";"==s.type){i.end=s.start,";"==s.type&&(o=c(s.start,s.value)),e.next();break}if(":"==s.type&&u){i.end=u.start,e._i=e.tokens.indexOf(u);break}}}return i||(i=c(r.end,0)),{name:t(r,n),value:t(i,n,g|(o?v:0)),end:o||c(i.end,0)}}function r(e){var t,n=f.create(e),r=[],i=/[\s\u00a0,;]/,o=function(){n.next(),r.push(c(n.start,n.current())),n.start=n.pos};for(n.eatSpace(),n.start=n.pos;t=n.next();)if('"'==t||"'"==t){if(n.next(),!n.skipTo(t))break;o()}else if("("==t){if(n.backUp(1),!n.skipToPair("(",")"))break;n.backUp(1),o()}else i.test(t)&&(r.push(c(n.start,n.current().length-1)),n.eatWhile(i),n.start=n.pos);return o(),s.unique(r.filter(function(e){return!!e.length()}))}function i(e,t,n){var r=o(t,n);r.forEach(function(t){e._children.push(new y(e,a.createToken(t.name.start,t.nameText),a.createToken(t.value.start,t.valueText),a.createToken(t.end.start,t.endText)))})}function o(e,t){t=t||0,e=e.replace(m,"");var r=[];if(!e)return r;for(var i,o=l.parse(e),s=h.create(o);i=n(s,e);)r.push({nameText:i.name.substring(e),name:i.name.shift(t),valueText:i.value.substring(e),value:i.value.shift(t),endText:i.end.substring(e),end:i.end.shift(t)});return r}var s=e("../utils/common"),a=e("./base"),l=e("../parser/css"),u=e("../utils/cssSections"),c=e("../assets/range"),f=e("../assets/stringStream"),h=e("../assets/tokenIterator"),p={styleBefore:"\n  ",styleSeparator:": ",offset:0},d=/^\s+/,m=/\s+$/,g=1,v=2,b=a.EditContainer.extend({initialize:function(e,t){s.extend(this.options,p,t),Array.isArray(e)&&(e=l.toSource(e));var n=u.findAllRules(e),r=n.shift(),o=[];n.forEach(function(e){var t=!s.find(o,function(t){return t.contains(e)});t&&o.push(e)});var a=c.create2(r.start,r._selectorEnd);this._name=a.substring(e),this._positions.name=a.start,this._positions.contentStart=r._contentStart+1;var f=r._contentStart+1,h=(r.end-1,this);o.forEach(function(t){i(h,e.substring(f,t.start),f);s.extend({},h.options,{offset:t.start+h.options.offset});f=t.end}),i(this,e.substring(f,r.end-1),f),this._saveStyle()},_saveStyle:function(){var e=this._positions.contentStart,t=this.source;this.list().forEach(function(n){if("container"!==n.type){n.styleBefore=t.substring(e,n.namePosition());var r=s.splitByLines(n.styleBefore);r.length>1&&(n.styleBefore="\n"+r[r.length-1]),n.styleSeparator=t.substring(n.nameRange().end,n.valuePosition());var i=n.styleBefore.split("*/");n.styleBefore=i[i.length-1],n.styleSeparator=n.styleSeparator.replace(/\/\*.*?\*\//g,""),e=n.range().end}})},namePosition:function(e){return this._pos(this._positions.name,e)},valuePosition:function(e){return this._pos(this._positions.contentStart,e)},valueRange:function(e){return c.create2(this.valuePosition(e),this._pos(this.valueOf().length,e)-1)},add:function(e,t,n){var r=this.list(),i=this._positions.contentStart,o=s.pick(this.options,"styleBefore","styleSeparator");"undefined"==typeof n&&(n=r.length);var l=r[n];l?i=l.fullRange().start:(l=r[n-1])&&(l.end(";"),i=l.range().end),l&&(o=s.pick(l,"styleBefore","styleSeparator"));var u=a.createToken(i+o.styleBefore.length,e),c=a.createToken(u.end+o.styleSeparator.length,t),f=new y(this,u,c,a.createToken(c.end,";"));return s.extend(f,o),this._updateSource(f.styleBefore+f.toString(),i),this._children.splice(n,0,f),f}}),y=a.EditElement.extend({initialize:function(e,t,n,r){this.styleBefore=e.options.styleBefore,this.styleSeparator=e.options.styleSeparator,this._end=r.value,this._positions.end=r.start},valueParts:function(e){var t=r(this.value());if(e){var n=this.valuePosition(!0);t.forEach(function(e){e.shift(n)})}return t},value:function(e){var t="undefined"!=typeof e,n=this.parent.list();if(t&&this.isIncomplete()){var r=this,i=s.find(n,function(e){return e!==r&&!e.isIncomplete()});this.styleSeparator=i?i.styleSeparator:this.parent.options.styleSeparator,this.parent._updateSource(this.styleSeparator,c(this.valueRange().start,0))}var o=this.constructor.__super__.value.apply(this,arguments);if(t){var a=n.indexOf(this);a===n.length-1||this.end()||this.end(";")}return o},isIncomplete:function(){return this.nameRange().end===this.valueRange().start},end:function(e){return"undefined"!=typeof e&&this._end!==e&&(this.parent._updateSource(e,this._positions.end,this._positions.end+this._end.length),this._end=e),this._end},fullRange:function(e){var t=this.range(e);return t.start-=this.styleBefore.length,t},valueOf:function(){return this.name()+this.styleSeparator+this.value()+this.end()}});return{parse:function(e,t){return new b(e,t)},parseFromPosition:function(e,t,n){var r=u.locateRule(e,t,n);return r&&r.inside(t)?this.parse(r.substring(e),{offset:r.start}):null},propertyFromPosition:function(e,t){var n=null,r="string"==typeof e?this.parseFromPosition(e,t,!0):e;return r&&(n=r.itemFromPosition(t,!0),n||(n=s.find(r.list(),function(e){return e.range(!0).end==t}))),n},baseName:function(e){return e.replace(/^\s*\-\w+\-/,"")},findParts:r,extractPropertiesFromSource:o}})},{"../assets/range":29,"../assets/stringStream":31,"../assets/tokenIterator":33,"../parser/css":53,"../utils/common":70,"../utils/cssSections":71,"./base":34}],36:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("./base"),n=e("../parser/xml"),r=e("../assets/range"),i=e("../utils/common"),o={styleBefore:" ",styleSeparator:"=",styleQuote:'"',offset:0},s=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/m,a=t.EditContainer.extend({initialize:function(e){i.defaults(this.options,o),this._positions.name=1;var t=null,s=n.parse(e);s.forEach(function(n){switch(n.value=r.create(n).substring(e),n.type){case"tag":/^<[^\/]+/.test(n.value)&&(this._name=n.value.substring(1));break;case"attribute":t&&this._children.push(new l(this,t)),t=n;break;case"string":this._children.push(new l(this,t,n)),t=null}},this),t&&this._children.push(new l(this,t)),this._saveStyle()},_saveStyle:function(){var e=this.nameRange().end,t=this.source;this.list().forEach(function(n){n.styleBefore=t.substring(e,n.namePosition()),-1!==n.valuePosition()&&(n.styleSeparator=t.substring(n.namePosition()+n.name().length,n.valuePosition()-n.styleQuote.length)),e=n.range().end})},add:function(e,n,r){var o=this.list(),s=this.nameRange().end,a=i.pick(this.options,"styleBefore","styleSeparator","styleQuote");"undefined"==typeof r&&(r=o.length);var u=o[r];u?s=u.fullRange().start:(u=o[r-1])&&(s=u.range().end),u&&(a=i.pick(u,"styleBefore","styleSeparator","styleQuote")),n=a.styleQuote+n+a.styleQuote;var c=new l(this,t.createToken(s+a.styleBefore.length,e),t.createToken(s+a.styleBefore.length+e.length+a.styleSeparator.length,n));return i.extend(c,a),this._updateSource(c.styleBefore+c.toString(),s),this._children.splice(r,0,c),c},addClass:function(e){var t=this.get("class");if(e=i.trim(e),!t)return this.add("class",e);var n=t.value(),r=" "+n.replace(/\n/g," ")+" ";~r.indexOf(" "+e+" ")||t.value(n+" "+e)},removeClass:function(e){var t=this.get("class");if(e=i.trim(e),t){var n=new RegExp("(^|\\s+)"+i.escapeForRegexp(e)),r=t.value().replace(n,"");i.trim(r)?t.value(r):this.remove("class")}}}),l=t.EditElement.extend({initialize:function(e,t,n){this.styleBefore=e.options.styleBefore,this.styleSeparator=e.options.styleSeparator;var r="",i=e.options.styleQuote;n&&(r=n.value,i=r.charAt(0),'"'==i||"'"==i?r=r.substring(1):i="",i&&r.charAt(r.length-1)==i&&(r=r.substring(0,r.length-1))),this.styleQuote=i,this._value=r,this._positions.value=n?n.start+i.length:-1},fullRange:function(e){var t=this.range(e);return t.start-=this.styleBefore.length,t},valueOf:function(){return this.name()+this.styleSeparator+this.styleQuote+this.value()+this.styleQuote}});return{parse:function(e,t){return new a(e,t)},parseFromPosition:function(e,t,n){var r=this.extractTag(e,t,n);return r&&r.inside(t)?this.parse(r.substring(e),{offset:r.start}):null},extractTag:function(e,t,n){var i,o=e.length,a=Math.min(2e3,o),l=null,u=function(t){var n;return"<"==e.charAt(t)&&(n=e.substr(t,a).match(s))?r.create(t,n[0]):void 0};for(i=t;i>=0&&!(l=u(i));i--);if(l&&(l.inside(t)||n))return l;if(!l&&n)return null;for(i=t;o>i;i++)if(l=u(i))return l}}})},{"../assets/range":29,"../parser/xml":59,"../utils/common":70,"./base":34}],37:[function(require,module,exports){if("object"==typeof module&&"function"!=typeof define)var define=function(e){module.exports=e(require,exports,module)};define(function(require,exports,module){function getFileName(e){var t=/([\w\.\-]+)$/i,n=t.exec(e);return n?n[1]:""}function normalizeProfile(e){return"object"==typeof e&&("indent"in e&&(e.indent=!!e.indent),"self_closing_tag"in e&&"number"==typeof e.self_closing_tag&&(e.self_closing_tag=!!e.self_closing_tag)),e}var global="undefined"!=typeof self?self:this,utils=require("./utils/common"),actions=require("./action/main"),parser=require("./parser/abbreviation"),file=require("./plugin/file"),preferences=require("./assets/preferences"),resources=require("./assets/resources"),profile=require("./assets/profile"),ciu=require("./assets/caniuse"),logger=require("./assets/logger"),sliceFn=Array.prototype.slice;return{expandAbbreviation:function(e,t,n,r){return parser.expand(e,{syntax:t,profile:n,contextNode:r})},run:function(){return actions.run.apply(actions,sliceFn.call(arguments,0))},loadExtensions:function(fileList){var payload={},userSnippets=null,that=this;fileList=fileList.filter(function(e){var t=file.getExt(e);return"json"===t||"js"===t});var reader=(file.readText||file.read).bind(file),next=function(){if(fileList.length){var f=fileList.shift();reader(f,function(err,content){if(err)return logger.log('Unable to read "'+f+'" file: '+err),next();switch(file.getExt(f)){case"js":try{eval(content)}catch(e){logger.log('Unable to eval "'+f+'" file: '+e)}break;case"json":var fileName=getFileName(f).toLowerCase().replace(/\.json$/,"");/^snippets/.test(fileName)?"snippets"===fileName?userSnippets=utils.parseJSON(content):payload.snippets=utils.deepMerge(payload.snippets||{},utils.parseJSON(content)):payload[fileName]=content}next()})}else userSnippets&&(payload.snippets=utils.deepMerge(payload.snippets||{},userSnippets)),that.loadUserData(payload)};next()},loadPreferences:function(e){preferences.load(utils.parseJSON(e))},loadSnippets:function(e){e=utils.parseJSON(e);var t=resources.getVocabulary("user")||{};resources.setVocabulary(utils.deepMerge(t,e),"user")},loadSystemSnippets:function(e){resources.setVocabulary(utils.parseJSON(e),"system")},loadCIU:function(e){ciu.load(utils.parseJSON(e))},resetSnippets:function(){resources.setVocabulary({},"user")},loadUserData:function(e){e=utils.parseJSON(e),e.snippets&&this.loadSnippets(e.snippets),e.preferences&&this.loadPreferences(e.preferences),e.profiles&&this.loadProfiles(e.profiles),e.caniuse&&this.loadCIU(e.caniuse);var t=e.syntaxProfiles||e.syntaxprofiles;t&&this.loadSyntaxProfiles(t)},resetUserData:function(){this.resetSnippets(),preferences.reset(),profile.reset()},loadSyntaxProfiles:function(e){e=utils.parseJSON(e);var t={};Object.keys(e).forEach(function(n){var r=e[n];n in t||(t[n]={}),t[n].profile=normalizeProfile(r)}),this.loadSnippets(t)},loadProfiles:function(e){e=utils.parseJSON(e),Object.keys(e).forEach(function(t){profile.create(t,normalizeProfile(e[t]))})},require:require,preferences:preferences,resources:resources,profile:profile,tabStops:require("./assets/tabStops"),htmlMatcher:require("./assets/htmlMatcher"),utils:{common:utils,action:require("./utils/action"),editor:require("./utils/editor")}}})},{"./action/main":11,"./assets/caniuse":22,"./assets/htmlMatcher":25,"./assets/logger":26,"./assets/preferences":27,"./assets/profile":28,"./assets/resources":30,"./assets/tabStops":32,"./parser/abbreviation":52,"./plugin/file":60,"./utils/action":67,"./utils/common":70,"./utils/editor":72}],38:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(){return{element:l.get("bem.elementSeparator"),modifier:l.get("bem.modifierSeparator")}}function n(e){if(u.isSnippet(e))return e;e.__bem={block:"",element:"",modifier:""};var t=r(e.attribute("class")).split(" "),n=/^[a-z]\-/i;return e.__bem.block=c.find(t,function(e){return n.test(e)}),e.__bem.block||(n=/^[a-z]/i,e.__bem.block=c.find(t,function(e){return n.test(e)})||""),t=t.map(function(t){return i(t,e)}),t=c.unique(c.flatten(t)).join(" "),t&&e.attribute("class",t),e}function r(e){e=(" "+(e||"")+" ").replace(/\s+/g," ");var n=l.get("bem.shortElementPrefix");if(n){var r=new RegExp("\\s("+c.escapeForRegexp(n)+"+)","g");e=e.replace(r,function(e,n){return" "+c.repeatString(t().element,n.length)})}return c.trim(e)}function i(e,n){e=o(e,n,"element"),e=o(e,n,"modifier");var r="",i="",s="",a=t();if(~e.indexOf(a.element)){var l=e.split(a.element);r=l.shift();var u=l.pop().split(a.modifier);l.push(u.shift()),i=l.join(a.element),s=u.join(a.modifier)}else if(~e.indexOf(a.modifier)){var c=e.split(a.modifier);r=c.shift(),s=c.join(a.modifier)}if(r||i||s){r||(r=n.__bem.block);var f=r,h=[];return i?(f+=a.element+i,h.push(f)):h.push(f),s&&h.push(f+a.modifier+s),n.__bem.block=r,n.__bem.element=i,n.__bem.modifier=s,h}return e}function o(e,n,r){var i=t(),o=new RegExp("^("+i[r]+")+","g");if(o.test(e)){for(var s=0,a=e.replace(o,function(e){return s=e.length/i[r].length,""}),l=n;l.parent&&s--;)l=l.parent;if(l&&l.__bem||(l=n),l&&l.__bem){var u=l.__bem.block;return"modifier"==r&&l.__bem.element&&(u+=i.element+l.__bem.element),u+i[r]+a}}return e}function s(e,t){return e.name&&n(e,t),e.children.forEach(function(e){s(e,t),!u.isSnippet(e)&&e.start&&(f=!0)}),e}var a=e("./html"),l=e("../assets/preferences"),u=e("../utils/abbreviation"),c=e("../utils/common");l.define("bem.elementSeparator","__","Class name\u2019s element separator."),l.define("bem.modifierSeparator","_","Class name\u2019s modifier separator."),l.define("bem.shortElementPrefix","-","Symbol for describing short \u201cblock-element\u201d notation. Class names prefixed with this symbol will be treated as element name for parent\u2018s block name. Each symbol instance traverses one level up in parsed tree for block name lookup. Empty value will disable short notation.");var f=!1;return function(e,t){return f=!1,e=s(e,t),f&&(e=a(e,t)),e}})},{"../assets/preferences":27,"../utils/abbreviation":66,"../utils/common":70,"./html":44}],39:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t,n){var o=r.get("filter.commentTrigger");if("*"!=o){var s=i.find(o.split(","),function(t){return!!e.attribute(i.trim(t))});if(!s)return}var a={node:e,name:e.name(),padding:e.parent?e.parent.padding:"",attr:function(t,n,r){var i=e.attribute(t);return i?(n||"")+i+(r||""):""}},l=t?t(a):"",u=n?n(a):"";e.start=e.start.replace(/</,l+"<"),e.end=e.end.replace(/>/,">"+u)}function n(e,r,i){return e.children.forEach(function(e){s.isBlock(e)&&t(e,r,i),n(e,r,i)}),e}{var r=e("../assets/preferences"),i=e("../utils/common"),o=e("../utils/template"),s=e("../utils/abbreviation");e("./main")}return r.define("filter.commentAfter",'\n<!-- /<%= attr("id", "#") %><%= attr("class", ".") %> -->',"A definition of comment that should be placed <i>after</i> matched element when <code>comment</code> filter is applied. This definition is an ERB-style template passed to <code>_.template()</code> function (see Underscore.js docs for details). In template context, the following properties and functions are availabe:\n<ul><li><code>attr(name, before, after)</code> \u2013 a function that outputsspecified attribute value concatenated with <code>before</code> and <code>after</code> strings. If attribute doesn't exists, the empty string will be returned.</li><li><code>node</code> \u2013 current node (instance of <code>AbbreviationNode</code>)</li><li><code>name</code> \u2013 name of current tag</li><li><code>padding</code> \u2013 current string padding, can be used for formatting</li></ul>"),r.define("filter.commentBefore","","A definition of comment that should be placed <i>before</i> matched element when <code>comment</code> filter is applied. For more info, read description of <code>filter.commentAfter</code> property"),r.define("filter.commentTrigger","id, class","A comma-separated list of attribute names that should exist in abbreviatoin where comment should be added. If you wish to add comment for every element, set this option to <code>*</code>"),function(e){var t=o(r.get("filter.commentBefore")),i=o(r.get("filter.commentAfter"));return n(e,t,i)}})},{"../assets/preferences":27,"../utils/abbreviation":66,"../utils/common":70,"../utils/template":74,"./main":46}],40:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(){function e(e){return e.parent&&!e.parent.parent&&!e.index()}return function t(n,r,i){return i=i||0,n.children.forEach(function(n){e(n)||r.tag_nl===!1||(n.start="\n"+n.start),t(n,r,i+1)}),n}})},{}],41:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(){function e(e){return e.replace(/([<>&])/g,function(e,n){return t[n]})}var t={"<":"&lt;",">":"&gt;","&":"&amp;"};return function n(t){return t.children.forEach(function(t){t.start=e(t.start),t.end=e(t.end),t.content=e(t.content),n(t)}),t}})},{}],42:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){var t=p.getArray("format.noIndentTags")||[];if(~t.indexOf(e.name()))return"";var n=CP.cssEditor.editor;if(n.getOption("indentWithTabs"))return"	";for(var r=n.getOption("indentUnit"),i="",o=0;r>o;o++)i+=" ";return i}function n(e){return e.parent&&h.hasBlockChildren(e.parent)}function r(e){return e.parent&&!e.parent.parent&&!e.index()}function i(e,t){return t.tag_nl===!0||h.isBlock(e)?!0:e.parent&&t.inline_break?s(e.parent,t):!1}function o(e,t){return e.children.length&&i(e.children[0],t)}function s(e,t){var n=0;return!!f.find(e.children,function(e){return e.isTextNode()||!h.isInline(e)?n=0:h.isInline(e)&&n++,n>=t.inline_break?!0:void 0})}function a(e){return!e.parent}function l(e,t){return e.start=e.end="",!r(e)&&t.tag_nl!==!1&&i(e,t)&&(a(e.parent)||!h.isInline(e.parent))&&(e.start="\n"+e.start),e}function u(e,t){var n=e.children.some(function(e){return h.isSnippet(e)?!1:!h.isInline(e)});return n?!0:s(e,t)}function c(e,s){e.start=e.end=d;var a=h.isUnary(e),l="\n",c=t(e);if(s.tag_nl!==!1){var f=s.tag_nl===!0&&(s.tag_nl_leaf||e.children.length);if(!f){var m=p.getArray("format.forceIndentationForTags")||[];f=~m.indexOf(e.name())}e.isTextNode()||(i(e,s)?(r(e)||h.isSnippet(e.parent)&&!e.index()||(e.start=l+e.start),(h.hasBlockChildren(e)||o(e,s)||f&&!a)&&(e.end=l+e.end),(h.hasTagsInContent(e)||f&&!e.children.length&&!a)&&(e.start+=l+c)):h.isInline(e)&&n(e)&&!r(e)?e.start=l+e.start:h.isInline(e)&&u(e,s)&&(e.end=l+e.end),e.padding=c)}return e}{var f=e("../utils/common"),h=e("../utils/abbreviation"),p=e("../assets/preferences");e("../assets/resources")}p.define("format.noIndentTags","html","A comma-separated list of tag names that should not get inner indentation."),p.define("format.forceIndentationForTags","body","A comma-separated list of tag names that should <em>always</em> get inner indentation.");var d="%s";return function m(e,t,n){return n=n||0,e.children.forEach(function(e){h.isSnippet(e)?l(e,t,n):c(e,t,n),m(e,t,n+1)}),e}})},{"../assets/preferences":27,"../assets/resources":30,"../utils/abbreviation":66,"../utils/common":70}],43:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){return s.trim(e).replace(/\s+/g,".")}function n(e){var t=[],n=null,r=/^data-/i;return e.forEach(function(e){r.test(e.name)?(n||(n=[],t.push({name:"data",value:n})),n.push(s.extend({},e,{name:e.name.replace(r,"")}))):t.push(e)}),t}function r(e,t){var n=t.attributeQuote();return"{"+e.map(function(e){var i=n+e.value+n;return Array.isArray(e.value)?i=r(e.value,t):e.isBoolean&&(i="true"),":"+e.name+" => "+i}).join(", ")+"}"}function i(e,i){var o="",s=[],a=(i.attributeQuote(),i.cursor());return e.attributeList().forEach(function(e){var n=i.attributeName(e.name);switch(n.toLowerCase()){case"id":o+="#"+(e.value||a);break;case"class":o+="."+t(e.value||a);break;default:s.push({name:n,value:e.value||a,isBoolean:i.isBoolean(e.name,e.value)})}}),s.length&&(o+=r(n(s),i)),o}function o(e,t){if(!e.parent)return e;var n=i(e,t),r=t.cursor(),o=a.isUnary(e),l=t.self_closing_tag&&o?"/":"",u="",c="%"+t.tagName(e.name());
"%div"==c.toLowerCase()&&n&&-1==n.indexOf("{")&&(c=""),e.end="",u=c+n+l,e.content&&!/^\s/.test(e.content)&&(e.content=" "+e.content);var f="%s";return e.start=s.replaceSubstring(e.start,u,e.start.indexOf(f),f),e.children.length||o||(e.start+=r),e}var s=e("../utils/common"),a=e("../utils/abbreviation"),l=e("./format");return function u(e,t,n){return n=n||0,n||(e=l(e,"_format",t)),e.children.forEach(function(e){a.isSnippet(e)||o(e,t,n),u(e,t,n+1)}),e}})},{"../utils/abbreviation":66,"../utils/common":70,"./format":42}],44:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t){var n=t.attributeQuote(),r=t.cursor();return e.attributeList().map(function(e){var i=t.isBoolean(e.name,e.value),o=t.attributeName(e.name),s=i?o:e.value;return i&&t.allowCompactBoolean()?" "+o:" "+o+"="+n+(s||r)+n}).join("")}function n(e,n){if(!e.parent)return e;var s=t(e,n),a=n.cursor(),l=r.isUnary(e),u="",c="";if(!e.isTextNode()){var f=n.tagName(e.name());l?(u="<"+f+s+n.selfClosing()+">",e.end=""):(u="<"+f+s+">",c="</"+f+">")}var h="%s";return e.start=i.replaceSubstring(e.start,u,e.start.indexOf(h),h),e.end=i.replaceSubstring(e.end,c,e.end.indexOf(h),h),e.children.length||l||~e.content.indexOf(a)||o.extract(e.content).tabstops.length||(e.start+=a),e}var r=e("../utils/abbreviation"),i=e("../utils/common"),o=e("../assets/tabStops"),s=e("./format");return function a(e,t,i){return i=i||0,i||(e=s(e,t,i)),e.children.forEach(function(e){r.isSnippet(e)||n(e,t,i),a(e,t,i+1)}),e}})},{"../assets/tabStops":32,"../utils/abbreviation":66,"../utils/common":70,"./format":42}],45:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){return s.trim(e).replace(/\s+/g,".")}function n(e,t){var n=t.attributeQuote();return"("+e.map(function(e){return e.isBoolean?e.name:e.name+"="+n+e.value+n}).join(", ")+")"}function r(e,r){var i="",o=[],s=(r.attributeQuote(),r.cursor());return e.attributeList().forEach(function(e){var n=r.attributeName(e.name);switch(n.toLowerCase()){case"id":i+="#"+(e.value||s);break;case"class":i+="."+t(e.value||s);break;default:o.push({name:n,value:e.value||s,isBoolean:r.isBoolean(e.name,e.value)})}}),o.length&&(i+=n(o,r)),i}function i(e){if(e.content){var t=u.replaceVariables(e.content,function(e,t){return"nl"===t||"newline"===t?"\n":e});if(f.test(t)&&!h.test(t)){var n="| ";e.content="\n"+n+s.padString(t,n)}else p.test(t)||(e.content=" "+t)}}function o(e,t){if(!e.parent)return e;var n=r(e,t),o=t.cursor(),l=a.isUnary(e),u=t.tagName(e.name());"div"==u.toLowerCase()&&n&&"("!=n.charAt(0)&&(u=""),e.end="";var c=u+n;i(e);var f="%s";return e.start=s.replaceSubstring(e.start,c,e.start.indexOf(f),f),e.children.length||l||(e.start+=o),e}var s=e("../utils/common"),a=e("../utils/abbreviation"),l=e("./format"),u=e("../assets/tabStops"),c=e("../assets/profile"),f=/[\n\r]/,h=/^\s*\|/,p=/^\s/;return function d(e,t,n){return n=n||0,n||(e=l(e,c.get("xml"))),e.children.forEach(function(e){a.isSnippet(e)||o(e,t,n),d(e,t,n+1)}),e}})},{"../assets/profile":28,"../assets/tabStops":32,"../utils/abbreviation":66,"../utils/common":70,"./format":42}],46:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){return e?"string"==typeof e?e.split(/[\|,]/g):e:[]}var n=e("../utils/common"),r=e("../assets/profile"),i=e("../assets/resources"),o={html:e("./html"),haml:e("./haml"),jade:e("./jade"),slim:e("./slim"),xsl:e("./xsl"),css:e("./css"),bem:e("./bem"),c:e("./comment"),e:e("./escape"),s:e("./singleLine"),t:e("./trim")},s="html";return{add:function(e,t){o[e]=t},apply:function(e,i,s){return s=r.get(s),t(i).forEach(function(t){var r=n.trim(t.toLowerCase());r&&r in o&&(e=o[r](e,s))}),e},composeList:function(e,n,o){n=r.get(n);var a=t(n.filters||i.findItem(e,"filters")||s);return n.extraFilters&&(a=a.concat(t(n.extraFilters))),o&&(a=a.concat(t(o))),a&&a.length||(a=t(s)),a},extract:function(e){var n="";return e=e.replace(/\|([\w\|\-]+)$/,function(e,t){return n=t,""}),[e,t(n)]}}})},{"../assets/profile":28,"../assets/resources":30,"../utils/common":70,"./bem":38,"./comment":39,"./css":40,"./escape":41,"./haml":43,"./html":44,"./jade":45,"./singleLine":47,"./slim":48,"./trim":49,"./xsl":50}],47:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("../utils/abbreviation"),n=/^\s+/,r=/[\n\r]/g;return function i(e){return e.children.forEach(function(e){t.isSnippet(e)||(e.start=e.start.replace(n,""),e.end=e.end.replace(n,"")),e.start=e.start.replace(r,""),e.end=e.end.replace(r,""),e.content=e.content.replace(r,""),i(e)}),e}})},{"../utils/abbreviation":66}],48:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){return a.trim(e).replace(/\s+/g,".")}function n(){var e=" ",t="";switch(f.get("slim.attributesWrapper")){case"round":e="(",t=")";break;case"square":e="[",t="]";break;case"curly":e="{",t="}"}return{start:e,end:t}}function r(e,t){var r=t.attributeQuote(),i=n();return i.start+e.map(function(e){var t=r+e.value+r;if(e.isBoolean){if(i.end)return e.name;t="true"}return e.name+"="+t}).join(" ")+i.end}function i(e,n){var i="",o=[],s=(n.attributeQuote(),n.cursor());return e.attributeList().forEach(function(e){var r=n.attributeName(e.name);switch(r.toLowerCase()){case"id":i+="#"+(e.value||s);break;case"class":i+="."+t(e.value||s);break;default:o.push({name:r,value:e.value||s,isBoolean:n.isBoolean(e.name,e.value)})}}),o.length&&(i+=r(o,n)),i}function o(e){if(e.content){var t=c.replaceVariables(e.content,function(e,t){return"nl"===t||"newline"===t?"\n":e});if(p.test(t)&&!d.test(t)){var n="  ";e.content="\n| "+a.padString(t,n)}else m.test(t)||(e.content=" "+t)}}function s(e,t){if(!e.parent)return e;var n=i(e,t),r=t.cursor(),s=l.isUnary(e),u=t.self_closing_tag&&s?"/":"",c=t.tagName(e.name());"div"==c.toLowerCase()&&n&&-1=="([{".indexOf(n.charAt(0))&&(c=""),e.end="";var f=c+n+u;o(e);var h="%s";return e.start=a.replaceSubstring(e.start,f,e.start.indexOf(h),h),e.children.length||s||(e.start+=r),e}var a=e("../utils/common"),l=e("../utils/abbreviation"),u=e("./format"),c=e("../assets/tabStops"),f=e("../assets/preferences"),h=e("../assets/profile"),p=/[\n\r]/,d=/^\s*\|/,m=/^\s/;return f.define("slim.attributesWrapper","none","Defines how attributes will be wrapped:<ul><li><code>none</code> \u2013 no wrapping;</li><li><code>round</code> \u2014 wrap attributes with round braces;</li><li><code>square</code> \u2014 wrap attributes with round braces;</li><li><code>curly</code> \u2014 wrap attributes with curly braces.</li></ul>"),function g(e,t,n){return n=n||0,n||(e=u(e,h.get("xml"))),e.children.forEach(function(e){l.isSnippet(e)||s(e,t,n),g(e,t,n+1)}),e}})},{"../assets/preferences":27,"../assets/profile":28,"../assets/tabStops":32,"../utils/abbreviation":66,"../utils/common":70,"./format":42}],49:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,n){return e.children.forEach(function(e){e.content&&(e.content=e.content.replace(n,"")),t(e,n)}),e}var n=e("../assets/preferences");return n.define("filter.trimRegexp","[\\s|\\u00a0]*[\\d|#|\\-|*|\\u2022]+\\.?\\s*","Regular expression used to remove list markers (numbers, dashes, bullets, etc.) in <code>t</code> (trim) filter. The trim filter is useful for wrapping with abbreviation lists, pased from other documents (for example, Word documents)."),function(e){var r=new RegExp(n.get("filter.trimRegexp"));return t(e,r)}})},{"../assets/preferences":27}],50:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){e.start=e.start.replace(/\s+select\s*=\s*(['"]).*?\1/,"")}var n=e("../utils/abbreviation"),r={"xsl:variable":1,"xsl:with-param":1};return function i(e){return e.children.forEach(function(e){!n.isSnippet(e)&&(e.name()||"").toLowerCase()in r&&e.children.length&&t(e),i(e)}),e}})},{"../utils/abbreviation":66}],51:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t){return Math.round(Math.random()*(t-e)+e)}function n(e,n){for(var r=e.length,i=Math.min(r,n),o=[];o.length<i;){var s=t(0,r-1);~o.indexOf(s)||o.push(s)}return o.map(function(t){return e[t]})}function r(e){return"string"==typeof e?e.charAt(t(0,e.length-1)):e[t(0,e.length-1)]}function i(e,t){return e.length&&(e[0]=e[0].charAt(0).toUpperCase()+e[0].substring(1)),e.join(" ")+(t||r("?!..."))}function o(e){var n=e.length;if(!(2>n)){var r=0;r=n>3&&6>=n?t(0,1):n>6&&12>=n?t(0,2):t(1,4);for(var i,o,s=0;r>s;s++)i=t(0,e.length-2),o=e[i],","!==o.charAt(o.length-1)&&(e[i]+=",")}}function s(e,r,s){var a=l[e];if(!a)return"";var u,c=[],f=0;for(r=parseInt(r,10),s&&a.common&&(u=a.common.slice(0,r),u.length>5&&(u[4]+=","),f+=u.length,c.push(i(u,".")));r>f;)u=n(a.words,Math.min(t(2,30),r-f)),f+=u.length,o(u),c.push(i(u));return c.join(" ")}var a=e("../assets/preferences"),l={en:{common:["lorem","ipsum","dolor","sit","amet","consectetur","adipisicing","elit"],words:["exercitationem","perferendis","perspiciatis","laborum","eveniet","sunt","iure","nam","nobis","eum","cum","officiis","excepturi","odio","consectetur","quasi","aut","quisquam","vel","eligendi","itaque","non","odit","tempore","quaerat","dignissimos","facilis","neque","nihil","expedita","vitae","vero","ipsum","nisi","animi","cumque","pariatur","velit","modi","natus","iusto","eaque","sequi","illo","sed","ex","et","voluptatibus","tempora","veritatis","ratione","assumenda","incidunt","nostrum","placeat","aliquid","fuga","provident","praesentium","rem","necessitatibus","suscipit","adipisci","quidem","possimus","voluptas","debitis","sint","accusantium","unde","sapiente","voluptate","qui","aspernatur","laudantium","soluta","amet","quo","aliquam","saepe","culpa","libero","ipsa","dicta","reiciendis","nesciunt","doloribus","autem","impedit","minima","maiores","repudiandae","ipsam","obcaecati","ullam","enim","totam","delectus","ducimus","quis","voluptates","dolores","molestiae","harum","dolorem","quia","voluptatem","molestias","magni","distinctio","omnis","illum","dolorum","voluptatum","ea","quas","quam","corporis","quae","blanditiis","atque","deserunt","laboriosam","earum","consequuntur","hic","cupiditate","quibusdam","accusamus","ut","rerum","error","minus","eius","ab","ad","nemo","fugit","officia","at","in","id","quos","reprehenderit","numquam","iste","fugiat","sit","inventore","beatae","repellendus","magnam","recusandae","quod","explicabo","doloremque","aperiam","consequatur","asperiores","commodi","optio","dolor","labore","temporibus","repellat","veniam","architecto","est","esse","mollitia","nulla","a","similique","eos","alias","dolore","tenetur","deleniti","porro","facere","maxime","corrupti"]},ru:{common:["\u0434\u0430\u043b\u0435\u043a\u043e-\u0434\u0430\u043b\u0435\u043a\u043e","\u0437\u0430","\u0441\u043b\u043e\u0432\u0435\u0441\u043d\u044b\u043c\u0438","\u0433\u043e\u0440\u0430\u043c\u0438","\u0432 \u0441\u0442\u0440\u0430\u043d\u0435","\u0433\u043b\u0430\u0441\u043d\u044b\u0445","\u0438 \u0441\u043e\u0433\u043b\u0430\u0441\u043d\u044b\u0445","\u0436\u0438\u0432\u0443\u0442","\u0440\u044b\u0431\u043d\u044b\u0435","\u0442\u0435\u043a\u0441\u0442\u044b"],words:["\u0432\u0434\u0430\u043b\u0438","\u043e\u0442 \u0432\u0441\u0435\u0445","\u043e\u043d\u0438","\u0431\u0443\u043a\u0432\u0435\u043d\u043d\u044b\u0445","\u0434\u043e\u043c\u0430\u0445","\u043d\u0430 \u0431\u0435\u0440\u0435\u0433\u0443","\u0441\u0435\u043c\u0430\u043d\u0442\u0438\u043a\u0430","\u0431\u043e\u043b\u044c\u0448\u043e\u0433\u043e","\u044f\u0437\u044b\u043a\u043e\u0432\u043e\u0433\u043e","\u043e\u043a\u0435\u0430\u043d\u0430","\u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0439","\u0440\u0443\u0447\u0435\u0435\u043a","\u0434\u0430\u043b\u044c","\u0436\u0443\u0440\u0447\u0438\u0442","\u043f\u043e \u0432\u0441\u0435\u0439","\u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442","\u0435\u0435","\u0432\u0441\u0435\u043c\u0438","\u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u043c\u0438","\u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438","\u044d\u0442\u0430","\u043f\u0430\u0440\u0430\u0434\u0438\u0433\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f","\u0441\u0442\u0440\u0430\u043d\u0430","\u043a\u043e\u0442\u043e\u0440\u043e\u0439","\u0436\u0430\u0440\u0435\u043d\u043d\u044b\u0435","\u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f","\u0437\u0430\u043b\u0435\u0442\u0430\u044e\u0442","\u043f\u0440\u044f\u043c\u043e","\u0440\u043e\u0442","\u0434\u0430\u0436\u0435","\u0432\u0441\u0435\u043c\u043e\u0433\u0443\u0449\u0430\u044f","\u043f\u0443\u043d\u043a\u0442\u0443\u0430\u0446\u0438\u044f","\u043d\u0435","\u0438\u043c\u0435\u0435\u0442","\u0432\u043b\u0430\u0441\u0442\u0438","\u043d\u0430\u0434","\u0440\u044b\u0431\u043d\u044b\u043c\u0438","\u0442\u0435\u043a\u0441\u0442\u0430\u043c\u0438","\u0432\u0435\u0434\u0443\u0449\u0438\u043c\u0438","\u0431\u0435\u0437\u043e\u0440\u0444\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u043d\u044b\u0439","\u043e\u0431\u0440\u0430\u0437","\u0436\u0438\u0437\u043d\u0438","\u043e\u0434\u043d\u0430\u0436\u0434\u044b","\u043e\u0434\u043d\u0430","\u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0430\u044f","\u0441\u0442\u0440\u043e\u0447\u043a\u0430","\u0440\u044b\u0431\u043d\u043e\u0433\u043e","\u0442\u0435\u043a\u0441\u0442\u0430","\u0438\u043c\u0435\u043d\u0438","lorem","ipsum","\u0440\u0435\u0448\u0438\u043b\u0430","\u0432\u044b\u0439\u0442\u0438","\u0431\u043e\u043b\u044c\u0448\u043e\u0439","\u043c\u0438\u0440","\u0433\u0440\u0430\u043c\u043c\u0430\u0442\u0438\u043a\u0438","\u0432\u0435\u043b\u0438\u043a\u0438\u0439","\u043e\u043a\u0441\u043c\u043e\u043a\u0441","\u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0430\u043b","\u043e","\u0437\u043b\u044b\u0445","\u0437\u0430\u043f\u044f\u0442\u044b\u0445","\u0434\u0438\u043a\u0438\u0445","\u0437\u043d\u0430\u043a\u0430\u0445","\u0432\u043e\u043f\u0440\u043e\u0441\u0430","\u043a\u043e\u0432\u0430\u0440\u043d\u044b\u0445","\u0442\u043e\u0447\u043a\u0430\u0445","\u0437\u0430\u043f\u044f\u0442\u043e\u0439","\u043d\u043e","\u0442\u0435\u043a\u0441\u0442","\u0434\u0430\u043b","\u0441\u0431\u0438\u0442\u044c","\u0441\u0435\u0431\u044f","\u0442\u043e\u043b\u043a\u0443","\u043e\u043d","\u0441\u043e\u0431\u0440\u0430\u043b","\u0441\u0435\u043c\u044c","\u0441\u0432\u043e\u0438\u0445","\u0437\u0430\u0433\u043b\u0430\u0432\u043d\u044b\u0445","\u0431\u0443\u043a\u0432","\u043f\u043e\u0434\u043f\u043e\u044f\u0441\u0430\u043b","\u0438\u043d\u0438\u0446\u0438\u0430\u043b","\u0437\u0430","\u043f\u043e\u044f\u0441","\u043f\u0443\u0441\u0442\u0438\u043b\u0441\u044f","\u0434\u043e\u0440\u043e\u0433\u0443","\u0432\u0437\u043e\u0431\u0440\u0430\u0432\u0448\u0438\u0441\u044c","\u043f\u0435\u0440\u0432\u0443\u044e","\u0432\u0435\u0440\u0448\u0438\u043d\u0443","\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u044b\u0445","\u0433\u043e\u0440","\u0431\u0440\u043e\u0441\u0438\u043b","\u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439","\u0432\u0437\u0433\u043b\u044f\u0434","\u043d\u0430\u0437\u0430\u0434","\u0441\u0438\u043b\u0443\u044d\u0442","\u0441\u0432\u043e\u0435\u0433\u043e","\u0440\u043e\u0434\u043d\u043e\u0433\u043e","\u0433\u043e\u0440\u043e\u0434\u0430","\u0431\u0443\u043a\u0432\u043e\u0433\u0440\u0430\u0434","\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","\u0434\u0435\u0440\u0435\u0432\u043d\u0438","\u0430\u043b\u0444\u0430\u0432\u0438\u0442","\u043f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","\u0441\u0432\u043e\u0435\u0433\u043e","\u043f\u0435\u0440\u0435\u0443\u043b\u043a\u0430","\u0433\u0440\u0443\u0441\u0442\u043d\u044b\u0439","\u0440\u0435\u0442\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0438\u0439","\u0432\u043e\u043f\u0440\u043e\u0441","\u0441\u043a\u0430\u0442\u0438\u043b\u0441\u044f","\u0435\u0433\u043e","\u0449\u0435\u043a\u0435","\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u043b","\u0441\u0432\u043e\u0439","\u043f\u0443\u0442\u044c","\u0434\u043e\u0440\u043e\u0433\u0435","\u0432\u0441\u0442\u0440\u0435\u0442\u0438\u043b","\u0440\u0443\u043a\u043e\u043f\u0438\u0441\u044c","\u043e\u043d\u0430","\u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0434\u0438\u043b\u0430","\u043c\u043e\u0435\u0439","\u0432\u0441\u0435","\u043f\u0435\u0440\u0435\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f","\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e","\u0440\u0430\u0437","\u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435","\u0447\u0442\u043e","\u043c\u0435\u043d\u044f","\u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c","\u044d\u0442\u043e","\u043f\u0440\u0438\u0441\u0442\u0430\u0432\u043a\u0430","\u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439\u0441\u044f","\u0442\u044b","\u043b\u0443\u0447\u0448\u0435","\u0441\u0432\u043e\u044e","\u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u0443\u044e","\u0441\u0442\u0440\u0430\u043d\u0443","\u043f\u043e\u0441\u043b\u0443\u0448\u0430\u0432\u0448\u0438\u0441\u044c","\u0440\u0443\u043a\u043e\u043f\u0438\u0441\u0438","\u043d\u0430\u0448","\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u043b","\u0441\u0432\u043e\u0439","\u043f\u0443\u0442\u044c","\u0432\u0441\u043a\u043e\u0440\u0435","\u0435\u043c\u0443","\u043f\u043e\u0432\u0441\u0442\u0440\u0435\u0447\u0430\u043b\u0441\u044f","\u043a\u043e\u0432\u0430\u0440\u043d\u044b\u0439","\u0441\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u044c","\u0440\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0445","\u0442\u0435\u043a\u0441\u0442\u043e\u0432","\u043d\u0430\u043f\u043e\u0438\u0432\u0448\u0438\u0439","\u044f\u0437\u044b\u043a\u043e\u043c","\u0440\u0435\u0447\u044c\u044e","\u0437\u0430\u043c\u0430\u043d\u0438\u0432\u0448\u0438\u0439","\u0441\u0432\u043e\u0435","\u0430\u0433\u0435\u043d\u0441\u0442\u0432\u043e","\u043a\u043e\u0442\u043e\u0440\u043e\u0435","\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u043e","\u0441\u043d\u043e\u0432\u0430","\u0441\u043d\u043e\u0432\u0430","\u0441\u0432\u043e\u0438\u0445","\u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445","\u0435\u0441\u043b\u0438","\u043f\u0435\u0440\u0435\u043f\u0438\u0441\u0430\u043b\u0438","\u0442\u043e","\u0436\u0438\u0432\u0435\u0442","\u0442\u0430\u043c","\u0434\u043e","\u0441\u0438\u0445","\u043f\u043e\u0440"]}};return a.define("lorem.defaultLang","en",'Default language of generated dummy text. Currently, <code>en</code>		and <code>ru</code> are supported, but users can add their own syntaxes		see <a href="http://docs.emmet.io/abbreviations/lorem-ipsum/">docs</a>.'),a.define("lorem.omitCommonPart",!1,"Omit commonly used part (e.g. \u201cLorem ipsum dolor sit amet\u201c) from generated text."),{addLang:function(e,t){"string"==typeof t?t={words:t.split(" ").filter(function(e){return!!e})}:Array.isArray(t)&&(t={words:t}),l[e]=t},preprocessor:function(e){var t,n=/^(?:lorem|lipsum)([a-z]{2})?(\d*)$/i,r=!a.get("lorem.omitCommonPart");e.findAll(function(e){if(e._name&&(t=e._name.match(n))){var i=t[2]||30,o=t[1]||a.get("lorem.defaultLang")||"en";e._name="",e.data("forceNameResolving",e.isRepeating()||e.attributeList().length),e.data("pasteOverwrites",!0),e.data("paste",function(e){return s(o,i,!e&&r)})}})}}})},{"../assets/preferences":27}],52:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(){this.parent=null,this.children=[],this._attributes=[],this.abbreviation="",this.counter=1,this._name=null,this._text="",this.repeatCount=1,this.hasImplicitRepeat=!1,this._data={},this.start="",this.end="",this.content="",this.padding=""}function n(e){return e.substring(1,e.length-1)}function r(e){e=g.trim(e);for(var i,o,s=new t,a=s.addChild(),l=b.create(e),u=1e3,c=function(e){a.addChild(e)},f=function(){l.start=l.pos,l.eatWhile(function(e){if("["==e||"{"==e){if(l.skipToPair(e,L[e]))return l.backUp(1),!0;throw'Invalid abbreviation: mo matching "'+L[e]+'" found for character at '+l.pos}if("+"==e){l.next();var t=l.eol()||~"+>^*".indexOf(l.peek());return l.backUp(1),t}return"("!=e&&h(e)})};!l.eol()&&--u>0;)switch(i=l.peek()){case"(":if(l.start=l.pos,!l.skipToPair("(",")"))throw'Invalid abbreviation: mo matching ")" found for character at '+l.pos;var p=r(n(l.current()));(o=l.match(/^\*(\d+)?/,!0))&&a._setRepeat(o[1]),p.children.forEach(c);break;case">":a=a.addChild(),l.next();break;case"+":a=a.parent.addChild(),l.next();break;case"^":var d=a.parent||a;a=(d.parent||d).addChild(),l.next();break;default:f(),a.setAbbreviation(l.current()),l.start=l.pos}if(1>u)throw"Endless loop detected";return s}function i(e){e=g.trim(e);for(var t,n=[],r=b(e);t=r.next();)if(" "==t){for(n.push(g.trim(r.current()));" "==r.peek();)r.next();r.start=r.pos}else if(('"'==t||"'"==t)&&!r.skipString(t))throw new Error("Invalid attribute set");return n.push(g.trim(r.current())),n}function o(e){var t=e.charAt(0);if('"'==t||"'"==t){e=e.substr(1);var n=e.charAt(e.length-1);n===t&&(e=e.substr(0,e.length-1))}return e}function s(e){var t=/^[\w\-:\$@]+\.?$/;return i(e).map(function(e){if(t.test(e)){var n="";return"."==e.charAt(e.length-1)&&(e=e.substr(0,e.length-1),n=e),{name:e,value:n}}if(~e.indexOf("=")){var r=e.split("=");return{name:r.shift(),value:o(r.join("="))}}return{name:E,value:o(e)}})}function a(e){for(var t=[],r={"#":"id",".":"class"},i=null,o=b.create(e);!o.eol();)switch(o.peek()){case"#":case".":null===i&&(i=o.pos);var a=r[o.peek()];o.next(),o.start=o.pos,o.eatWhile(A),t.push({name:a,value:o.current()});break;case"[":if(null===i&&(i=o.pos),o.start=o.pos,!o.skipToPair("[","]"))throw"Invalid attribute set definition";t=t.concat(s(n(o.current())));break;default:o.next()}return t.length?{element:e.substring(0,i),attributes:l(t)}:null}function l(e){e=e.map(function(e){return g.clone(e)});var t={};return e.filter(function(e){if(!(e.name in t))return t[e.name]=e;var n=t[e.name];return"class"==e.name.toLowerCase()?n.value+=(n.value.length?" ":"")+e.value:n.value=e.value,!1})}function u(e){if(!~e.indexOf("{"))return null;for(var t=b.create(e);!t.eol();)switch(t.peek()){case"[":case"(":t.skipToPair(t.peek(),L[t.peek()]);break;case"{":return t.start=t.pos,t.skipToPair("{","}"),{element:e.substring(0,t.start),text:n(t.current())};default:t.next()}}function c(e){for(var t,n,r,i=e.children.length-1;i>=0;i--)if(n=e.children[i],n.isRepeating())for(r=t=n.repeatCount,n.repeatCount=1,n.updateProperty("counter",1),n.updateProperty("maxCount",r);--t>0;)n.parent.addChild(n.clone(),i+1).updateProperty("counter",t+1).updateProperty("maxCount",r);return e.children.forEach(c),e}function f(e){for(var t=e.children.length-1;t>=0;t--){var n=e.children[t];n.isGroup()?n.replace(f(n).children):n.isEmpty()&&n.remove()}return e.children.forEach(f),e}function h(e){var t=e.charCodeAt(0),n="#.*:$-_!@|%";return t>64&&91>t||t>96&&123>t||t>47&&58>t||-1!=n.indexOf(e)}var p=e("../assets/tabStops"),d=e("../assets/profile"),m=e("../filter/main"),g=e("../utils/common"),v=e("../utils/abbreviation"),b=e("../assets/stringStream"),y=e("../generator/lorem"),x=e("./processor/pastedContent"),w=e("./processor/tagName"),S=e("./processor/resourceMatcher"),C=e("./processor/attributes"),k=e("./processor/href"),_=/^[\w\-\$\:@\!%]+\+?$/i,A=/[\w\-:\$@]/,E="%default",L={"[":"]","(":")","{":"}"},T=Array.prototype.splice,P=[],I=[],M=[];return t.prototype={addChild:function(e,n){return e=e||new t,e.parent=this,"undefined"==typeof n?this.children.push(e):this.children.splice(n,0,e),e},clone:function(){var e=new t,n=["abbreviation","counter","_name","_text","repeatCount","hasImplicitRepeat","start","end","content","padding"];return n.forEach(function(t){e[t]=this[t]},this),e._attributes=this._attributes.map(function(e){return g.extend({},e)}),e._data=g.extend({},this._data),e.children=this.children.map(function(t){return t=t.clone(),t.parent=e,t}),e},remove:function(){if(this.parent){var e=this.parent.children.indexOf(this);~e&&this.parent.children.splice(e,1)}return this},replace:function(){var e=this.parent,t=e.children.indexOf(this),n=g.flatten(arguments);T.apply(e.children,[t,1].concat(n)),n.forEach(function(t){t.parent=e})},updateProperty:function(e,t){return this[e]=t,this.children.forEach(function(n){n.updateProperty(e,t)}),this},find:function(e){return this.findAll(e,{amount:1})[0]},findAll:function(e,t){if(t=g.extend({amount:0,found:0},t||{}),"function"!=typeof e){var n=e.toLowerCase();e=function(e){return e.name().toLowerCase()==n}}var r=[];return this.children.forEach(function(n){e(n)&&(r.push(n),t.found++,t.amount&&t.found>=t.amount)||(r=r.concat(n.findAll(e)))}),r.filter(function(e){return!!e})},data:function(e,t){return 2==arguments.length&&(this._data[e]=t),this._data[e]},name:function(){return this._name},attributeList:function(){return l(this._attributes.slice(0))},attribute:function(e,t){if(2==arguments.length){if(null===t){var n=this._attributes.filter(function(t){return t.name===e}),r=this;return void n.forEach(function(e){var t=r._attributes.indexOf(e);~t&&r._attributes.splice(t,1)})}var i=this._attributes.map(function(e){return e.name}),o=i.indexOf(e.toLowerCase());~o?this._attributes[o].value=t:this._attributes.push({name:e,value:t})}return(g.find(this.attributeList(),function(t){return t.name==e})||{}).value},index:function(){return this.parent?this.parent.children.indexOf(this):-1},_setRepeat:function(e){e?this.repeatCount=parseInt(e,10)||1:this.hasImplicitRepeat=!0},setAbbreviation:function(e){e=e||"";var t=this;e=e.replace(/\*(\d+)?$/,function(e,n){return t._setRepeat(n),""}),this.abbreviation=e;var n=u(e);n&&(e=n.element,this.content=this._text=n.text);var r=a(e);if(r&&(e=r.element,this._attributes=r.attributes),this._name=e,this._name&&!_.test(this._name))throw new Error("Invalid abbreviation")},valueOf:function(){var e=this.start,t=this.end,n=this.content,r=this;M.forEach(function(i){e=i(e,r,"start"),n=i(n,r,"content"),t=i(t,r,"end")});var i=this.children.map(function(e){return e.valueOf()}).join("");return n=v.insertChildContent(n,i,{keepVariable:!1}),e+g.padString(n,this.padding)+t},toString:function(){return this.valueOf()},hasEmptyChildren:function(){return!!g.find(this.children,function(e){return e.isEmpty()})},hasImplicitName:function(){return!this._name&&!this.isTextNode()},isGroup:function(){return!this.abbreviation},isEmpty:function(){return!this.abbreviation&&!this.children.length},isRepeating:function(){return this.repeatCount>1||this.hasImplicitRepeat},isTextNode:function(){return!this.name()&&!this.attributeList().length},isElement:function(){return!this.isEmpty()&&!this.isTextNode()},deepestChild:function(){if(!this.children.length)return null;for(var e=this;e.children.length;)e=e.children[e.children.length-1];return e}},M.push(function(e,t){return g.replaceCounter(e,t.counter,t.maxCount)}),M.push(p.abbrOutputProcessor.bind(p)),[y,S,C,x,w,k].forEach(function(e){e.preprocessor&&P.push(e.preprocessor.bind(e)),e.postprocessor&&I.push(e.postprocessor.bind(e))}),{DEFAULT_ATTR_NAME:E,parse:function(e,t){t=t||{};var n=r(e),i=this;if(t.contextNode){n._name=t.contextNode.name;var o={};n._attributes.forEach(function(e){o[e.name]=e}),t.contextNode.attributes.forEach(function(e){e.name in o?o[e.name].value=e.value:(e=g.clone(e),n._attributes.push(e),o[e.name]=e)})}return P.forEach(function(e){e(n,t,i)}),"counter"in t&&n.updateProperty("counter",t.counter),n=f(c(n)),I.forEach(function(e){e(n,t,i)}),n},expand:function(e,t){if(!e)return"";if("string"==typeof t)throw new Error("Deprecated use of `expand` method: `options` must be object");t=t||{},t.syntax||(t.syntax=g.defaultSyntax());var n=d.get(t.profile,t.syntax);p.resetTabstopIndex();var r=m.extract(e),i=this.parse(r[0],t),o=m.composeList(t.syntax,n,r[1]);return m.apply(i,o,n),i.valueOf()},AbbreviationNode:t,addPreprocessor:function(e){~P.indexOf(e)||P.push(e)},removeFilter:function(e){var t=P.indexOf(e);~t&&P.splice(t,1)},addPostprocessor:function(e){~I.indexOf(e)||I.push(e)},removePostprocessor:function(e){var t=I.indexOf(e);~t&&I.splice(t,1)},addOutputProcessor:function(e){~M.indexOf(e)||M.push(e)},removeOutputProcessor:function(e){var t=M.indexOf(e);~t&&M.splice(t,1)},isAllowedChar:function(e){return e=String(e),h(e)||~">+^[](){}".indexOf(e)}}})},{"../assets/profile":28,"../assets/stringStream":31,"../assets/tabStops":32,"../filter/main":46,"../generator/lorem":51,"../utils/abbreviation":66,"../utils/common":70,"./processor/attributes":54,"./processor/href":55,"./processor/pastedContent":56,"./processor/resourceMatcher":57,"./processor/tagName":58}],53:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(){function e(e,t){return t=t||e.charCodeAt(0),t>=97&&122>=t||t>=65&&90>=t||t>=1024&&1279>=t||"&"===e||"_"===e||"<"===e||">"===e||"="===e||"-"===e}function t(e,t){return t=t||e.charCodeAt(0),t>=48&&57>=t}function n(e,t){m.tokens.push({value:e,type:t||e,start:null,end:null})}function r(e){for(var t=e.chnum,n=e.source.replace(/\r\n?/g,"\n"),r=e.source.substring(0,t+1).replace(/\r\n?/g,"\n"),i=r.split("\n"),o=(i[i.length-1]||"").length,s=n.split("\n")[i.length-1]||"",a=100,l=Math.max(0,o-a),u=s.substr(l,2*a)+"\n",c=0;o-l-1>c;c++)u+="-";return u+="^",{line:i.length,ch:o,text:s,hint:u}}function i(e){var t=o(e),n=new Error(t.message,"",t.line);throw n.line=t.line,n.ch=t.ch,n.name=t.name,n.hint=t.hint,n}function o(e){{var t=r(g);m.tokens}m.tokens=null;var n="CSS parsing error at line "+t.line+", char "+t.ch+": "+e;return n+="\n"+t.hint,{name:"ParseError",message:n,hint:t.hint,line:t.line,ch:t.ch}}function s(){for(var e=g.ch,t="";" "===e||"  "===e;)t+=e,e=g.nextChar();n(t,"white")}function a(){var e,t=g,r=t.ch,i=r;if(e=t.nextChar(),"/"===e)for(;r&&"\n"!==e&&"\r"!==e;)i+=e,r=e,e=t.nextChar();else{if("*"!==e)return n(i,i);for(;r&&("*"!==r||"/"!==e);)i+=e,r=e,e=t.nextChar()}i+=e,t.nextChar(),n(i,"comment")}function l(){var e,t=g,n=t.ch,r=n,o=n;for(n=t.nextChar();n!==r;)"\n"===n?(e=t.nextChar(),"\\"===e?o+=n+e:i("Unterminated string")):o+="\\"===n?n+t.nextChar():n,n=t.nextChar();return o+=n}function u(){var e=l();g.nextChar(),n(e,"string")}function c(){var e=g,t=e.ch,r=1,o=t,s=!1;for(t=e.nextChar();t&&!s;)"("===t?r++:")"===t?(r--,r||(s=!0)):'"'===t||"'"===t?t=l():""===t&&i("Unterminated brace"),o+=t,t=e.nextChar();n(o,"brace")}function f(r){var i=g.ch,o=r?r+i:i;i=g.nextChar();for(var s=i.charCodeAt(0);e(i,s)||t(i,s);)o+=i,i=g.nextChar(),s=i.charCodeAt(0);n(o,"identifier")}function h(){var e,r=g,i=r.ch,o=i,s="."===o;if(i=r.nextChar(),e=!t(i),s&&e)return n(o,".");if("-"===o&&e)return f("-");for(;""!==i&&(t(i)||!s&&"."===i);)"."===i&&(s=!0),o+=i,i=r.nextChar();n(o,"number")}function p(){var e=g,t=e.ch,r=t,i=e.nextChar();return"="===i&&v(r,!0)?(r+=i,n(r,"match"),void e.nextChar()):void n(r,r)}function d(){var r=g.ch;return" "===r||"  "===r?s():"/"===r?a():'"'===r||"'"===r?u():"("===r?c():"-"===r||"."===r||t(r)?h():e(r)?f():v(r)?p():"\r"===r?("\n"===g.peek()&&(r+=g.nextChar()),n(r,"line"),void g.nextChar()):"\n"===r?(n(r,"line"),void g.nextChar()):"	"===r?void g.nextChar():void i("Unrecognized character '"+r+"'")}var m={tokens:null},g={init:function(e){this.source=e,this.ch="",this.chnum=-1,this.nextChar()},nextChar:function(){return this.ch=this.source.charAt(++this.chnum)},peek:function(){return this.source.charAt(this.chnum+1)}},v=function(){for(var e="{}[]()+*=.,;:>~|\\%$#@^!".split(""),t="*^|$~".split(""),n={},r={},i=0;i<e.length;i+=1)n[e[i]]=!0;for(i=0;i<t.length;i+=1)r[t[i]]=!0;return function(e,t){return t?e in r:e in n}}();return{lex:function(e){if(g.init(e),m.tokens=[],e)for(;""!==g.ch;)d();else m.tokens.push(this.white());var t=m.tokens;return m.tokens=null,t},parse:function(e){for(var t,n=this.lex(e),r=0,i=0,o=n.length;o>i;i++)t=n[i],t.start=r,t.end=r+=t.value.length;return n},white:function(){return{value:"",type:"white",start:0,end:0}},toSource:function(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}}})},{}],54:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,s){e.children.forEach(function(e){var a=e.attributeList(),l=e.attribute(s.DEFAULT_ATTR_NAME);if("undefined"!=typeof l){if(e.attribute(s.DEFAULT_ATTR_NAME,null),a.length){var u=n.find(a,r)||n.find(a,i)||n.find(a,o);if(u){var c=e.attribute(u.name),f=n.replaceUnescapedSymbol(c,"|",l);c==f&&(f=l),e.attribute(u.name,f)}}}else a.forEach(function(t){t.isImplied&&e.attribute(t.name,null)});t(e,s)})}var n=e("../../utils/common"),r=function(e){return e.isDefault},i=function(e){return e.isImplied},o=function(e){return!e.value};return{preprocessor:function(e,n,r){t(e,r)
}}})},{"../../utils/common":70}],55:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("../../assets/preferences"),n=e("../../utils/common"),r=e("./pastedContent");return t.define("href.autodetect",!0,"Enables or disables automatic URL recognition when wrapping		text with <code>&lt;a&gt;</code> tag. With this option enabled,		if wrapped text matches URL or e-mail pattern it will be automatically		inserted into <code>href</code> attribute."),t.define("href.urlPattern","^(?:(?:https?|ftp|file)://|www\\.|ftp\\.)(?:\\([-A-Z0-9+&@#/%=~_|$?!:,.]*\\)|[-A-Z0-9+&@#/%=~_|$?!:,.])*(?:\\([-A-Z0-9+&@#/%=~_|$?!:,.]*\\)|[A-Z0-9+&@#/%=~_|$])","RegExp pattern to match wrapped URLs. Matched content will be inserts		as-is into <code>href</code> attribute, only whitespace will be trimmed."),t.define("href.emailPattern","^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,5}$","RegExp pattern to match wrapped e-mails. Unlike <code>href.urlPattern</code>,		wrapped content will be prefixed with <code>mailto:</code> in <code>href</code>		attribute"),{postprocessor:function(e,i){if(t.get("href.autodetect")){var o=new RegExp(t.get("href.urlPattern"),"i"),s=new RegExp(t.get("href.emailPattern"),"i"),a=/^([a-z]+:)?\/\//i;e.findAll(function(e){if("a"==e.name().toLowerCase()&&!e.attribute("href")){var t=n.trim(r.pastedContent(e)||i.pastedContent);t&&(o.test(t)?(a.test(t)||(t="http://"+t),e.attribute("href",t)):s.test(t)&&e.attribute("href","mailto:"+t))}})}}}})},{"../../assets/preferences":27,"../../utils/common":70,"./pastedContent":56}],56:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){for(var t=[],n=a.create(e);!n.eol();){if("\\"==n.peek())n.next();else if(n.start=n.pos,n.match(u,!0)){t.push(l.create(n.start,u));continue}n.next()}return t}function n(e,n){var r=t(e);return r.reverse().forEach(function(t){e=o.replaceSubstring(e,n,t)}),e}function r(e){return t(e.content).length?!0:!!o.find(e.attributeList(),function(e){return!!t(e.value).length})}function i(e,t,i){var o=e.findAll(function(e){return r(e)});if(r(e)&&o.unshift(e),o.length)o.forEach(function(e){e.content=n(e.content,t),e._attributes.forEach(function(e){e.value=n(e.value,t)})});else{var a=e.deepestChild()||e;a.content=i?t:s.insertChildContent(a.content,t)}}var o=e("../../utils/common"),s=e("../../utils/abbreviation"),a=e("../../assets/stringStream"),l=e("../../assets/range"),u="$#";return{pastedContent:function(e){var t=e.data("paste");return Array.isArray(t)?t[e.counter-1]:"function"==typeof t?t(e.counter-1,e.content):t?t:void 0},preprocessor:function(e,t){if(t.pastedContent){var n=o.splitByLines(t.pastedContent,!0).map(o.trim);e.findAll(function(e){return e.hasImplicitRepeat?(e.data("paste",n),e.repeatCount=n.length):void 0})}},postprocessor:function(e,t){var n=this,r=e.findAll(function(e){var t=n.pastedContent(e);return t&&i(e,t,!!e.data("pasteOverwrites")),!!t});!r.length&&t.pastedContent&&i(e,t.pastedContent)}}})},{"../../assets/range":29,"../../assets/stringStream":31,"../../utils/abbreviation":66,"../../utils/common":70}],57:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,i,s){e.children.slice(0).forEach(function(e){var a=n.getMatchedResource(e,i);"string"==typeof a&&(a=r.create("snippet",a)),e.data("resource",a);var l=r.type(a);if("snippet"==l){var u=a.data,c=e._text||e.content;c&&(u=o.insertChildContent(u,c)),e.content=u}else if("element"==l)e._name=a.name,Array.isArray(a.attributes)&&(e._attributes=[].concat(a.attributes,e._attributes));else if("reference"==l){var f=s.parse(a.data,{syntax:i});if(e.repeatCount>1){var h=f.findAll(function(e){return e.hasImplicitRepeat});h.length||(h=f.children),h.forEach(function(t){t.repeatCount=e.repeatCount,t.hasImplicitRepeat=!1})}var p=f.deepestChild();p&&(e.children.forEach(function(e){p.addChild(e)}),p.content=e.content),f.children.forEach(function(t){e.attributeList().forEach(function(e){t.attribute(e.name,e.value)})}),e.replace(f.children)}t(e,i,s)})}var n=e("../../assets/resources"),r=e("../../assets/elements"),i=e("../../utils/common"),o=e("../../utils/abbreviation");return{preprocessor:function(e,n,r){var o=n.syntax||i.defaultSyntax();t(e,o,r)}}})},{"../../assets/elements":23,"../../assets/resources":30,"../../utils/abbreviation":66,"../../utils/common":70}],58:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){return e.children.forEach(function(e){(e.hasImplicitName()||e.data("forceNameResolving"))&&(e._name=n.resolve(e.parent.name()),e.data("nameResolved",!0)),t(e)}),e}var n=e("../../resolver/tagName");return{postprocessor:t}})},{"../../resolver/tagName":64}],59:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t){function r(n){return t.tokenize=n,n(e,t)}var s=e.next();if("<"==s){if(e.eat("!"))return e.eat("[")?e.match("CDATA[")?r(i("atom","]]>")):null:e.match("--")?r(i("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),r(o(1))):null;if(e.eat("?"))return e.eatWhile(/[\w\._\-]/),t.tokenize=i("meta","?>"),"meta";k=e.eat("/")?"closeTag":"openTag",e.eatSpace(),C="";for(var a;a=e.eat(/[^\s\u00a0=<>\"\'\/?]/);)C+=a;return t.tokenize=n,"tag"}if("&"==s){var l;return l=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),l?"atom":"error"}return e.eatWhile(/[^&<]/),"text"}function n(e,n){var i=e.next();return">"==i||"/"==i&&e.eat(">")?(n.tokenize=t,k=">"==i?"endTag":"selfcloseTag","tag"):"="==i?(k="equals",null):/[\'\"]/.test(i)?(n.tokenize=r(i),n.tokenize(e,n)):(e.eatWhile(/[^\s\u00a0=<>\"\'\/?]/),"word")}function r(e){return function(t,r){for(;!t.eol();)if(t.next()==e){r.tokenize=n;break}return"string"}}function i(e,n){return function(r,i){for(;!r.eol();){if(r.match(n)){i.tokenize=t;break}r.next()}return e}}function o(e){return function(n,r){for(var i;null!==(i=n.next());){if("<"==i)return r.tokenize=o(e+1),r.tokenize(n,r);if(">"==i){if(1==e){r.tokenize=t;break}return r.tokenize=o(e-1),r.tokenize(n,r)}}return"meta"}}function s(){for(var e=arguments.length-1;e>=0;e--)_.cc.push(arguments[e])}function a(){return s.apply(null,arguments),!0}function l(e,t){var n=S.doNotIndent.hasOwnProperty(e)||_.context&&_.context.noIndent;_.context={prev:_.context,tagName:e,indent:_.indented,startOfLine:t,noIndent:n}}function u(){_.context&&(_.context=_.context.prev)}function c(e){if("openTag"==e)return _.tagName=C,a(d,f(_.startOfLine));if("closeTag"==e){var t=!1;return _.context?_.context.tagName!=C&&(S.implicitlyClosed.hasOwnProperty(_.context.tagName.toLowerCase())&&u(),t=!_.context||_.context.tagName!=C):t=!0,t&&(x="error"),a(h(t))}return a()}function f(e){return function(t){return"selfcloseTag"==t||"endTag"==t&&S.autoSelfClosers.hasOwnProperty(_.tagName.toLowerCase())?(p(_.tagName.toLowerCase()),a()):"endTag"==t?(p(_.tagName.toLowerCase()),l(_.tagName,e),a()):a()}}function h(e){return function(t){return e&&(x="error"),"endTag"==t?(u(),a()):(x="error",a(arguments.callee))}}function p(e){for(var t;;){if(!_.context)return;if(t=_.context.tagName.toLowerCase(),!S.contextGrabbers.hasOwnProperty(t)||!S.contextGrabbers[t].hasOwnProperty(e))return;u()}}function d(e){return"word"==e?(x="attribute",a(m,d)):"endTag"==e||"selfcloseTag"==e?s():(x="error",a(d))}function m(e){return"equals"==e?a(g,d):(S.allowMissing||(x="error"),"endTag"==e||"selfcloseTag"==e?s():a())}function g(e){return"string"==e?a(v):"word"==e&&S.allowUnquoted?(x="string",a()):(x="error","endTag"==e||"selfCloseTag"==e?s():a())}function v(e){return"string"==e?a(v):s()}function b(){return{tokenize:t,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}}function y(e,t){if(e.sol()&&(t.startOfLine=!0,t.indented=0),e.eatSpace())return null;x=k=C=null;var n=t.tokenize(e,t);if(t.type=k,(n||k)&&"comment"!=n)for(_=t;;){var r=t.cc.pop()||c;if(r(k||n))break}return t.startOfLine=!1,x||n}var x,w=e("../assets/stringStream"),S={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!0,allowMissing:!0},C=null,k=null,_=null;return{parse:function(e,t){t=t||0;for(var n=b(),r=w.create(e),i=[];!r.eol();)i.push({type:y(r,n),start:r.start+t,end:r.pos+t}),r.start=r.pos;return i}}})},{"../assets/stringStream":31}],60:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){function i(e){for(var t=[],n=0,r=e.length;r>n;n++)t.push(String.fromCharCode(e[n]));return t.join("")}function o(e){var t=/^https?:\/\//;return t.test(e)}var s=e("../utils/common");return function(e){if("undefined"==typeof r||!r.amd)try{fs=e("fs"),path=e("path")}catch(t){}}(e),n.exports=function(e){e&&s.extend(n.exports,e)},s.extend(n.exports,{_parseParams:function(e){var t={path:e[0],size:0};return e=s.toArray(e,1),t.callback=e[e.length-1],e=e.slice(0,e.length-1),e.length&&(t.size=e[0]),t},_read:function(t,n){if(o(t.path))var r=e(/^https:/.test(t.path)?"https":"http").get(t.path,function(e){var i=[],o=0,s=!1;e.on("data",function(e){o+=e.length,i.push(e),t.size&&o>=t.size&&(s=!0,n(null,Buffer.concat(i)),r.abort())}).on("end",function(){s||(s=!0,n(null,Buffer.concat(i)))})}).on("error",n);else if(t.size){var i=fs.openSync(t.path,"r"),s=new Buffer(t.size);fs.read(i,s,0,t.size,null,function(e){n(e,s)})}else n(null,fs.readFileSync(t.path))},read:function(){var e=this._parseParams(arguments);this._read(e,function(t,n){e.callback(t,t?"":i(n))})},readText:function(){var e=this._parseParams(arguments);this._read(e,function(t,n){e.callback(t,t?"":n.toString())})},locateFile:function(e,t){if(o(t))return t;var n,r=e;for(t=t.replace(/^\/+/,"");r&&r!==path.dirname(r);)if(r=path.dirname(r),n=path.join(r,t),fs.existsSync(n))return n;return""},createPath:function(e,t,n){var r=fs.statSync(e);return r&&!r.isDirectory()&&(e=path.dirname(e)),n(path.resolve(e,t))},save:function(e,t){fs.writeFileSync(e,t,"ascii")},getExt:function(e){var t=(e||"").match(/\.([\w\-]+)$/);return t?t[1].toLowerCase():""}})})},{"../utils/common":70}],61:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){function r(e){var t=e&&e.charCodeAt(0);return e&&"."==e||t>47&&58>t}function i(e){return e=k.trim(e),/\/\*|\n|\r/.test(e)?!1:/^[a-z0-9\-]+\s*\:/i.test(e)?2==e.replace(/\$\{.+?\}/g,"").split(":").length:!1}function o(e){"-"!=e.charAt(0)||/^\-[\.\d]/.test(e)||(e=e.replace(/^\-+/,""));var t=e.charAt(0);return"#"==t?s(e):"$"==t?k.escapeText(e):l(e)}function s(e){var t=e.replace(/^#+/,"")||"0";if("t"==t.toLowerCase())return"transparent";var n="";t=t.replace(/\.(\d+)$/,function(e){return n="0"+e,""});var r=k.repeatString,i=null;switch(t.length){case 1:i=r(t,6);break;case 2:i=r(t,3);break;case 3:i=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2);break;case 4:i=t+t.substr(0,2);break;case 5:i=t+t.charAt(0);break;default:i=t.substr(0,6)}if(n)return a(i,n);if(x.get("css.color.short")){var o=i.split("");o[0]==o[1]&&o[2]==o[3]&&o[4]==o[5]&&(i=o[0]+o[2]+o[4])}switch(x.get("css.color.case")){case"upper":i=i.toUpperCase();break;case"lower":i=i.toLowerCase()}return"#"+i}function a(e,t){var n=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),i=parseInt(e.substr(4,2),16);return"rgba("+[n,r,i,t].join(", ")+")"}function l(e){var t=x.getDict("css.keywordAliases");return e in t?t[e]:e}function u(e){var t=x.getDict("css.unitAliases");return e in t?t[e]:e}function c(e){return~x.getArray("css.keywords").indexOf(l(e))}function f(e,t){var n=L[t];return n||(n=k.find(L,function(e){return e.prefix==t})),n&&n.supports(e)}function h(e){var t=C.resolvePrefixes(e);return t||(t=[],Object.keys(L).forEach(function(n){f(e,n)&&t.push(L[n].prefix)}),t.length||(t=null)),t}function p(e,t){var n=[],r=h(e);if(r){var i={};Object.keys(L).forEach(function(e){i[L[e].prefix]=e}),n=r.map(function(e){return i[e]})}return n.length||t||Object.keys(L).forEach(function(e){L[e].obsolete||n.push(e)}),n}function d(e,t){"string"==typeof t&&(t={prefix:t}),L[e]=k.extend({},E,t)}function m(e,t){if(t){"styl"==t&&(t="stylus");var n=x.get(t+"."+e);if("undefined"!=typeof n)return n}return x.get("css."+e)}function g(e,t){var n=e.indexOf(":");return e=e.substring(0,n).replace(/\s+$/,"")+m("valueSeparator",t)+k.trim(e.substring(n+1)),e.replace(/\s*;\s*$/,m("propertyEnd",t))}function v(e,t,n){return"string"!=typeof e&&(e=e.data),i(e)?(t&&(~e.indexOf(";")?e=e.split(";").join(" !important;"):e+=" !important"),g(e,n)):e}function b(e){var t=x.getArray(e),n=x.getArray(e+"Addon");return n&&n.forEach(function(e){"-"==e.charAt(0)?t=k.without(t,e.substr(1)):("+"==e.charAt(0)&&(e=e.substr(1)),t.push(e))}),t}function y(e,t,n){var r=[],i={},o=A.findParts(e.value);return o.reverse(),o.forEach(function(t){var n=t.substring(e.value);(h(n)||[]).forEach(function(o){i[o]||(i[o]=e.value,r.push(o)),i[o]=k.replaceSubstring(i[o],"-"+o+"-"+n,t)})}),r.map(function(r){return v(e.name+":"+i[r],t,n)})}var x=e("../assets/preferences"),w=e("../assets/resources"),S=e("../assets/stringStream"),C=e("../assets/caniuse"),k=e("../utils/common"),_=e("../utils/template"),A=e("../editTree/css"),E={prefix:"emmet",obsolete:!1,transformName:function(e){return"-"+this.prefix+"-"+e},properties:function(){return b("css."+this.prefix+"Properties")||[]},supports:function(e){return~this.properties().indexOf(e)}},L={},T="${1};";x.define("css.valueSeparator",": ","Defines a symbol that should be placed between CSS property and value when expanding CSS abbreviations."),x.define("css.propertyEnd",";","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations."),x.define("stylus.valueSeparator"," ","Defines a symbol that should be placed between CSS property and value when expanding CSS abbreviations in Stylus dialect."),x.define("stylus.propertyEnd","","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations in Stylus dialect."),x.define("sass.propertyEnd","","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations in SASS dialect."),x.define("css.syntaxes","css, less, sass, scss, stylus, styl","List of syntaxes that should be treated as CSS dialects."),x.define("css.autoInsertVendorPrefixes",!0,"Automatically generate vendor-prefixed copies of expanded CSS property. By default, Emmet will generate vendor-prefixed properties only when you put dash before abbreviation (e.g. <code>-bxsh</code>). With this option enabled, you don\u2019t need dashes before abbreviations: Emmet will produce vendor-prefixed properties for you."),x.define("less.autoInsertVendorPrefixes",!1,"Same as <code>css.autoInsertVendorPrefixes</code> but for LESS syntax"),x.define("scss.autoInsertVendorPrefixes",!1,"Same as <code>css.autoInsertVendorPrefixes</code> but for SCSS syntax"),x.define("sass.autoInsertVendorPrefixes",!1,"Same as <code>css.autoInsertVendorPrefixes</code> but for SASS syntax"),x.define("stylus.autoInsertVendorPrefixes",!1,"Same as <code>css.autoInsertVendorPrefixes</code> but for Stylus syntax");var P=_("A comma-separated list of CSS properties that may have <code><%= vendor %></code> vendor prefix. This list is used to generate a list of prefixed properties when expanding <code>-property</code> abbreviations. Empty list means that all possible CSS values may have <code><%= vendor %></code> prefix."),I=_("A comma-separated list of <em>additional</em> CSS properties for <code>css.<%= vendor %>Preperties</code> preference. You should use this list if you want to add or remove a few CSS properties to original set. To add a new property, simply write its name, to remove it, precede property with hyphen.<br>For example, to add <em>foo</em> property and remove <em>border-radius</em> one, the preference value will look like this: <code>foo, -border-radius</code>."),M={webkit:"animation, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, appearance, backface-visibility, background-clip, background-composite, background-origin, background-size, border-fit, border-horizontal-spacing, border-image, border-vertical-spacing, box-align, box-direction, box-flex, box-flex-group, box-lines, box-ordinal-group, box-orient, box-pack, box-reflect, box-shadow, color-correction, column-break-after, column-break-before, column-break-inside, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-span, column-width, dashboard-region, font-smoothing, highlight, hyphenate-character, hyphenate-limit-after, hyphenate-limit-before, hyphens, line-box-contain, line-break, line-clamp, locale, margin-before-collapse, margin-after-collapse, marquee-direction, marquee-increment, marquee-repetition, marquee-style, mask-attachment, mask-box-image, mask-box-image-outset, mask-box-image-repeat, mask-box-image-slice, mask-box-image-source, mask-box-image-width, mask-clip, mask-composite, mask-image, mask-origin, mask-position, mask-repeat, mask-size, nbsp-mode, perspective, perspective-origin, rtl-ordering, text-combine, text-decorations-in-effect, text-emphasis-color, text-emphasis-position, text-emphasis-style, text-fill-color, text-orientation, text-security, text-stroke-color, text-stroke-width, transform, transition, transform-origin, transform-style, transition-delay, transition-duration, transition-property, transition-timing-function, user-drag, user-modify, user-select, writing-mode, svg-shadow, box-sizing, border-radius",moz:"animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, appearance, backface-visibility, background-inline-policy, binding, border-bottom-colors, border-image, border-left-colors, border-right-colors, border-top-colors, box-align, box-direction, box-flex, box-ordinal-group, box-orient, box-pack, box-shadow, box-sizing, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-width, float-edge, font-feature-settings, font-language-override, force-broken-image-icon, hyphens, image-region, orient, outline-radius-bottomleft, outline-radius-bottomright, outline-radius-topleft, outline-radius-topright, perspective, perspective-origin, stack-sizing, tab-size, text-blink, text-decoration-color, text-decoration-line, text-decoration-style, text-size-adjust, transform, transform-origin, transform-style, transition, transition-delay, transition-duration, transition-property, transition-timing-function, user-focus, user-input, user-modify, user-select, window-shadow, background-clip, border-radius",ms:"accelerator, backface-visibility, background-position-x, background-position-y, behavior, block-progression, box-align, box-direction, box-flex, box-line-progression, box-lines, box-ordinal-group, box-orient, box-pack, content-zoom-boundary, content-zoom-boundary-max, content-zoom-boundary-min, content-zoom-chaining, content-zoom-snap, content-zoom-snap-points, content-zoom-snap-type, content-zooming, filter, flow-from, flow-into, font-feature-settings, grid-column, grid-column-align, grid-column-span, grid-columns, grid-layer, grid-row, grid-row-align, grid-row-span, grid-rows, high-contrast-adjust, hyphenate-limit-chars, hyphenate-limit-lines, hyphenate-limit-zone, hyphens, ime-mode, interpolation-mode, layout-flow, layout-grid, layout-grid-char, layout-grid-line, layout-grid-mode, layout-grid-type, line-break, overflow-style, perspective, perspective-origin, perspective-origin-x, perspective-origin-y, scroll-boundary, scroll-boundary-bottom, scroll-boundary-left, scroll-boundary-right, scroll-boundary-top, scroll-chaining, scroll-rails, scroll-snap-points-x, scroll-snap-points-y, scroll-snap-type, scroll-snap-x, scroll-snap-y, scrollbar-arrow-color, scrollbar-base-color, scrollbar-darkshadow-color, scrollbar-face-color, scrollbar-highlight-color, scrollbar-shadow-color, scrollbar-track-color, text-align-last, text-autospace, text-justify, text-kashida-space, text-overflow, text-size-adjust, text-underline-position, touch-action, transform, transform-origin, transform-origin-x, transform-origin-y, transform-origin-z, transform-style, transition, transition-delay, transition-duration, transition-property, transition-timing-function, user-select, word-break, wrap-flow, wrap-margin, wrap-through, writing-mode",o:"dashboard-region, animation, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, border-image, link, link-source, object-fit, object-position, tab-size, table-baseline, transform, transform-origin, transition, transition-delay, transition-duration, transition-property, transition-timing-function, accesskey, input-format, input-required, marquee-dir, marquee-loop, marquee-speed, marquee-style"};return Object.keys(M).forEach(function(e){x.define("css."+e+"Properties",M[e],P({vendor:e})),x.define("css."+e+"PropertiesAddon","",I({vendor:e}))}),x.define("css.unitlessProperties","z-index, line-height, opacity, font-weight, zoom","The list of properties whose values \u200b\u200bmust not contain units."),x.define("css.intUnit","px","Default unit for integer values"),x.define("css.floatUnit","em","Default unit for float values"),x.define("css.keywords","auto, inherit, all","A comma-separated list of valid keywords that can be used in CSS abbreviations."),x.define("css.keywordAliases","a:auto, i:inherit, s:solid, da:dashed, do:dotted, t:transparent","A comma-separated list of keyword aliases, used in CSS abbreviation. Each alias should be defined as <code>alias:keyword_name</code>."),x.define("css.unitAliases","e:em, p:%, x:ex, r:rem","A comma-separated list of unit aliases, used in CSS abbreviation. Each alias should be defined as <code>alias:unit_value</code>."),x.define("css.color.short",!0,"Should color values like <code>#ffffff</code> be shortened to <code>#fff</code> after abbreviation with color was expanded."),x.define("css.color.case","keep","Letter case of color values generated by abbreviations with color (like <code>c#0</code>). Possible values are <code>upper</code>, <code>lower</code> and <code>keep</code>."),x.define("css.fuzzySearch",!0,"Enable fuzzy search among CSS snippet names. When enabled, every <em>unknown</em> snippet will be scored against available snippet names (not values or CSS properties!). The match with best score will be used to resolve snippet value. For example, with this preference enabled, the following abbreviations are equal: <code>ov:h</code> == <code>ov-h</code> == <code>o-h</code> == <code>oh</code>"),x.define("css.fuzzySearchMinScore",.3,"The minium score (from 0 to 1) that fuzzy-matched abbreviation should achive. Lower values may produce many false-positive matches, higher values may reduce possible matches."),x.define("css.alignVendor",!1,"If set to <code>true</code>, all generated vendor-prefixed properties will be aligned by real property name."),d("w",{prefix:"webkit"}),d("m",{prefix:"moz"}),d("s",{prefix:"ms"}),d("o",{prefix:"o"}),n=n||{},n.exports={addPrefix:d,supportsPrefix:f,resolve:function(e,t){var n=x.getArray("css.syntaxes");return n&&~n.indexOf(t)&&e.isElement()?this.expandToSnippet(e.abbreviation,t):null},prefixed:function(e,t){return f(e,t)?"-"+t+"-"+e:e},listPrefixes:function(){return L.map(function(e){return e.prefix})},getPrefix:function(e){return L[e]},removePrefix:function(e){e in L&&delete L[e]},extractPrefixes:function(e){if("-"!=e.charAt(0))return{property:e,prefixes:null};for(var t,n=1,r=e.length,i=[];r>n;){if(t=e.charAt(n),"-"==t){n++;break}if(!(t in L)){i.length=0,n=1;break}i.push(t),n++}return n==r-1&&(n=1,i.length=1),{property:e.substring(n),prefixes:i.length?i:"all"}},findValuesInAbbreviation:function(e,t){t=t||"css";for(var n,i=0,o=e.length,s="";o>i;){if(n=e.charAt(i),r(n)||"#"==n||"$"==n||"-"==n&&r(e.charAt(i+1))){s=e.substring(i);break}i++}for(var a=e.substring(0,e.length-s.length),l=[];~a.indexOf("-")&&!w.findSnippet(t,a);){var u=a.split("-"),f=u.pop();if(!c(f))break;l.unshift(f),a=u.join("-")}return l.join("-")+s},parseValues:function(e){for(var t=S.create(e),n=[],i=null;i=t.next();)"$"==i?(t.match(/^[^\$]+/,!0),n.push(t.current())):"#"==i?(t.match(/^t|[0-9a-f]+(\.\d+)?/i,!0),n.push(t.current())):"-"==i?((c(k.last(n))||t.start&&r(e.charAt(t.start-1)))&&(t.start=t.pos),t.match(/^\-?[0-9]*(\.[0-9]+)?[a-z%\.]*/,!0),n.push(t.current())):(t.match(/^[0-9]*(\.[0-9]*)?[a-z%]*/,!0),n.push(t.current())),t.start=t.pos;return n.filter(function(e){return!!e}).map(o)},extractValues:function(e){var t=this.findValuesInAbbreviation(e);return t?{property:e.substring(0,e.length-t.length).replace(/-$/,""),values:this.parseValues(t)}:{property:e,values:null}},normalizeValue:function(e,t){t=(t||"").toLowerCase();var n=x.getArray("css.unitlessProperties");return e.replace(/^(\-?[0-9\.]+)([a-z]*)$/,function(e,r,i){return i||"0"!=r&&!~n.indexOf(t)?i?r+u(i):r.replace(/\.$/,"")+x.get(~r.indexOf(".")?"css.floatUnit":"css.intUnit"):r})},expand:function(e,t,n){n=n||"css";var r=x.get(n+".autoInsertVendorPrefixes"),o=/^(.+)\!$/.test(e);o&&(e=RegExp.$1);var s=w.findSnippet(n,e);if(s&&!r)return v(s,o,n);var a=this.extractPrefixes(e),l=this.extractValues(a.property),u=k.extend(a,l);if(s?u.values=null:s=w.findSnippet(n,u.property),!s&&x.get("css.fuzzySearch")&&(s=w.fuzzyFindSnippet(n,u.property,parseFloat(x.get("css.fuzzySearchMinScore")))),s)"string"!=typeof s&&(s=s.data);else{if(!u.property)return null;s=u.property+":"+T}if(!i(s))return s;var c=this.splitSnippet(s),f=[];!t&&u.values&&(t=u.values.map(function(e){return this.normalizeValue(e,c.name)},this).join(" ")+";"),c.value=t||c.value;var h,d="all"==u.prefixes||!u.prefixes&&r?p(c.name,r&&"all"!=u.prefixes):u.prefixes,m=[];if((d||[]).forEach(function(e){e in L&&(h=L[e].transformName(c.name),m.push(h),f.push(v(h+":"+c.value,o,n)))}),f.push(v(c.name+":"+c.value,o,n)),m.push(c.name),f=y(c,o,n).concat(f),x.get("css.alignVendor")){var g=k.getStringsPads(m);f=f.map(function(e,t){return g[t]+e})}return f},expandToSnippet:function(e,t){var n=this.expand(e,null,t);return null===n?null:Array.isArray(n)?n.join("\n"):"string"!=typeof n?n.data:n+""},splitSnippet:function(e){if(e=k.trim(e),-1==e.indexOf(":"))return{name:e,value:T};var t=e.split(":");return{name:k.trim(t.shift()),value:k.trim(t.join(":")).replace(/^(\$\{0\}|\$0)(\s*;?)$/,"${1}$2")}},getSyntaxPreference:m,transformSnippet:v,vendorPrefixes:h},n.exports})},{"../assets/caniuse":22,"../assets/preferences":27,"../assets/resources":30,"../assets/stringStream":31,"../editTree/css":35,"../utils/common":70,"../utils/template":74}],62:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){function r(e,t){var n=f.findSnippet(t,e);if(!n&&c.get("css.fuzzySearch")){var r=parseFloat(c.get("css.fuzzySearchMinScore"));n=f.fuzzyFindSnippet(t,e,r)}return n?("string"!=typeof n&&(n=n.data),p.splitSnippet(n).name):void 0}function i(e){var t=p.vendorPrefixes(e);return t||(t=c.getArray("css.gradient.prefixes")),t||[]}function o(e,t){var n=[],r=t.name(),o=c.get("css.gradient.omitDefaultDirection");c.get("css.gradient.fallback")&&~r.toLowerCase().indexOf("background")&&n.push({name:"background-color",value:"${1:"+e[0].gradient.colorStops[0].color+"}"});var a=t.value();return i("linear-gradient").forEach(function(t){var i=p.prefixed(r,t);if("webkit"==t&&c.get("css.gradient.oldWebkit"))try{n.push({name:i,value:s(e,a,{prefix:t,oldWebkit:!0,omitDefaultDirection:o})})}catch(l){}n.push({name:i,value:s(e,a,{prefix:t,omitDefaultDirection:o})})}),n.sort(function(e,t){return t.name.length-e.name.length})}function s(e,t,n){return n=n||{},e=h.clone(e),e.reverse().forEach(function(e,r){var i=!r&&n.placeholder?n.placeholder:"",o=n.oldWebkit?e.gradient.stringifyOldWebkit(n):e.gradient.stringify(n);t=h.replaceSubstring(t,o+i,e.matchedPart)}),t}function a(e){"string"!=typeof e&&(e=e.name());var t=(p.vendorPrefixes(e)||[]).map(function(t){return"-"+t+"-"+e});return t.push(e),t}function l(e,t){var n=e.parent,r=c.get("css.alignVendor"),i=c.get("css.gradient.omitDefaultDirection"),l=e.styleSeparator,u=e.styleBefore;if(n.getAll(a(e)).forEach(function(t){t!=e&&/gradient/i.test(t.value())&&(t.styleSeparator.length<l.length&&(l=t.styleSeparator),t.styleBefore.length<u.length&&(u=t.styleBefore),n.remove(t))}),r){if(u!=e.styleBefore){var f=e.fullRange();n._updateSource(u,f.start,f.start+e.styleBefore.length),e.styleBefore=u}l!=e.styleSeparator&&(n._updateSource(l,e.nameRange().end,e.valueRange().start),e.styleSeparator=l)}var p=e.value(),d=o(t,e);if(r){var m=[],g=[];d.forEach(function(e){m.push(e.name),g.push(e.value)}),g.push(e.value()),m.push(e.name());var v=h.getStringsPads(g.map(function(e){return e.substring(0,e.indexOf("("))})),b=h.getStringsPads(m);e.name(b[b.length-1]+e.name()),d.forEach(function(e,t){e.name=b[t]+e.name,e.value=v[t]+e.value}),e.value(v[v.length-1]+e.value())}d.forEach(function(t){n.add(t.name,t.value,n.indexOf(e))}),e.value(s(t,p,{placeholder:"${2}",omitDefaultDirection:i}))}function u(e,t,n){if(n=n||"css","css"==n||"less"==n||"scss"==n)return!0;for(var r=e.property.valueRange(!0).start,i=e.gradients,o=i.length-1;o>=0;o--)if(i[o].matchedPart.start+r>=t)return!1;return!0}var c=e("../assets/preferences"),f=e("../assets/resources"),h=e("../utils/common"),p=(e("../assets/stringStream"),e("./css")),d=e("../assets/range"),m=e("../editTree/css"),g=e("../utils/editor"),v=e("./gradient/linear"),b=["css","less","sass","scss","stylus","styl"];return c.define("css.gradient.prefixes","webkit, moz, o","A comma-separated list of vendor-prefixes for which values should be generated."),c.define("css.gradient.oldWebkit",!1,"Generate gradient definition for old Webkit implementations"),c.define("css.gradient.omitDefaultDirection",!0,"Do not output default direction definition in generated gradients."),c.define("css.gradient.defaultProperty","background-image","When gradient expanded outside CSS value context, it will produce properties with this name."),c.define("css.gradient.fallback",!1,"With this option enabled, CSS gradient generator will produce <code>background-color</code> property with gradient first color as fallback for old browsers."),n=n||{},n.exports={findGradients:function(e){var t=e.value(),n=[];return e.valueParts().forEach(function(e){var r=e.substring(t);if(v.isLinearGradient(r)){var i=v.parse(r);i&&n.push({gradient:i,matchedPart:e})}}),n.length?n:null},gradientsFromCSSProperty:function(e,t){var n=m.propertyFromPosition(e,t);if(n){var r=this.findGradients(n);if(r)return{property:n,gradients:r}}return null},expandAbbreviationHandler:function(e,t,n){var i=g.outputInfo(e,t,n);if(!~b.indexOf(i.syntax))return!1;var o=e.getCaretPos(),s=i.content,a=this.gradientsFromCSSProperty(s,o);if(a){if(!u(a,o,i.syntax))return!1;var c=a.property,f=c.parent,p=f.options.offset||0,d=p+f.toString().length;if(/[\n\r]/.test(c.value())){var m=c.valueRange(!0).start+h.last(a.gradients).matchedPart.end;s=h.replaceSubstring(s,";",m);var v=this.gradientsFromCSSProperty(s,o);v&&(a=v,c=a.property,f=c.parent)}c.end(";");var y=r(c.name(),t);return y&&c.name(y),l(c,a.gradients),e.replaceContent(f.toString(),p,d,!0),!0}return this.expandGradientOutsideValue(e,t)},expandGradientOutsideValue:function(e,t){var n=c.get("css.gradient.defaultProperty"),r=c.get("css.gradient.omitDefaultDirection");if(!n)return!1;var i=String(e.getContent()),a=d.create(e.getCurrentLineRange()),l=a.substring(i).replace(/^\s+/,function(e){return a.start+=e.length,""}).replace(/\s+$/,function(e){return a.end-=e.length,""}),u="a{"+n+": "+l+";}",f=this.gradientsFromCSSProperty(u,u.length-2);if(f){var m=o(f.gradients,f.property);m.push({name:f.property.name(),value:s(f.gradients,f.property.value(),{placeholder:"${2}",omitDefaultDirection:r})});var g=p.getSyntaxPreference("valueSeparator",t),v=p.getSyntaxPreference("propertyEnd",t);if(c.get("css.alignVendor")){var b=h.getStringsPads(m.map(function(e){return e.value.substring(0,e.value.indexOf("("))}));m.forEach(function(e,t){e.value=b[t]+e.value})}return m=m.map(function(e){return e.name+g+e.value+v}),e.replaceContent(m.join("\n"),a.start,a.end),!0}return!1},reflectValueHandler:function(e){var t=c.get("css.gradient.omitDefaultDirection"),n=this.findGradients(e);if(!n)return!1;var r=this,i=e.value();return e.parent.getAll(a(e)).forEach(function(o){if(o!==e){var a=r.findGradients(o);if(a){var l=o.value(),u=a[0].matchedPart.substring(l),c="";
/^\s*\-([a-z]+)\-/.test(u)&&(c=RegExp.$1),o.value(s(n,i,{prefix:c,omitDefaultDirection:t}))}}}),!0}}})},{"../assets/preferences":27,"../assets/range":29,"../assets/resources":30,"../assets/stringStream":31,"../editTree/css":35,"../utils/common":70,"../utils/editor":72,"./css":61,"./gradient/linear":63}],63:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){this.colorStops=[],this.direction=180;for(var t,n,i=s.create(a.trim(e));t=i.next();)","==i.peek()?(n=i.current(),this.colorStops.length||!f.test(n)&&!h.test(n)?this.addColorStop(n):this.direction=r(n),i.next(),i.eatSpace(),i.start=i.pos):"("==t&&i.skipTo(")");this.addColorStop(i.current())}function n(e){return a.trim(e).replace(/\s+/g," ")}function r(e){if("number"==typeof e)return e;if(e=n(e).toLowerCase(),f.test(e))return+RegExp.$1;var t=/^to\s/.test(e)?"to ":"",r=~e.indexOf("left")&&"left",i=~e.indexOf("right")&&"right",o=~e.indexOf("top")&&"top",s=~e.indexOf("bottom")&&"bottom",a=n(t+(o||s||"")+" "+(r||i||""));return l[a]||0}function i(e,t){for(var n=/^to\s/,r=Object.keys(l).filter(function(e){var r=n.test(e);return t?!r:r}),i=0;i<r.length;i++)if(l[r[i]]==e)return r[i];return t&&(e=(e+270)%360),e+"deg"}function o(e){if(e=i(e,!0),f.test(e))throw"The direction is an angle that can\u2019t be converted.";var t=function(t){return~e.indexOf(t)?"100%":"0"};return t("left")+" "+t("top")+", "+t("right")+" "+t("bottom")}var s=e("../../assets/stringStream"),a=e("../../utils/common"),l={bottom:0,"bottom left":45,left:90,"top left":135,top:180,"top right":225,right:270,"bottom right":315,"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},u=["top","to bottom","0deg"],c=/^\s*(\-[a-z]+\-)?(lg|linear\-gradient)\s*\(/i,f=/(\d+)deg/i,h=/top|bottom|left|right/i;return t.prototype={type:"linear-gradient",addColorStop:function(e,t){e=n(e||""),e&&(e=this.parseColorStop(e),"undefined"==typeof t?this.colorStops.push(e):this.colorStops.splice(t,0,e))},parseColorStop:function(e){e=n(e);var t=null;if(e=e.replace(/^(\w+\(.+?\))\s*/,function(e,n){return t=n,""}),!t){var r=e.split(" ");t=r[0],e=r[1]||""}var i={color:t};return e&&e.replace(/^(\-?[\d\.]+)([a-z%]+)?$/,function(e,t,n){i.position=t,~t.indexOf(".")?n="":n||(n="%"),n&&(i.unit=n)}),i},stringify:function(e){e=e||{};var t="linear-gradient";e.prefix&&(t="-"+e.prefix+"-"+t);var n=this.colorStops.map(function(e){var t=e.position?" "+e.position+(e.unit||""):"";return e.color+t}),r=i(this.direction,!!e.prefix);return e.omitDefaultDirection&&~u.indexOf(r)||n.unshift(r),t+"("+n.join(", ")+")"},stringifyOldWebkit:function(){var e=this.colorStops.map(function(e){return a.clone(e)});return e.forEach(function(e){if("position"in e){if(!~e.position.indexOf(".")&&"%"!=e.unit)throw"Can't convert color stop '"+(e.position+(e.unit||""))+"'";e.position=parseFloat(e.position)/("%"==e.unit?100:1)}}),this._fillImpliedPositions(e),e=e.map(function(t,n){return t.position||n?1==t.position&&n==e.length-1?"to("+t.color+")":"color-stop("+t.position.toFixed(2).replace(/\.?0+$/,"")+", "+t.color+")":"from("+t.color+")"}),"-webkit-gradient(linear, "+o((this.direction+180)%360)+", "+e.join(", ")+")"},_fillImpliedPositions:function(e){var t=0;e.forEach(function(n,r){if(!r)return n.position=n.position||0;if(r!=e.length-1||"position"in n||(n.position=1),"position"in n){var i=e[t].position||0,o=(n.position-i)/(r-t);e.slice(t,r).forEach(function(e,t){e.position=i+o*t}),t=r}})},valueOf:function(){return this.stringify()}},{parse:function(e){if(!this.isLinearGradient(e))throw"Invalid linear gradient definition:\n"+e;return e=e.replace(/^\s*[\-a-z]+\s*\(|\)\s*$/gi,""),new t(e)},isLinearGradient:function(e){return c.test(e)},resolveDirection:r,stringifyDirection:i}})},{"../../assets/stringStream":31,"../../utils/common":70}],64:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("../utils/common"),n={empty:[],blockLevel:"address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,link,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul,h1,h2,h3,h4,h5,h6".split(","),inlineLevel:"a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var".split(",")},r={p:"span",ul:"li",ol:"li",table:"tr",tr:"td",tbody:"tr",thead:"tr",tfoot:"tr",colgroup:"col",select:"option",optgroup:"option",audio:"source",video:"source",object:"param",map:"area"};return{resolve:function(e){return e=(e||"").toLowerCase(),e in r?this.getMapping(e):this.isInlineLevel(e)?"span":"div"},getMapping:function(e){return r[e.toLowerCase()]},isInlineLevel:function(e){return this.isTypeOf(e,"inlineLevel")},isBlockLevel:function(e){return this.isTypeOf(e,"blockLevel")},isEmptyElement:function(e){return this.isTypeOf(e,"empty")},isTypeOf:function(e,t){return~n[t].indexOf(e)},addMapping:function(e,t){r[e]=t},removeMapping:function(e){e in r&&delete r[e]},addElementToCollection:function(e,t){n[t]||(n[t]=[]);var r=this.getCollection(t);~r.indexOf(e)||r.push(e)},removeElementFromCollection:function(e,r){r in n&&(n[r]=t.without(this.getCollection(r),e))},getCollection:function(e){return n[e]}}})},{"../utils/common":70}],65:[function(e,t){t.exports={variables:{lang:"en",locale:"en-US",charset:"UTF-8",indentation:"  ",newline:"\n"},css:{filters:"css",profile:"css",snippets:{"@i":"@import url(|);","@import":"@import url(|);","@m":"@media ${1:screen} {\n  |\n}","@media":"@media ${1:screen} {\n  |\n}","@f":"@font-face {\n  font-family:|;\n  src:url(|);\n}","@f+":"@font-face {\n  font-family: '${1:FontName}';\n  src: url('${2:FileName}.eot');\n  src: url('${2:FileName}.eot?#iefix') format('embedded-opentype'),\n     url('${2:FileName}.woff') format('woff'),\n     url('${2:FileName}.ttf') format('truetype'),\n     url('${2:FileName}.svg#${1:FontName}') format('svg');\n  font-style: ${3:normal};\n  font-weight: ${4:normal};\n}","@kf":"@-webkit-keyframes ${1:identifier} {\n  ${2:from} { ${3} }${6}\n  ${4:to} { ${5} }\n}\n@-o-keyframes ${1:identifier} {\n  ${2:from} { ${3} }${6}\n  ${4:to} { ${5} }\n}\n@-moz-keyframes ${1:identifier} {\n  ${2:from} { ${3} }${6}\n  ${4:to} { ${5} }\n}\n@keyframes ${1:identifier} {\n  ${2:from} { ${3} }${6}\n  ${4:to} { ${5} }\n}",anim:"animation:|;","anim-":"animation:${1:name} ${2:duration} ${3:timing-function} ${4:delay} ${5:iteration-count} ${6:direction} ${7:fill-mode};",animdel:"animation-delay:${1:time};",animdir:"animation-direction:${1:normal};","animdir:n":"animation-direction:normal;","animdir:r":"animation-direction:reverse;","animdir:a":"animation-direction:alternate;","animdir:ar":"animation-direction:alternate-reverse;",animdur:"animation-duration:${1:0}s;",animfm:"animation-fill-mode:${1:both};","animfm:f":"animation-fill-mode:forwards;","animfm:b":"animation-fill-mode:backwards;","animfm:bt":"animation-fill-mode:both;","animfm:bh":"animation-fill-mode:both;",animic:"animation-iteration-count:${1:1};","animic:i":"animation-iteration-count:infinite;",animn:"animation-name:${1:none};",animps:"animation-play-state:${1:running};","animps:p":"animation-play-state:paused;","animps:r":"animation-play-state:running;",animtf:"animation-timing-function:${1:linear};","animtf:e":"animation-timing-function:ease;","animtf:ei":"animation-timing-function:ease-in;","animtf:eo":"animation-timing-function:ease-out;","animtf:eio":"animation-timing-function:ease-in-out;","animtf:l":"animation-timing-function:linear;","animtf:cb":"animation-timing-function:cubic-bezier(${1:0.1}, ${2:0.7}, ${3:1.0}, ${3:0.1});",ap:"appearance:${none};","!":"!important",pos:"position:${1:relative};","pos:s":"position:static;","pos:a":"position:absolute;","pos:r":"position:relative;","pos:f":"position:fixed;",t:"top:|;","t:a":"top:auto;",r:"right:|;","r:a":"right:auto;",b:"bottom:|;","b:a":"bottom:auto;",l:"left:|;","l:a":"left:auto;",z:"z-index:|;","z:a":"z-index:auto;",fl:"float:${1:left};","fl:n":"float:none;","fl:l":"float:left;","fl:r":"float:right;",cl:"clear:${1:both};","cl:n":"clear:none;","cl:l":"clear:left;","cl:r":"clear:right;","cl:b":"clear:both;",colm:"columns:|;",colmc:"column-count:|;",colmf:"column-fill:|;",colmg:"column-gap:|;",colmr:"column-rule:|;",colmrc:"column-rule-color:|;",colmrs:"column-rule-style:|;",colmrw:"column-rule-width:|;",colms:"column-span:|;",colmw:"column-width:|;",d:"display:${1:block};","d:n":"display:none;","d:b":"display:block;","d:f":"display:flex;","d:i":"display:inline;","d:ib":"display:inline-block;","d:ib+":"display: inline-block;\n*display: inline;\n*zoom: 1;","d:li":"display:list-item;","d:ri":"display:run-in;","d:cp":"display:compact;","d:tb":"display:table;","d:itb":"display:inline-table;","d:tbcp":"display:table-caption;","d:tbcl":"display:table-column;","d:tbclg":"display:table-column-group;","d:tbhg":"display:table-header-group;","d:tbfg":"display:table-footer-group;","d:tbr":"display:table-row;","d:tbrg":"display:table-row-group;","d:tbc":"display:table-cell;","d:rb":"display:ruby;","d:rbb":"display:ruby-base;","d:rbbg":"display:ruby-base-group;","d:rbt":"display:ruby-text;","d:rbtg":"display:ruby-text-group;",v:"visibility:${1:hidden};","v:v":"visibility:visible;","v:h":"visibility:hidden;","v:c":"visibility:collapse;",ov:"overflow:${1:hidden};","ov:v":"overflow:visible;","ov:h":"overflow:hidden;","ov:s":"overflow:scroll;","ov:a":"overflow:auto;",ovx:"overflow-x:${1:hidden};","ovx:v":"overflow-x:visible;","ovx:h":"overflow-x:hidden;","ovx:s":"overflow-x:scroll;","ovx:a":"overflow-x:auto;",ovy:"overflow-y:${1:hidden};","ovy:v":"overflow-y:visible;","ovy:h":"overflow-y:hidden;","ovy:s":"overflow-y:scroll;","ovy:a":"overflow-y:auto;",ovs:"overflow-style:${1:scrollbar};","ovs:a":"overflow-style:auto;","ovs:s":"overflow-style:scrollbar;","ovs:p":"overflow-style:panner;","ovs:m":"overflow-style:move;","ovs:mq":"overflow-style:marquee;",zoo:"zoom:1;",zm:"zoom:1;",cp:"clip:|;","cp:a":"clip:auto;","cp:r":"clip:rect(${1:top} ${2:right} ${3:bottom} ${4:left});",bxz:"box-sizing:${1:border-box};","bxz:cb":"box-sizing:content-box;","bxz:bb":"box-sizing:border-box;",bxsh:"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:color};","bxsh:r":"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:spread }rgb(${6:0}, ${7:0}, ${8:0});","bxsh:ra":"box-shadow:${1:inset }${2:h} ${3:v} ${4:blur} ${5:spread }rgba(${6:0}, ${7:0}, ${8:0}, .${9:5});","bxsh:n":"box-shadow:none;",m:"margin:|;","m:a":"margin:auto;",mt:"margin-top:|;","mt:a":"margin-top:auto;",mr:"margin-right:|;","mr:a":"margin-right:auto;",mb:"margin-bottom:|;","mb:a":"margin-bottom:auto;",ml:"margin-left:|;","ml:a":"margin-left:auto;",p:"padding:|;",pt:"padding-top:|;",pr:"padding-right:|;",pb:"padding-bottom:|;",pl:"padding-left:|;",w:"width:|;","w:a":"width:auto;",h:"height:|;","h:a":"height:auto;",maw:"max-width:|;","maw:n":"max-width:none;",mah:"max-height:|;","mah:n":"max-height:none;",miw:"min-width:|;",mih:"min-height:|;",mar:"max-resolution:${1:res};",mir:"min-resolution:${1:res};",ori:"orientation:|;","ori:l":"orientation:landscape;","ori:p":"orientation:portrait;",ol:"outline:|;","ol:n":"outline:none;",olo:"outline-offset:|;",olw:"outline-width:|;","olw:tn":"outline-width:thin;","olw:m":"outline-width:medium;","olw:tc":"outline-width:thick;",ols:"outline-style:|;","ols:n":"outline-style:none;","ols:dt":"outline-style:dotted;","ols:ds":"outline-style:dashed;","ols:s":"outline-style:solid;","ols:db":"outline-style:double;","ols:g":"outline-style:groove;","ols:r":"outline-style:ridge;","ols:i":"outline-style:inset;","ols:o":"outline-style:outset;",olc:"outline-color:#${1:000};","olc:i":"outline-color:invert;",bfv:"backface-visibility:|;","bfv:h":"backface-visibility:hidden;","bfv:v":"backface-visibility:visible;",bd:"border:|;","bd+":"border:${1:1px} ${2:solid} ${3:#000};","bd:n":"border:none;",bdbk:"border-break:${1:close};","bdbk:c":"border-break:close;",bdcl:"border-collapse:|;","bdcl:c":"border-collapse:collapse;","bdcl:s":"border-collapse:separate;",bdc:"border-color:#${1:000};","bdc:t":"border-color:transparent;",bdi:"border-image:url(|);","bdi:n":"border-image:none;",bdti:"border-top-image:url(|);","bdti:n":"border-top-image:none;",bdri:"border-right-image:url(|);","bdri:n":"border-right-image:none;",bdbi:"border-bottom-image:url(|);","bdbi:n":"border-bottom-image:none;",bdli:"border-left-image:url(|);","bdli:n":"border-left-image:none;",bdci:"border-corner-image:url(|);","bdci:n":"border-corner-image:none;","bdci:c":"border-corner-image:continue;",bdtli:"border-top-left-image:url(|);","bdtli:n":"border-top-left-image:none;","bdtli:c":"border-top-left-image:continue;",bdtri:"border-top-right-image:url(|);","bdtri:n":"border-top-right-image:none;","bdtri:c":"border-top-right-image:continue;",bdbri:"border-bottom-right-image:url(|);","bdbri:n":"border-bottom-right-image:none;","bdbri:c":"border-bottom-right-image:continue;",bdbli:"border-bottom-left-image:url(|);","bdbli:n":"border-bottom-left-image:none;","bdbli:c":"border-bottom-left-image:continue;",bdf:"border-fit:${1:repeat};","bdf:c":"border-fit:clip;","bdf:r":"border-fit:repeat;","bdf:sc":"border-fit:scale;","bdf:st":"border-fit:stretch;","bdf:ow":"border-fit:overwrite;","bdf:of":"border-fit:overflow;","bdf:sp":"border-fit:space;",bdlen:"border-length:|;","bdlen:a":"border-length:auto;",bdsp:"border-spacing:|;",bds:"border-style:|;","bds:n":"border-style:none;","bds:h":"border-style:hidden;","bds:dt":"border-style:dotted;","bds:ds":"border-style:dashed;","bds:s":"border-style:solid;","bds:db":"border-style:double;","bds:dtds":"border-style:dot-dash;","bds:dtdtds":"border-style:dot-dot-dash;","bds:w":"border-style:wave;","bds:g":"border-style:groove;","bds:r":"border-style:ridge;","bds:i":"border-style:inset;","bds:o":"border-style:outset;",bdw:"border-width:|;",bdtw:"border-top-width:|;",bdrw:"border-right-width:|;",bdbw:"border-bottom-width:|;",bdlw:"border-left-width:|;",bdt:"border-top:|;",bt:"border-top:|;","bdt+":"border-top:${1:1px} ${2:solid} ${3:#000};","bdt:n":"border-top:none;",bdts:"border-top-style:|;","bdts:n":"border-top-style:none;",bdtc:"border-top-color:#${1:000};","bdtc:t":"border-top-color:transparent;",bdr:"border-right:|;",br:"border-right:|;","bdr+":"border-right:${1:1px} ${2:solid} ${3:#000};","bdr:n":"border-right:none;",bdrst:"border-right-style:|;","bdrst:n":"border-right-style:none;",bdrc:"border-right-color:#${1:000};","bdrc:t":"border-right-color:transparent;",bdb:"border-bottom:|;",bb:"border-bottom:|;","bdb+":"border-bottom:${1:1px} ${2:solid} ${3:#000};","bdb:n":"border-bottom:none;",bdbs:"border-bottom-style:|;","bdbs:n":"border-bottom-style:none;",bdbc:"border-bottom-color:#${1:000};","bdbc:t":"border-bottom-color:transparent;",bdl:"border-left:|;",bl:"border-left:|;","bdl+":"border-left:${1:1px} ${2:solid} ${3:#000};","bdl:n":"border-left:none;",bdls:"border-left-style:|;","bdls:n":"border-left-style:none;",bdlc:"border-left-color:#${1:000};","bdlc:t":"border-left-color:transparent;",bdrs:"border-radius:|;",bdtrrs:"border-top-right-radius:|;",bdtlrs:"border-top-left-radius:|;",bdbrrs:"border-bottom-right-radius:|;",bdblrs:"border-bottom-left-radius:|;",bg:"background:#${1:000};","bg+":"background:${1:#fff} url(${2}) ${3:0} ${4:0} ${5:no-repeat};","bg:n":"background:none;","bg:ie":"filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='${1:x}.png',sizingMethod='${2:crop}');",bgc:"background-color:#${1:fff};","bgc:t":"background-color:transparent;",bgi:"background-image:url(|);","bgi:n":"background-image:none;",bgr:"background-repeat:|;","bgr:n":"background-repeat:no-repeat;","bgr:x":"background-repeat:repeat-x;","bgr:y":"background-repeat:repeat-y;","bgr:sp":"background-repeat:space;","bgr:rd":"background-repeat:round;",bga:"background-attachment:|;","bga:f":"background-attachment:fixed;","bga:s":"background-attachment:scroll;",bgp:"background-position:${1:0} ${2:0};",bgpx:"background-position-x:|;",bgpy:"background-position-y:|;",bgbk:"background-break:|;","bgbk:bb":"background-break:bounding-box;","bgbk:eb":"background-break:each-box;","bgbk:c":"background-break:continuous;",bgcp:"background-clip:${1:padding-box};","bgcp:bb":"background-clip:border-box;","bgcp:pb":"background-clip:padding-box;","bgcp:cb":"background-clip:content-box;","bgcp:nc":"background-clip:no-clip;",bgo:"background-origin:|;","bgo:pb":"background-origin:padding-box;","bgo:bb":"background-origin:border-box;","bgo:cb":"background-origin:content-box;",bgsz:"background-size:|;","bgsz:a":"background-size:auto;","bgsz:ct":"background-size:contain;","bgsz:cv":"background-size:cover;",c:"color:#${1:000};","c:r":"color:rgb(${1:0}, ${2:0}, ${3:0});","c:ra":"color:rgba(${1:0}, ${2:0}, ${3:0}, .${4:5});",cm:"/* |${child} */",cnt:"content:'|';","cnt:n":"content:normal;","cnt:oq":"content:open-quote;","cnt:noq":"content:no-open-quote;","cnt:cq":"content:close-quote;","cnt:ncq":"content:no-close-quote;","cnt:a":"content:attr(|);","cnt:c":"content:counter(|);","cnt:cs":"content:counters(|);",tbl:"table-layout:|;","tbl:a":"table-layout:auto;","tbl:f":"table-layout:fixed;",cps:"caption-side:|;","cps:t":"caption-side:top;","cps:b":"caption-side:bottom;",ec:"empty-cells:|;","ec:s":"empty-cells:show;","ec:h":"empty-cells:hide;",lis:"list-style:|;","lis:n":"list-style:none;",lisp:"list-style-position:|;","lisp:i":"list-style-position:inside;","lisp:o":"list-style-position:outside;",list:"list-style-type:|;","list:n":"list-style-type:none;","list:d":"list-style-type:disc;","list:c":"list-style-type:circle;","list:s":"list-style-type:square;","list:dc":"list-style-type:decimal;","list:dclz":"list-style-type:decimal-leading-zero;","list:lr":"list-style-type:lower-roman;","list:ur":"list-style-type:upper-roman;",lisi:"list-style-image:|;","lisi:n":"list-style-image:none;",q:"quotes:|;","q:n":"quotes:none;","q:ru":"quotes:'\\00AB' '\\00BB' '\\201E' '\\201C';","q:en":"quotes:'\\201C' '\\201D' '\\2018' '\\2019';",ct:"content:|;","ct:n":"content:normal;","ct:oq":"content:open-quote;","ct:noq":"content:no-open-quote;","ct:cq":"content:close-quote;","ct:ncq":"content:no-close-quote;","ct:a":"content:attr(|);","ct:c":"content:counter(|);","ct:cs":"content:counters(|);",coi:"counter-increment:|;",cor:"counter-reset:|;",va:"vertical-align:${1:top};","va:sup":"vertical-align:super;","va:t":"vertical-align:top;","va:tt":"vertical-align:text-top;","va:m":"vertical-align:middle;","va:bl":"vertical-align:baseline;","va:b":"vertical-align:bottom;","va:tb":"vertical-align:text-bottom;","va:sub":"vertical-align:sub;",ta:"text-align:${1:left};","ta:l":"text-align:left;","ta:c":"text-align:center;","ta:r":"text-align:right;","ta:j":"text-align:justify;","ta-lst":"text-align-last:|;","tal:a":"text-align-last:auto;","tal:l":"text-align-last:left;","tal:c":"text-align-last:center;","tal:r":"text-align-last:right;",td:"text-decoration:${1:none};","td:n":"text-decoration:none;","td:u":"text-decoration:underline;","td:o":"text-decoration:overline;","td:l":"text-decoration:line-through;",te:"text-emphasis:|;","te:n":"text-emphasis:none;","te:ac":"text-emphasis:accent;","te:dt":"text-emphasis:dot;","te:c":"text-emphasis:circle;","te:ds":"text-emphasis:disc;","te:b":"text-emphasis:before;","te:a":"text-emphasis:after;",th:"text-height:|;","th:a":"text-height:auto;","th:f":"text-height:font-size;","th:t":"text-height:text-size;","th:m":"text-height:max-size;",ti:"text-indent:|;","ti:-":"text-indent:-9999px;",tj:"text-justify:|;","tj:a":"text-justify:auto;","tj:iw":"text-justify:inter-word;","tj:ii":"text-justify:inter-ideograph;","tj:ic":"text-justify:inter-cluster;","tj:d":"text-justify:distribute;","tj:k":"text-justify:kashida;","tj:t":"text-justify:tibetan;",tov:"text-overflow:${ellipsis};","tov:e":"text-overflow:ellipsis;","tov:c":"text-overflow:clip;",to:"text-outline:|;","to+":"text-outline:${1:0} ${2:0} ${3:#000};","to:n":"text-outline:none;",tr:"text-replace:|;","tr:n":"text-replace:none;",tt:"text-transform:${1:uppercase};","tt:n":"text-transform:none;","tt:c":"text-transform:capitalize;","tt:u":"text-transform:uppercase;","tt:l":"text-transform:lowercase;",tw:"text-wrap:|;","tw:n":"text-wrap:normal;","tw:no":"text-wrap:none;","tw:u":"text-wrap:unrestricted;","tw:s":"text-wrap:suppress;",tsh:"text-shadow:${1:hoff} ${2:voff} ${3:blur} ${4:#000};","tsh:r":"text-shadow:${1:h} ${2:v} ${3:blur} rgb(${4:0}, ${5:0}, ${6:0});","tsh:ra":"text-shadow:${1:h} ${2:v} ${3:blur} rgba(${4:0}, ${5:0}, ${6:0}, .${7:5});","tsh+":"text-shadow:${1:0} ${2:0} ${3:0} ${4:#000};","tsh:n":"text-shadow:none;",trf:"transform:|;","trf:skx":"transform: skewX(${1:angle});","trf:sky":"transform: skewY(${1:angle});","trf:sc":"transform: scale(${1:x}, ${2:y});","trf:scx":"transform: scaleX(${1:x});","trf:scy":"transform: scaleY(${1:y});","trf:scz":"transform: scaleZ(${1:z});","trf:sc3":"transform: scale3d(${1:x}, ${2:y}, ${3:z});","trf:r":"transform: rotate(${1:angle});","trf:rx":"transform: rotateX(${1:angle});","trf:ry":"transform: rotateY(${1:angle});","trf:rz":"transform: rotateZ(${1:angle});","trf:t":"transform: translate(${1:x}, ${2:y});","trf:tx":"transform: translateX(${1:x});","trf:ty":"transform: translateY(${1:y});","trf:tz":"transform: translateZ(${1:z});","trf:t3":"transform: translate3d(${1:tx}, ${2:ty}, ${3:tz});",trfo:"transform-origin:|;",trfs:"transform-style:${1:preserve-3d};",trs:"transition:${1:prop} ${2:time};",trsde:"transition-delay:${1:time};",trsdu:"transition-duration:${1:time};",trsp:"transition-property:${1:prop};",trstf:"transition-timing-function:${1:tfunc};",lh:"line-height:|;",whs:"white-space:|;","whs:n":"white-space:normal;","whs:p":"white-space:pre;","whs:nw":"white-space:nowrap;","whs:pw":"white-space:pre-wrap;","whs:pl":"white-space:pre-line;",whsc:"white-space-collapse:|;","whsc:n":"white-space-collapse:normal;","whsc:k":"white-space-collapse:keep-all;","whsc:l":"white-space-collapse:loose;","whsc:bs":"white-space-collapse:break-strict;","whsc:ba":"white-space-collapse:break-all;",wob:"word-break:|;","wob:n":"word-break:normal;","wob:k":"word-break:keep-all;","wob:ba":"word-break:break-all;",wos:"word-spacing:|;",wow:"word-wrap:|;","wow:nm":"word-wrap:normal;","wow:n":"word-wrap:none;","wow:u":"word-wrap:unrestricted;","wow:s":"word-wrap:suppress;","wow:b":"word-wrap:break-word;",wm:"writing-mode:${1:lr-tb};","wm:lrt":"writing-mode:lr-tb;","wm:lrb":"writing-mode:lr-bt;","wm:rlt":"writing-mode:rl-tb;","wm:rlb":"writing-mode:rl-bt;","wm:tbr":"writing-mode:tb-rl;","wm:tbl":"writing-mode:tb-lr;","wm:btl":"writing-mode:bt-lr;","wm:btr":"writing-mode:bt-rl;",lts:"letter-spacing:|;","lts-n":"letter-spacing:normal;",f:"font:|;","f+":"font:${1:1em} ${2:Arial,sans-serif};",fw:"font-weight:|;","fw:n":"font-weight:normal;","fw:b":"font-weight:bold;","fw:br":"font-weight:bolder;","fw:lr":"font-weight:lighter;",fs:"font-style:${italic};","fs:n":"font-style:normal;","fs:i":"font-style:italic;","fs:o":"font-style:oblique;",fv:"font-variant:|;","fv:n":"font-variant:normal;","fv:sc":"font-variant:small-caps;",fz:"font-size:|;",fza:"font-size-adjust:|;","fza:n":"font-size-adjust:none;",ff:"font-family:|;","ff:s":"font-family:serif;","ff:ss":"font-family:sans-serif;","ff:c":"font-family:cursive;","ff:f":"font-family:fantasy;","ff:m":"font-family:monospace;","ff:a":'font-family: Arial, "Helvetica Neue", Helvetica, sans-serif;',"ff:t":'font-family: "Times New Roman", Times, Baskerville, Georgia, serif;',"ff:v":"font-family: Verdana, Geneva, sans-serif;",fef:"font-effect:|;","fef:n":"font-effect:none;","fef:eg":"font-effect:engrave;","fef:eb":"font-effect:emboss;","fef:o":"font-effect:outline;",fem:"font-emphasize:|;",femp:"font-emphasize-position:|;","femp:b":"font-emphasize-position:before;","femp:a":"font-emphasize-position:after;",fems:"font-emphasize-style:|;","fems:n":"font-emphasize-style:none;","fems:ac":"font-emphasize-style:accent;","fems:dt":"font-emphasize-style:dot;","fems:c":"font-emphasize-style:circle;","fems:ds":"font-emphasize-style:disc;",fsm:"font-smooth:|;","fsm:a":"font-smooth:auto;","fsm:n":"font-smooth:never;","fsm:aw":"font-smooth:always;",fst:"font-stretch:|;","fst:n":"font-stretch:normal;","fst:uc":"font-stretch:ultra-condensed;","fst:ec":"font-stretch:extra-condensed;","fst:c":"font-stretch:condensed;","fst:sc":"font-stretch:semi-condensed;","fst:se":"font-stretch:semi-expanded;","fst:e":"font-stretch:expanded;","fst:ee":"font-stretch:extra-expanded;","fst:ue":"font-stretch:ultra-expanded;",op:"opacity:|;","op+":"opacity: $1;\nfilter: alpha(opacity=$2);","op:ie":"filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=100);","op:ms":"-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=100)';",rsz:"resize:|;","rsz:n":"resize:none;","rsz:b":"resize:both;","rsz:h":"resize:horizontal;","rsz:v":"resize:vertical;",cur:"cursor:${pointer};","cur:a":"cursor:auto;","cur:d":"cursor:default;","cur:c":"cursor:crosshair;","cur:ha":"cursor:hand;","cur:he":"cursor:help;","cur:m":"cursor:move;","cur:p":"cursor:pointer;","cur:t":"cursor:text;",pgbb:"page-break-before:|;","pgbb:au":"page-break-before:auto;","pgbb:al":"page-break-before:always;","pgbb:l":"page-break-before:left;","pgbb:r":"page-break-before:right;",pgbi:"page-break-inside:|;","pgbi:au":"page-break-inside:auto;","pgbi:av":"page-break-inside:avoid;",pgba:"page-break-after:|;","pgba:au":"page-break-after:auto;","pgba:al":"page-break-after:always;","pgba:l":"page-break-after:left;","pgba:r":"page-break-after:right;",orp:"orphans:|;",us:"user-select:${none};",wid:"widows:|;",wfsm:"-webkit-font-smoothing:${antialiased};","wfsm:a":"-webkit-font-smoothing:antialiased;","wfsm:s":"-webkit-font-smoothing:subpixel-antialiased;","wfsm:sa":"-webkit-font-smoothing:subpixel-antialiased;","wfsm:n":"-webkit-font-smoothing:none;"}},html:{filters:"html",profile:"html",snippets:{"!!!":"<!DOCTYPE html>","!!!4t":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">',"!!!4s":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">',"!!!xt":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',"!!!xs":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',"!!!xxs":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">',c:"<!-- |${child} -->","cc:ie6":"<!--[if lte IE 6]>\n  ${child}|\n<![endif]-->","cc:ie":"<!--[if IE]>\n  ${child}|\n<![endif]-->","cc:noie":"<!--[if !IE]><!-->\n  ${child}|\n<!--<![endif]-->"},abbreviations:{"!":"html:5",a:'<a href="">',"a:link":'<a href="http://|">',"a:mail":'<a href="mailto:|">',abbr:'<abbr title="">',"acr|acronym":'<acronym title="">',base:'<base href="" />',basefont:"<basefont/>",br:"<br/>",frame:"<frame/>",hr:"<hr/>",bdo:'<bdo dir="">',"bdo:r":'<bdo dir="rtl">',"bdo:l":'<bdo dir="ltr">',col:"<col/>",link:'<link rel="stylesheet" href="" />',"link:css":'<link rel="stylesheet" href="${1:style}.css" />',"link:print":'<link rel="stylesheet" href="${1:print}.css" media="print" />',"link:favicon":'<link rel="shortcut icon" type="image/x-icon" href="${1:favicon.ico}" />',"link:touch":'<link rel="apple-touch-icon" href="${1:favicon.png}" />',"link:rss":'<link rel="alternate" type="application/rss+xml" title="RSS" href="${1:rss.xml}" />',"link:atom":'<link rel="alternate" type="application/atom+xml" title="Atom" href="${1:atom.xml}" />',meta:"<meta/>","meta:utf":'<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />',"meta:win":'<meta http-equiv="Content-Type" content="text/html;charset=windows-1251" />',"meta:vp":'<meta name="viewport" content="width=${1:device-width}, user-scalable=${2:no}, initial-scale=${3:1.0}, maximum-scale=${4:1.0}, minimum-scale=${5:1.0}" />',"meta:compat":'<meta http-equiv="X-UA-Compatible" content="${1:IE=7}" />',style:"<style>",script:'<script !src="">',"script:src":'<script src="">',img:'<img src="" alt="" />',iframe:'<iframe src="" frameborder="0">',embed:'<embed src="" type="" />',object:'<object data="" type="">',param:'<param name="" value="" />',map:'<map name="">',area:'<area shape="" coords="" href="" alt="" />',"area:d":'<area shape="default" href="" alt="" />',"area:c":'<area shape="circle" coords="" href="" alt="" />',"area:r":'<area shape="rect" coords="" href="" alt="" />',"area:p":'<area shape="poly" coords="" href="" alt="" />',form:'<form action="">',"form:get":'<form action="" method="get">',"form:post":'<form action="" method="post">',label:'<label for="">',input:'<input type="${1:text}" />',inp:'<input type="${1:text}" name="" id="" />',"input:h|input:hidden":"input[type=hidden name]","input:t|input:text":"inp","input:search":"inp[type=search]","input:email":"inp[type=email]","input:url":"inp[type=url]","input:p|input:password":"inp[type=password]","input:datetime":"inp[type=datetime]","input:date":"inp[type=date]","input:datetime-local":"inp[type=datetime-local]","input:month":"inp[type=month]","input:week":"inp[type=week]","input:time":"inp[type=time]","input:tel":"inp[type=tel]","input:number":"inp[type=number]","input:color":"inp[type=color]","input:c|input:checkbox":"inp[type=checkbox]","input:r|input:radio":"inp[type=radio]","input:range":"inp[type=range]","input:f|input:file":"inp[type=file]","input:s|input:submit":'<input type="submit" value="" />',"input:i|input:image":'<input type="image" src="" alt="" />',"input:b|input:button":'<input type="button" value="" />',isindex:"<isindex/>","input:reset":"input:button[type=reset]",select:'<select name="" id="">',"select:d|select:disabled":"select[disabled.]","opt|option":'<option value="">',textarea:'<textarea name="" id="" cols="${1:30}" rows="${2:10}">',marquee:'<marquee behavior="" direction="">',"menu:c|menu:context":"menu[type=context]>","menu:t|menu:toolbar":"menu[type=toolbar]>",video:'<video src="">',audio:'<audio src="">',"html:xml":'<html xmlns="http://www.w3.org/1999/xhtml">',keygen:"<keygen/>",command:"<command/>","btn:s|button:s|button:submit":"button[type=submit]","btn:r|button:r|button:reset":"button[type=reset]","btn:d|button:d|button:disabled":"button[disabled.]","fst:d|fset:d|fieldset:d|fieldset:disabled":"fieldset[disabled.]",bq:"blockquote",fig:"figure",figc:"figcaption",ifr:"iframe",emb:"embed",obj:"object",src:"source",cap:"caption",colg:"colgroup",fst:"fieldset",btn:"button",optg:"optgroup",tarea:"textarea",leg:"legend",sect:"section",art:"article",hdr:"header",ftr:"footer",adr:"address",dlg:"dialog",str:"strong",prog:"progress",mn:"main",tem:"template",fset:"fieldset",datag:"datagrid",datal:"datalist",kg:"keygen",out:"output",det:"details",cmd:"command",doc:"html>(head>meta[charset=${charset}]+title{${1:Document}})+body",doc4:'html>(head>meta[http-equiv="Content-Type" content="text/html;charset=${charset}"]+title{${1:Document}})+body',"html:4t":"!!!4t+doc4[lang=${lang}]","html:4s":"!!!4s+doc4[lang=${lang}]","html:xt":"!!!xt+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:xs":"!!!xs+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:xxs":"!!!xxs+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:5":"!!!+doc[lang=${lang}]","ol+":"ol>li","ul+":"ul>li","dl+":"dl>dt+dd","map+":"map>area","table+":"table>tr>td","colgroup+":"colgroup>col","colg+":"colgroup>col","tr+":"tr>td","select+":"select>option","optgroup+":"optgroup>option","optg+":"optgroup>option"}},xml:{"extends":"html",profile:"xml",filters:"html"},xsl:{"extends":"html",profile:"xml",filters:"html, xsl",abbreviations:{"tm|tmatch":'<xsl:template match="" mode="">',"tn|tname":'<xsl:template name="">',call:'<xsl:call-template name=""/>',ap:'<xsl:apply-templates select="" mode=""/>',api:"<xsl:apply-imports/>",imp:'<xsl:import href=""/>',inc:'<xsl:include href=""/>',ch:"<xsl:choose>","wh|xsl:when":'<xsl:when test="">',ot:"<xsl:otherwise>","if":'<xsl:if test="">',par:'<xsl:param name="">',pare:'<xsl:param name="" select=""/>',"var":'<xsl:variable name="">',vare:'<xsl:variable name="" select=""/>',wp:'<xsl:with-param name="" select=""/>',key:'<xsl:key name="" match="" use=""/>',elem:'<xsl:element name="">',attr:'<xsl:attribute name="">',attrs:'<xsl:attribute-set name="">',cp:'<xsl:copy select=""/>',co:'<xsl:copy-of select=""/>',val:'<xsl:value-of select=""/>',"for|each":'<xsl:for-each select="">',tex:"<xsl:text></xsl:text>",com:"<xsl:comment>",msg:'<xsl:message terminate="no">',fall:"<xsl:fallback>",num:'<xsl:number value=""/>',nam:'<namespace-alias stylesheet-prefix="" result-prefix=""/>',pres:'<xsl:preserve-space elements=""/>',strip:'<xsl:strip-space elements=""/>',proc:'<xsl:processing-instruction name="">',sort:'<xsl:sort select="" order=""/>',"choose+":"xsl:choose>xsl:when+xsl:otherwise",xsl:"!!!+xsl:stylesheet[version=1.0 xmlns:xsl=http://www.w3.org/1999/XSL/Transform]>{\n|}"},snippets:{"!!!":'<?xml version="1.0" encoding="UTF-8"?>'}},haml:{filters:"haml","extends":"html",profile:"xml"},jade:{filters:"jade","extends":"html",profile:"xml"},slim:{filters:"slim","extends":"html",profile:"xml"},scss:{"extends":"css"},sass:{"extends":"css"},less:{"extends":"css"},stylus:{"extends":"css"},styl:{"extends":"stylus"}}
},{}],66:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("../assets/elements"),n=e("../assets/tabStops"),r=e("../utils/common"),i=e("../resolver/tagName");return{isUnary:function(e){if(e.children.length||e._text||this.isSnippet(e))return!1;var t=e.data("resource");return t&&t.is_empty},isInline:function(e){return e.isTextNode()||!e.name()||i.isInlineLevel(e.name())},isBlock:function(e){return this.isSnippet(e)||!this.isInline(e)},isSnippet:function(e){return t.is(e.data("resource"),"snippet")},hasTagsInContent:function(e){return r.matchesTag(e.content)},hasBlockChildren:function(e){return this.hasTagsInContent(e)&&this.isBlock(e)||e.children.some(function(e){return this.isBlock(e)},this)},insertChildContent:function(e,t,i){i=r.extend({keepVariable:!0,appendIfNoChild:!0},i||{});var o=!1;return e=n.replaceVariables(e,function(n,s,a){var l=n;return"child"==s&&(l=r.padString(t,r.getLinePaddingFromPosition(e,a.start)),o=!0,i.keepVariable&&(l+=n)),l}),!o&&i.appendIfNoChild&&(e+=t),e}}})},{"../assets/elements":23,"../assets/tabStops":32,"../resolver/tagName":64,"../utils/common":70}],67:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("./common"),n=e("./cssSections"),r=e("../parser/abbreviation"),i=e("../assets/htmlMatcher"),o=e("../editTree/xml"),s=e("../assets/range"),a=e("../assets/resources");return{mimeTypes:{gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",svg:"image/svg+xml",html:"text/html",htm:"text/html"},extractAbbreviation:function(e){for(var n=e.length,i=-1,o=0,s=0,a=0;;){if(n--,0>n){i=0;break}var l=e.charAt(n);if("]"==l)s++;else if("["==l){if(!s){i=n+1;break}s--}else if("}"==l)a++;else if("{"==l){if(!a){i=n+1;break}a--}else if(")"==l)o++;else if("("==l){if(!o){i=n+1;break}o--}else{if(s||a)continue;if(!r.isAllowedChar(l)||">"==l&&t.endsWithTag(e.substring(0,n+1))){i=n+1;break}}}return-1==i||a||s||o?"":e.substring(i).replace(/^[\*\+\>\^]+/,"")},getImageSize:function(e){var t="\x89PNG\r\n\n",n="\xff\xd8",r="GIF8",i=0,o=function(){return e.charCodeAt(i++)};if(e.substr(0,8)===t)return i=e.indexOf("IHDR")+4,{width:o()<<24|o()<<16|o()<<8|o(),height:o()<<24|o()<<16|o()<<8|o()};if(e.substr(0,4)===r)return i=6,{width:o()|o()<<8,height:o()|o()<<8};if(e.substr(0,2)===n){i=2;for(var s=e.length;s>i;){if(255!=o())return;var a=o();if(218==a)break;var l=o()<<8|o();if(!(!(a>=192&&207>=a)||4&a||8&a))return i+=1,{height:o()<<8|o(),width:o()<<8|o()};i+=l-2}}},captureContext:function(e,t){var n={html:1,xml:1,xsl:1},r=e.getSyntax();if(r in n){var s=e.getContent();"undefined"==typeof t&&(t=e.getCaretPos());var a=i.find(s,t);if(a&&"tag"==a.type){var l=a.open,u={name:l.name,attributes:[],match:a},c=o.parse(l.range.substring(s));return c&&(u.attributes=c.getAll().map(function(e){return{name:e.name(),value:e.value()}})),u}}return null},findExpressionBounds:function(e,t){for(var n=String(e.getContent()),r=n.length,i=e.getCaretPos()-1,o=i+1;i>=0&&t(n.charAt(i),i,n);)i--;for(;r>o&&t(n.charAt(o),o,n);)o++;return o>i?s([++i,o]):void 0},compoundUpdate:function(e,t){if(t){var n=e.getSelectionRange();return e.replaceContent(t.data,t.start,t.end,!0),e.createSelection(t.caret,t.caret+n.end-n.start),!0}return!1},detectSyntax:function(e,t){var n=t||"html";return a.hasSyntax(n)||(n="html"),"html"==n&&(this.isStyle(e)||this.isInlineCSS(e))&&(n="css"),"styl"==n&&(n="stylus"),n},detectProfile:function(e){var t=e.getSyntax(),n=a.findItem(t,"profile");if(n)return n;switch(t){case"xml":case"xsl":return"xml";case"css":if(this.isInlineCSS(e))return"line";break;case"html":return n=a.getVariable("profile"),n||(n=this.isXHTML(e)?"xhtml":"html"),n}return"xhtml"},isXHTML:function(e){return-1!=e.getContent().search(/<!DOCTYPE[^>]+XHTML/i)},isStyle:function(e){return!!n.styleTagRange(e.getContent(),e.getCaretPos())},isSupportedCSS:function(e){return"css"==e||"less"==e||"scss"==e},isInlineCSS:function(e){return!!n.styleAttrRange(e.getContent(),e.getCaretPos())}}})},{"../assets/htmlMatcher":25,"../assets/range":29,"../assets/resources":30,"../editTree/xml":36,"../parser/abbreviation":52,"./common":70,"./cssSections":71}],68:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(t){for(var n,r,i,o,s,a,l,u,c,f,h=[],p=0,d=t.length,m=e;d>p;)u=t.charCodeAt(p++),c=t.charCodeAt(p++),f=t.charCodeAt(p++),n=255&u,r=255&c,i=255&f,o=n>>2,s=(3&n)<<4|r>>4,a=(15&r)<<2|i>>6,l=63&i,isNaN(c)?a=l=64:isNaN(f)&&(l=64),h.push(m.charAt(o)+m.charAt(s)+m.charAt(a)+m.charAt(l));return h.join("")},decode:function(t){var n,r,i,o,s,a,l,u,c=0,f=0,h=[],p=e,d=t.length;if(!t)return t;t+="";do o=p.indexOf(t.charAt(c++)),s=p.indexOf(t.charAt(c++)),a=p.indexOf(t.charAt(c++)),l=p.indexOf(t.charAt(c++)),u=o<<18|s<<12|a<<6|l,n=u>>16&255,r=u>>8&255,i=255&u,h[f++]=64==a?String.fromCharCode(n):64==l?String.fromCharCode(n,r):String.fromCharCode(n,r,i);while(d>c);return h.join("")}}})},{}],69:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("./common"),n=(e("../assets/range"),e("../assets/stringStream")),r=/\/\*|\/\//;return{strip:function(e){if(!r.test(e))return e;for(var i,o,s=n(e),a=[];i=s.next();)if("/"===i){if(o=s.peek(),"*"===o)s.start=s.pos-1,s.skipTo("*/")?s.pos+=2:s.skipToEnd(),a.push([s.start,s.pos]);else if("/"===o){for(s.start=s.pos-1;(o=s.next())&&"\n"!==o&&"\r"!=o;);a.push([s.start,s.pos])}}else s.skipQuoted();return t.replaceWith(e,a," ")}}})},{"../assets/range":29,"../assets/stringStream":31,"./common":70}],70:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("../assets/range"),n="${0}";return{reTag:/<\/?[\w:\-]+(?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*\s*(\/?)>$/,defaultSyntax:function(){return"html"},defaultProfile:function(){return"plain"},endsWithTag:function(e){return this.reTag.test(e)},isNumeric:function(e){return"string"==typeof e&&(e=e.charCodeAt(0)),e&&e>47&&58>e},trim:function(){return String.prototype.trim?function(e){return e?e.trim():""}:function(e){return(e||"").replace(/^\s+|\s+$/g,"")}}(),splitByLines:function(e,t){var n="\n",r=(e||"").replace(/\r\n/g,"\n").replace(/\n\r/g,"\n").replace(/\r/g,"\n").replace(/\n/g,n).split(n);return t&&(r=r.filter(function(e){return e.length&&!!this.trim(e)},this)),r},repeatString:function(e,t){for(var n="";t--;)n+=e;return n},getStringsPads:function(e){var t=e.map(function(e){return"string"==typeof e?e.length:+e}),n=t.reduce(function(e,t){return"undefined"==typeof e?t:Math.max(e,t)});return t.map(function(e){var t=n-e;return t?this.repeatString(" ",t):""},this)},padString:function(e,t){var n=[],r=this.splitByLines(e),i="\n";n.push(r[0]);for(var o=1;o<r.length;o++)n.push(i+t+r[o]);return n.join("")},zeroPadString:function(e,t){for(var n="",r=e.length;t>r++;)n+="0";return n+e},unindentString:function(e,t){for(var n,r=this.splitByLines(e),i=t.length,o=0,s=r.length;s>o;o++)n=r[o],n.substr(0,i)===t&&(r[o]=n.substr(i));return r.join("\n")},replaceUnescapedSymbol:function(e,t,n){for(var r=0,i=e.length,o=t.length,s=0;i>r;)if("\\"==e.charAt(r))r+=o+1;else if(e.substr(r,o)==t){var a=o;s++;var l=n;if("function"==typeof n){var u=n(e,t,r,s);u?(a=u[0].length,l=u[1]):l=!1}if(l===!1){r++;continue}e=e.substring(0,r)+l+e.substring(r+a),i=e.length,r+=l.length}else r++;return e},replaceCounter:function(e,t,n){var r="$";e=String(e),t=String(t),/^\-?\d+$/.test(t)&&(t=+t);var i=this;return this.replaceUnescapedSymbol(e,r,function(e,r,o){if("{"==e.charAt(o+1)||i.isNumeric(e.charAt(o+1)))return!1;for(var s=o+1;"$"==e.charAt(s)&&"{"!=e.charAt(s+1);)s++;var a,l=s-o,u=0,c=!1;return(a=e.substr(s).match(/^@(\-?)(\d*)/))&&(s+=a[0].length,a[1]&&(c=!0),u=parseInt(a[2]||1,10)-1),c&&n&&"number"==typeof t&&(t=n-t+1),t+=u,[e.substring(o,s),i.zeroPadString(t+"",l)]})},matchesTag:function(e){return this.reTag.test(e||"")},escapeText:function(e){return e.replace(/([\$\\])/g,"\\$1")},unescapeText:function(e){return e.replace(/\\(.)/g,"$1")},getCaretPlaceholder:function(){return"function"==typeof n?n.apply(this,arguments):n},setCaretPlaceholder:function(e){n=e},getLinePadding:function(e){return(e.match(/^(\s+)/)||[""])[0]},getLinePaddingFromPosition:function(e,t){var n=this.findNewlineBounds(e,t);return this.getLinePadding(n.substring(e))},escapeForRegexp:function(e){var t=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");return e.replace(t,"\\$&")},prettifyNumber:function(e,t){return e.toFixed("undefined"==typeof t?2:t).replace(/\.?0+$/,"")},replaceSubstring:function(e,t,n,r){return"object"==typeof n&&"end"in n&&(r=n.end,n=n.start),"string"==typeof r&&(r=n+r.length),"undefined"==typeof r&&(r=n),0>n||n>e.length?e:e.substring(0,n)+t+e.substring(r)},replaceWith:function(e,t,n,r){if(t.length){var i=0,o=[];t.forEach(function(t){var s=r?n:this.repeatString(n,t[1]-t[0]);o.push(e.substring(i,t[0]),s),i=t[1]},this),e=o.join("")+e.substring(i)}return e},narrowToNonSpace:function(e,n,r){for(var i=t.create(n,r),o=/[\s\n\r\u00a0]/;i.start<i.end&&o.test(e.charAt(i.start));)i.start++;for(;i.end>i.start;)if(i.end--,!o.test(e.charAt(i.end))){i.end++;break}return i},findNewlineBounds:function(e,n){for(var r,i=e.length,o=0,s=i-1,a=n-1;a>0;a--)if(r=e.charAt(a),"\n"==r||"\r"==r){o=a+1;break}for(var l=n;i>l;l++)if(r=e.charAt(l),"\n"==r||"\r"==r){s=l;break}return t.create(o,s-o)},deepMerge:function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,l=arguments.length;for("object"!=typeof s&&"function"!=typeof s&&(s={});l>a;a++)if(null!==(e=arguments[a]))for(t in e)n=s[t],r=e[t],s!==r&&(r&&("object"==typeof r||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&"object"==typeof n?n:{},s[t]=this.deepMerge(o,r)):void 0!==r&&(s[t]=r));return s},parseJSON:function(e){if("object"==typeof e)return e;try{return JSON.parse(e)}catch(t){return{}}},unique:function(e,t){var n=[];return e.filter(function(e){var r=t?t(e):e;return n.indexOf(r)<0?(n.push(r),!0):void 0})},pick:function(e){var t={},n=this.toArray(arguments,1);return Object.keys(e).forEach(function(r){~n.indexOf(r)&&(t[r]=e[r])}),t},find:function(e,t,n){var r;return n&&(t=t.bind(n)),Array.isArray(e)?e.some(function(e,n){return t(e,n)?r=e:void 0}):Object.keys(e).some(function(n,i){return t(e[n],i)?r=e[n]:void 0}),r},toArray:function(e,t){return Array.isArray(e)&&!t?e:Array.prototype.slice.call(e,t||0)},extend:function(e){for(var t,n=1,r=arguments.length;r>n;n++)t=arguments[n],t&&Object.keys(t).forEach(function(n){e[n]=t[n]});return e},defaults:function(e){for(var t,n=1,r=arguments.length;r>n;n++)t=arguments[n],t&&Object.keys(t).forEach(function(n){n in e||(e[n]=t[n])});return e},flatten:function(e,t){t=t||[];var n=this;return n.toArray(e).forEach(function(e){Array.isArray(e)?n.flatten(e,t):t.push(e)}),t},clone:function(e){return Array.isArray(e)?e.slice(0):this.extend({},e)},without:function(e){return this.toArray(arguments,1).forEach(function(t){for(var n;~(n=e.indexOf(t));)e.splice(n,1)}),e},last:function(e){return e[e.length-1]}}})},{"../assets/range":29}],71:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){return'"'==e||"'"==e}function n(){return c=(c+1)%f,"s"+c}function r(e,t){this.id=n(),this.parent=null,this.nextSibling=null,this.previousSibling=null,this._source=t,this._name=null,this._content=null,this._data={},!e&&t&&(e=s(0,t)),this.range=e,this.children=[]}var i=e("./common"),o=e("./comments"),s=e("../assets/range"),a=e("../assets/stringStream"),l=(e("../parser/css"),e("../assets/htmlMatcher")),u=e("../editTree/xml"),c=1,f=1e6,h=/^(\s*).+?(\s*)$/,p=/\s/g;return r.prototype={addChild:function(e){e instanceof r||(e=new r(e));var t=i.last(this.children);return t&&(t.nextSibling=e,e.previousSibling=t),e.parent=this,this.children.push(e),e},root:function(){var e=this;do if(!e.parent)return e;while(e=e.parent);return e},source:function(){return this._source||this.root()._source},name:function(){if(null===this._name){var e=this.nameRange();e&&(this._name=e.substring(this.source()))}return this._name},nameRange:function(){return this.range&&"_selectorEnd"in this.range?s.create2(this.range.start,this.range._selectorEnd):void 0},matchDeep:function(e){if(!this.range.inside(e))return null;for(var t,n=0,r=this.children.length;r>n;n++)if(t=this.children[n].matchDeep(e))return t;return this.parent?this:null},allRanges:function(){var e=[];return this.parent&&e.push(this.range),this.children.forEach(function(t){e=e.concat(t.allRanges())}),e},data:function(e,t){return"undefined"!=typeof t&&(this._data[e]=t),this._data[e]},stringify:function(e){e=e||"";var t="";return this.children.forEach(function(n){t+=e+n.name().replace(/\n/g,"\\n")+"\n",t+=n.stringify(e+"--")}),t},content:function(){if(null!==this._content)return this._content;if(!(this.range&&"_contentStart"in this.range))return"";var e=s.create2(this.range._contentStart+1,this.range.end-1),t=this.source(),n=e.start,r="";return this.children.forEach(function(e){r+=t.substring(n,e.range.start),n=e.range.end}),r+=t.substring(n,e.end),this._content=i.trim(r)}},{findAllRules:function(e){e=this.sanitize(e);for(var n,r,o=a(e),l=[],u=this,c=function(t){var n=u.extractSelector(e,t.start),r=s.create2(n.start,t.end);r._selectorEnd=n.end,r._contentStart=t.start,l.push(r)};r=o.next();)if(t(r)){if(!o.skipString(r))break}else"{"==r&&(n=this.matchBracesRanges(e,o.pos-1),n.forEach(c),n.length)&&(o.pos=i.last(n).end);return l.sort(function(e,t){return e.start-t.start})},matchBracesRanges:function(e,t,n){n&&(e=this.sanitize(e));var r=a(e);r.start=r.pos=t;for(var i,o=[],l=[];i=r.next();)if("{"==i)o.push(r.pos-1);else if("}"==i){if(!o.length)throw"Invalid source structure (check for curly braces)";if(l.push(s.create2(o.pop(),r.pos)),!o.length)return l}else r.skipQuoted();return l},extractSelector:function(e,t,n){n&&(e=this.sanitize(e));for(var r,i=function(){var n=e.charAt(t);if('"'==n||"'"==n){for(;--t>=0&&(e.charAt(t)!=n||"\\"==e.charAt(t-1)););return!0}return!1},o=t;--t>=0;)if(!i())if(r=e.charAt(t),")"!=r){if("{"==r||"}"==r||";"==r){t++;break}}else for(;--t>=0&&(i()||"("!=e.charAt(t)););0>t&&(t=0);var a=e.substring(t,o),l=a.replace(p," ").match(h);return l&&(t+=l[1].length,o-=l[2].length),s.create2(t,o)},matchEnclosingRule:function(e,t){"string"==typeof e&&(e=this.findAllRules(e));var n=e.filter(function(e){return e.inside(t)});return i.last(n)},locateRule:function(e,t,n){var r=0,i=this.styleTagRange(e,t);i&&(r=i.start,t-=i.start,e=i.substring(e));var o=this.findAllRules(e),s=this.matchEnclosingRule(o,t);if(s)return s.shift(r);for(var a=0,l=o.length;l>a;a++)if(o[a].start>t){var u=n?a-1:a;if(o[u])return o[u].shift(r)}},sanitize:function(e){e=o.strip(e);for(var n,r,s=a(e),l=[];n=s.next();)if(t(n))s.skipString(n);else if(("#"===n||"@"===n)&&(r=s.peek(),"{"===r)){if(s.start=s.pos-1,!s.skipTo("}"))throw"Invalid string interpolation at "+s.start;s.pos+=1,l.push([s.start,s.pos])}return i.replaceWith(e,l,"a")},sectionTree:function(e){var t=new r(null,e),n=this.findAllRules(e),i=function(e,n){for(;n&&n.range;){if(n.range.contains(e))return n.addChild(e);n=n.parent}return t.addChild(e)},o=t;return n.forEach(function(e){o=i(e,o)}),t},nestedSectionsInRule:function(e){var t=e.valueRange(!0).start,n=this.findAllRules(e.valueRange().substring(e.source));return n.forEach(function(e){e.start+=t,e.end+=t,e._selectorEnd+=t,e._contentStart+=t}),n},styleTagRange:function(e,t){var n=l.tag(e,t);return n&&"style"==n.open.name.toLowerCase()&&n.innerRange.cmp(t,"lte","gte")&&n.innerRange},styleAttrRange:function(e,t){var n=u.parseFromPosition(e,t,!0);if(n){var r=n.itemFromPosition(t,!0);return r&&"style"==r.name().toLowerCase()&&r.valueRange(!0).cmp(t,"lte","gte")&&r.valueRange(!0)}},CSSSection:r}})},{"../assets/htmlMatcher":25,"../assets/range":29,"../assets/stringStream":31,"../editTree/xml":36,"../parser/css":53,"./comments":69,"./common":70}],72:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("./common"),n=e("../assets/resources");return{isInsideTag:function(e,t){for(var n=/^<\/?\w[\w\:\-]*.*?>/,r=t;r>-1&&"<"!=e.charAt(r);)r--;if(-1!=r){var i=n.exec(e.substring(r));if(i&&t>r&&t<r+i[0].length)return!0}return!1},outputInfo:function(e,t,n){return n=n||e.getProfileName(),{syntax:String(t||e.getSyntax()),profile:n||null,content:String(e.getContent())}},unindent:function(e,n){return t.unindentString(n,this.getCurrentLinePadding(e))},getCurrentLinePadding:function(e){return t.getLinePadding(e.getCurrentLine())},normalize:function(e,r){r=t.extend({newline:n.getNewline(),indentation:n.getVariable("indentation")},r);var i=/^  +/,o=function(e){return t.repeatString(r.indentation,e.length)},s=t.splitByLines(e);return"  "!==r.indentation&&(s=s.map(function(e){return e.replace(i,o)})),s.join(r.newline)}}})},{"../assets/resources":30,"./common":70}],73:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(){function e(e){function t(){}return t.prototype=e,new t}function t(e,t,n,r){this.type_=e,this.index_=t||0,this.prio_=n||0,this.number_=void 0!==r&&null!==r?r:0,this.toString=function(){switch(this.type_){case g:return this.number_;case v:case b:case y:return this.index_;case x:return"CALL";default:return"Invalid Token"}}}function n(e,t,n,r){this.tokens=e,this.ops1=t,this.ops2=n,this.functions=r}function r(e){return"string"==typeof e?(w.lastIndex=0,w.test(e)?"'"+e.replace(w,function(e){var t=S[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+"'":"'"+e+"'"):e}function i(e,t){return Number(e)+Number(t)}function o(e,t){return e-t}function s(e,t){return e*t}function a(e,t){return e/t}function l(e,t){return e%t}function u(e,t){return""+e+t}function c(e){return-e}function f(e){return Math.random()*(e||1)}function h(e){e=Math.floor(e);for(var t=e;e>1;)t*=--e;return t}function p(e,t){return Math.sqrt(e*e+t*t)}function d(e,t){return"[object Array]"!=Object.prototype.toString.call(e)?[e,t]:(e=e.slice(),e.push(t),e)}function m(){this.success=!1,this.errormsg="",this.expression="",this.pos=0,this.tokennumber=0,this.tokenprio=0,this.tokenindex=0,this.tmpprio=0,this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sqrt:Math.sqrt,log:Math.log,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,"-":c,exp:Math.exp},this.ops2={"+":i,"-":o,"*":s,"/":a,"%":l,"^":Math.pow,",":d,"||":u},this.functions={random:f,fac:h,min:Math.min,max:Math.max,pyt:p,pow:Math.pow,atan2:Math.atan2},this.consts={E:Math.E,PI:Math.PI}}var g=0,v=1,b=2,y=3,x=4,w=/[\\\'\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,S={"\b":"\\b","  ":"  ","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"};n.prototype={simplify:function(r){r=r||{};var i,o,s,a,l=[],u=[],c=this.tokens.length,f=0;for(f=0;c>f;f++){a=this.tokens[f];var h=a.type_;if(h===g)l.push(a);else if(h===y&&a.index_ in r)a=new t(g,0,0,r[a.index_]),l.push(a);else if(h===b&&l.length>1)o=l.pop(),i=l.pop(),s=this.ops2[a.index_],a=new t(g,0,0,s(i.number_,o.number_)),l.push(a);else if(h===v&&l.length>0)i=l.pop(),s=this.ops1[a.index_],a=new t(g,0,0,s(i.number_)),l.push(a);else{for(;l.length>0;)u.push(l.shift());u.push(a)}}for(;l.length>0;)u.push(l.shift());return new n(u,e(this.ops1),e(this.ops2),e(this.functions))},substitute:function(r,i){i instanceof n||(i=(new m).parse(String(i)));var o,s=[],a=this.tokens.length,l=0;for(l=0;a>l;l++){o=this.tokens[l];var u=o.type_;if(u===y&&o.index_===r)for(var c=0;c<i.tokens.length;c++){var f=i.tokens[c],h=new t(f.type_,f.index_,f.prio_,f.number_);s.push(h)}else s.push(o)}var p=new n(s,e(this.ops1),e(this.ops2),e(this.functions));return p},evaluate:function(e){e=e||{};var t,n,r,i,o=[],s=this.tokens.length,a=0;for(a=0;s>a;a++){i=this.tokens[a];var l=i.type_;if(l===g)o.push(i.number_);else if(l===b)n=o.pop(),t=o.pop(),r=this.ops2[i.index_],o.push(r(t,n));else if(l===y)if(i.index_ in e)o.push(e[i.index_]);else{if(!(i.index_ in this.functions))throw new Error("undefined variable: "+i.index_);o.push(this.functions[i.index_])}else if(l===v)t=o.pop(),r=this.ops1[i.index_],o.push(r(t));else{if(l!==x)throw new Error("invalid Expression");if(t=o.pop(),r=o.pop(),!r.apply||!r.call)throw new Error(r+" is not a function");o.push("[object Array]"==Object.prototype.toString.call(t)?r.apply(void 0,t):r.call(void 0,t))}}if(o.length>1)throw new Error("invalid Expression (parity)");return o[0]},toString:function(e){var t,n,i,o,s=[],a=this.tokens.length,l=0;for(l=0;a>l;l++){o=this.tokens[l];var u=o.type_;if(u===g)s.push(r(o.number_));else if(u===b)n=s.pop(),t=s.pop(),i=o.index_,s.push(e&&"^"==i?"Math.pow("+t+","+n+")":"("+t+i+n+")");else if(u===y)s.push(o.index_);else if(u===v)t=s.pop(),i=o.index_,s.push("-"===i?"("+i+t+")":i+"("+t+")");else{if(u!==x)throw new Error("invalid Expression");t=s.pop(),i=s.pop(),s.push(i+"("+t+")")}}if(s.length>1)throw new Error("invalid Expression (parity)");return s[0]},variables:function(){for(var e=this.tokens.length,t=[],n=0;e>n;n++){var r=this.tokens[n];r.type_===y&&-1==t.indexOf(r.index_)&&t.push(r.index_)}return t},toJSFunction:function(e,t){var n=new Function(e,"with(Parser.values) { return "+this.simplify(t).toString(!0)+"; }");return n}},m.parse=function(e){return(new m).parse(e)},m.evaluate=function(e,t){return m.parse(e).evaluate(t)},m.Expression=n,m.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sqrt:Math.sqrt,log:Math.log,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,random:f,fac:h,exp:Math.exp,min:Math.min,max:Math.max,pyt:p,pow:Math.pow,atan2:Math.atan2,E:Math.E,PI:Math.PI};var C=1,k=2,_=4,A=8,E=16,L=32,T=64,P=128,I=256;return m.prototype={parse:function(r){this.errormsg="",this.success=!0;var i=[],o=[];this.tmpprio=0;var s=C|A|_|T,a=0;for(this.expression=r,this.pos=0;this.pos<this.expression.length;)if(this.isOperator())this.isSign()&&s&T?(this.isNegativeSign()&&(this.tokenprio=2,this.tokenindex="-",a++,this.addfunc(o,i,v)),s=C|A|_|T):this.isComment()||(0===(s&k)&&this.error_parsing(this.pos,"unexpected operator"),a+=2,this.addfunc(o,i,b),s=C|A|_|T);else if(this.isNumber()){0===(s&C)&&this.error_parsing(this.pos,"unexpected number");var l=new t(g,0,0,this.tokennumber);o.push(l),s=k|E|L}else if(this.isString()){0===(s&C)&&this.error_parsing(this.pos,"unexpected string");var l=new t(g,0,0,this.tokennumber);o.push(l),s=k|E|L}else if(this.isLeftParenth())0===(s&A)&&this.error_parsing(this.pos,'unexpected "("'),s&P&&(a+=2,this.tokenprio=-2,this.tokenindex=-1,this.addfunc(o,i,x)),s=C|A|_|T|I;else if(this.isRightParenth()){if(s&I){var l=new t(g,0,0,[]);o.push(l)}else 0===(s&E)&&this.error_parsing(this.pos,'unexpected ")"');s=k|E|L|A|P}else if(this.isComma())0===(s&L)&&this.error_parsing(this.pos,'unexpected ","'),this.addfunc(o,i,b),a+=2,s=C|A|_|T;else if(this.isConst()){0===(s&C)&&this.error_parsing(this.pos,"unexpected constant");var u=new t(g,0,0,this.tokennumber);o.push(u),s=k|E|L}else if(this.isOp2())0===(s&_)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(o,i,b),a+=2,s=A;else if(this.isOp1())0===(s&_)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(o,i,v),a++,s=A;else if(this.isVar()){0===(s&C)&&this.error_parsing(this.pos,"unexpected variable");var c=new t(y,this.tokenindex,0,0);o.push(c),s=k|E|L|A|P}else this.isWhite()||(""===this.errormsg?this.error_parsing(this.pos,"unknown character"):this.error_parsing(this.pos,this.errormsg));for((this.tmpprio<0||this.tmpprio>=10)&&this.error_parsing(this.pos,'unmatched "()"');i.length>0;){var f=i.pop();o.push(f)}return a+1!==o.length&&this.error_parsing(this.pos,"parity"),new n(o,e(this.ops1),e(this.ops2),e(this.functions))},evaluate:function(e,t){return this.parse(e).evaluate(t)},error_parsing:function(e,t){throw this.success=!1,this.errormsg="parse error [column "+e+"]: "+t,new Error(this.errormsg)},addfunc:function(e,n,r){for(var i=new t(r,this.tokenindex,this.tokenprio+this.tmpprio,0);n.length>0&&i.prio_<=n[n.length-1].prio_;)e.push(n.pop());n.push(i)},isNumber:function(){for(var e=!1,t="";this.pos<this.expression.length;){var n=this.expression.charCodeAt(this.pos);if(!(n>=48&&57>=n||46===n))break;t+=this.expression.charAt(this.pos),this.pos++,this.tokennumber=parseFloat(t),e=!0}return e},unescape:function(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var o=e.charAt(i);if(r){switch(o){case"'":n.push("'");break;case"\\":n.push("\\");break;case"/":n.push("/");break;case"b":n.push("\b");break;case"f":n.push("\f");break;case"n":n.push("\n");break;case"r":n.push("\r");break;case"t":n.push("  ");break;case"u":var s=parseInt(e.substring(i+1,i+5),16);n.push(String.fromCharCode(s)),i+=4;break;default:throw this.error_parsing(t+i,"Illegal escape sequence: '\\"+o+"'")}r=!1}else"\\"==o?r=!0:n.push(o)}return n.join("")},isString:function(){var e=!1,t="",n=this.pos;if(this.pos<this.expression.length&&"'"==this.expression.charAt(this.pos))for(this.pos++;this.pos<this.expression.length;){var r=this.expression.charAt(this.pos);if("'"==r&&"\\"!=t.slice(-1)){this.pos++,this.tokennumber=this.unescape(t,n),e=!0;break}t+=this.expression.charAt(this.pos),this.pos++}return e},isConst:function(){var e;for(var t in this.consts){var n=t.length;if(e=this.expression.substr(this.pos,n),t===e)return this.tokennumber=this.consts[t],this.pos+=n,!0}return!1},isOperator:function(){var e=this.expression.charCodeAt(this.pos);if(43===e)this.tokenprio=0,this.tokenindex="+";else if(45===e)this.tokenprio=0,this.tokenindex="-";else if(124===e){if(124!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=0,this.tokenindex="||"}else if(42===e)this.tokenprio=1,this.tokenindex="*";else if(47===e)this.tokenprio=2,this.tokenindex="/";else if(37===e)this.tokenprio=2,this.tokenindex="%";else{if(94!==e)return!1;this.tokenprio=3,this.tokenindex="^"}return this.pos++,!0},isSign:function(){var e=this.expression.charCodeAt(this.pos-1);return 45===e||43===e?!0:!1},isPositiveSign:function(){var e=this.expression.charCodeAt(this.pos-1);return 43===e?!0:!1},isNegativeSign:function(){var e=this.expression.charCodeAt(this.pos-1);return 45===e?!0:!1},isLeftParenth:function(){var e=this.expression.charCodeAt(this.pos);return 40===e?(this.pos++,this.tmpprio+=10,!0):!1},isRightParenth:function(){var e=this.expression.charCodeAt(this.pos);return 41===e?(this.pos++,this.tmpprio-=10,!0):!1},isComma:function(){var e=this.expression.charCodeAt(this.pos);return 44===e?(this.pos++,this.tokenprio=-1,this.tokenindex=",",!0):!1},isWhite:function(){var e=this.expression.charCodeAt(this.pos);return 32===e||9===e||10===e||13===e?(this.pos++,!0):!1},isOp1:function(){for(var e="",t=this.pos;t<this.expression.length;t++){var n=this.expression.charAt(t);if(n.toUpperCase()===n.toLowerCase()&&(t===this.pos||"_"!=n&&("0">n||n>"9")))break;e+=n}return e.length>0&&e in this.ops1?(this.tokenindex=e,this.tokenprio=5,this.pos+=e.length,!0):!1},isOp2:function(){for(var e="",t=this.pos;t<this.expression.length;t++){var n=this.expression.charAt(t);if(n.toUpperCase()===n.toLowerCase()&&(t===this.pos||"_"!=n&&("0">n||n>"9")))break;e+=n}return e.length>0&&e in this.ops2?(this.tokenindex=e,this.tokenprio=5,this.pos+=e.length,!0):!1},isVar:function(){for(var e="",t=this.pos;t<this.expression.length;t++){var n=this.expression.charAt(t);if(n.toUpperCase()===n.toLowerCase()&&(t===this.pos||"_"!=n&&("0">n||n>"9")))break;e+=n}return e.length>0?(this.tokenindex=e,this.tokenprio=4,this.pos+=e.length,!0):!1},isComment:function(){var e=this.expression.charCodeAt(this.pos-1);return 47===e&&42===this.expression.charCodeAt(this.pos)?(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0):!1}},m})},{}],74:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){for(var t=[],n=o(e);!n.eol();)","==n.peek()&&(t.push(s.trim(n.current())),n.next(),n.start=n.pos),n.next();return t.push(s.trim(n.current())),t.filter(function(e){return!!e})}function n(e){for(var n,r=null,i=o(e);!i.eol();){if("("==i.peek()){r=i.current(),i.start=i.pos,i.skipToPair("(",")",!0),n=i.current(),n=t(n.substring(1,n.length-1));break}i.next()}return r&&{name:r,args:n}}function r(e,t){if(/^['"]/.test(e))return e.replace(/^(['"])(.+?)\1$/,"$2");if(!isNaN(+e))return+e;if(e){for(var n=e.split("."),r=t;n.length;)r=r[n.shift()];return r}}function i(e,t){return e.replace(/<%[=\-](.+?)%>/g,function(e,i){i=s.trim(i);var o=n(i);if(o){var a=o.args.map(function(e){return r(e,t)});return t[o.name].apply(t,a)}return r(i,t)})}var o=e("../assets/stringStream"),s=e("./common");return function(e,t){return t?i(e,t):function(t){return i(e,t)}}})},{"../assets/stringStream":31,"./common":70}],75:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t,i){var o;return o=t&&t.hasOwnProperty("constructor")?t.constructor:function(){e.apply(this,arguments)},n.extend(o,e),r.prototype=e.prototype,o.prototype=new r,t&&n.extend(o.prototype,t),i&&n.extend(o,i),o.prototype.constructor=o,o.__super__=e.prototype,o}var n=e("../utils/common"),r=function(){};return{extend:function(e,n){var r=t(this,e,n);return r.extend=this.extend,e.hasOwnProperty("toString")&&(r.prototype.toString=e.toString),r}}})},{"../utils/common":70}],76:[function(e,t,n){/*!
 * string_score.js: String Scoring Algorithm 0.1.10
 *
 * http://joshaven.com/string_score
 * https://github.com/joshaven/string_score
 *
 * Copyright (C) 2009-2011 Joshaven Potter <yourtech@gmail.com>
 * Special thanks to all of the contributors listed here https://github.com/joshaven/string_score
 * MIT license: http://www.opensource.org/licenses/mit-license.php
 *
 * Date: Tue Mar 1 2011
*/
if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(){return{score:function(e,t,n){if(e==t)return 1;if(""==t)return 0;for(var r,i,o,s,a,l,u,c,f,h=0,p=t.length,d=e.length,m=1,g=0;p>g;++g){if(l=t.charAt(g),u=e.indexOf(l.toLowerCase()),c=e.indexOf(l.toUpperCase()),f=Math.min(u,c),a=f>-1?f:Math.max(u,c),-1===a){if(n){m+=1-n;continue}return 0}s=.1,e[a]===l&&(s+=.1),0===a?(s+=.6,0===g&&(r=1)):" "===e.charAt(a-1)&&(s+=.8),e=e.substring(a+1,d),h+=s}return i=h/p,o=(i*(p/d)+i)/2,o/=m,r&&1>o+.15&&(o+=.15),o}}})},{}]},{},[2,1])(2)}),window.Keytrap=function(){"use strict";function e(e){var t=e.keyCode||e.which,n=[t];return e.shiftKey&&16!==e.keyCode&&n.push(16),e.ctrlKey&&17!==e.keyCode&&n.push(17),e.altKey&&18!==e.keyCode&&n.push(18),e.metaKey&&91!==e.keyCode&&n.push(91),n.sort(),n.join("+")}function t(e){return l[e]?l[e]:e.toUpperCase().charCodeAt(0)}function n(e){for(var n=e.split("+"),r=[],i=0;i<n.length;i++)r.push(t(n[i]));return r.sort(),r.join("+")}function r(e){for(var t=[],r=e.split(","),i=0;i<r.length;i++)t.push(n(r[i]));return t}function i(e,t){if(s[t]){for(var n=s[t],r=0;r<n.length;r++)n[r](e);if(a[t]&&e)return jQuery.Event(e).stopPropagation(),!1}}function o(t){return i(t,e(t))}var s={},a={},l={backspace:8,tab:9,enter:13,"return":13,shift:16,ctrl:17,comctrl:17,alt:18,option:18,capslock:20,esc:27,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:46,meta:91,command:91,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,'"':222};return-1!==navigator.appVersion.indexOf("Mac")&&(l.comctrl=91),jQuery(document).on("keydown",o),{bind:function(e,t,n){for(var i=r(e),o=i.length-1;o>=0;o--)jQuery.isArray(s[i[o]])||(s[i[o]]=[]),s[i[o]].push(t),a[i[o]]=n?!0:!1},getKeyCode:function(e){return t(e)},getKeyEventID:function(t){return"string"==typeof t?n(t):e(t)},keyEventMatchesKeyCombo:function(t,r){return e(t)===n(r)},trigger:function(e,t){i(e,t)}}}(),/*!
 * typeahead.js 0.9.3
 * https://github.com/twitter/typeahead
 * Copyright 2013 Twitter, Inc. and other contributors; Licensed MIT
 */
function(e){var t="0.9.3",n={isMsie:function(){var e=/(msie) ([\w.]+)/i.exec(navigator.userAgent);return e?parseInt(e[2],10):!1},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return"undefined"==typeof e},bind:e.proxy,bindAll:function(t){var n;for(var r in t)e.isFunction(n=t[r])&&(t[r]=e.proxy(n,t))},indexOf:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},each:e.each,map:e.map,filter:e.grep,every:function(t,n){var r=!0;return t?(e.each(t,function(e,i){return(r=n.call(null,i,e,t))?void 0:!1}),!!r):r},some:function(t,n){var r=!1;return t?(e.each(t,function(e,i){return(r=n.call(null,i,e,t))?!1:void 0}),!!r):r},mixin:e.extend,getUniqueId:function(){var e=0;return function(){return e++}}(),defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var r,i;return function(){var o,s,a=this,l=arguments;return o=function(){r=null,n||(i=e.apply(a,l))},s=n&&!r,clearTimeout(r),r=setTimeout(o,t),s&&(i=e.apply(a,l)),i}},throttle:function(e,t){var n,r,i,o,s,a;return s=0,a=function(){s=new Date,i=null,o=e.apply(n,r)},function(){var l=new Date,u=t-(l-s);return n=this,r=arguments,0>=u?(clearTimeout(i),i=null,s=l,o=e.apply(n,r)):i||(i=setTimeout(a,u)),o}},tokenizeQuery:function(t){return e.trim(t).toLowerCase().split(/[\s]+/)},tokenizeText:function(t){return e.trim(t).toLowerCase().split(/[\s\-_]+/)},getProtocol:function(){return location.protocol},noop:function(){}},r=function(){var e=/\s+/;return{on:function(t,n){var r;if(!n)return this;for(this._callbacks=this._callbacks||{},t=t.split(e);r=t.shift();)this._callbacks[r]=this._callbacks[r]||[],this._callbacks[r].push(n);return this},trigger:function(t,n){var r,i;if(!this._callbacks)return this;for(t=t.split(e);r=t.shift();)if(i=this._callbacks[r])for(var o=0;o<i.length;o+=1)i[o].call(this,{type:r,data:n});return this}}}(),i=function(){function t(t){t&&t.el||e.error("EventBus initialized without el"),this.$el=e(t.el)}var r="typeahead:";return n.mixin(t.prototype,{trigger:function(e){var t=[].slice.call(arguments,1);this.$el.trigger(r+e,t)}}),t}(),o=function(){function e(e){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+this.prefix)}function t(){return(new Date).getTime()}function r(e){return JSON.stringify(n.isUndefined(e)?null:e)}function i(e){return JSON.parse(e)}var o,s;try{o=window.localStorage,o.setItem("~~~","!"),o.removeItem("~~~")}catch(a){o=null}return s=o&&window.JSON?{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},get:function(e){return this.isExpired(e)&&this.remove(e),i(o.getItem(this._prefix(e)))},set:function(e,i,s){return n.isNumber(s)?o.setItem(this._ttlKey(e),r(t()+s)):o.removeItem(this._ttlKey(e)),o.setItem(this._prefix(e),r(i))},remove:function(e){return o.removeItem(this._ttlKey(e)),o.removeItem(this._prefix(e)),this},clear:function(){var e,t,n=[],r=o.length;for(e=0;r>e;e++)(t=o.key(e)).match(this.keyMatcher)&&n.push(t.replace(this.keyMatcher,""));for(e=n.length;e--;)this.remove(n[e]);return this},isExpired:function(e){var r=i(o.getItem(this._ttlKey(e)));return n.isNumber(r)&&t()>r?!0:!1}}:{get:n.noop,set:n.noop,remove:n.noop,clear:n.noop,isExpired:n.noop},n.mixin(e.prototype,s),e}(),s=function(){function e(e){n.bindAll(this),e=e||{},this.sizeLimit=e.sizeLimit||10,this.cache={},this.cachedKeysByAge=[]}return n.mixin(e.prototype,{get:function(e){return this.cache[e]},set:function(e,t){var n;this.cachedKeysByAge.length===this.sizeLimit&&(n=this.cachedKeysByAge.shift(),delete this.cache[n]),this.cache[e]=t,this.cachedKeysByAge.push(e)}}),e}(),a=function(){function t(e){n.bindAll(this),e=n.isString(e)?{url:e}:e,l=l||new s,a=n.isNumber(e.maxParallelRequests)?e.maxParallelRequests:a||6,this.url=e.url,this.wildcard=e.wildcard||"%QUERY",this.filter=e.filter,this.replace=e.replace,this.ajaxSettings={type:"get",cache:e.cache,timeout:e.timeout,dataType:e.dataType||"json",beforeSend:e.beforeSend},this._get=(/^throttle$/i.test(e.rateLimitFn)?n.throttle:n.debounce)(this._get,e.rateLimitWait||300)}function r(){u++}function i(){u--}function o(){return a>u}var a,l,u=0,c={};return n.mixin(t.prototype,{_get:function(e,t){function n(n){var i=r.filter?r.filter(n):n;t&&t(i),l.set(e,n)}var r=this;o()?this._sendRequest(e).done(n):this.onDeckRequestArgs=[].slice.call(arguments,0)},_sendRequest:function(t){function n(){i(),c[t]=null,o.onDeckRequestArgs&&(o._get.apply(o,o.onDeckRequestArgs),o.onDeckRequestArgs=null)}var o=this,s=c[t];return s||(r(),s=c[t]=e.ajax(t,this.ajaxSettings).always(n)),s},get:function(e,t){var r,i,o=this,s=encodeURIComponent(e||"");return t=t||n.noop,r=this.replace?this.replace(this.url,s):this.url.replace(this.wildcard,s),(i=l.get(r))?n.defer(function(){t(o.filter?o.filter(i):i)}):this._get(r,t),!!i}}),t}(),l=function(){function r(t){n.bindAll(this),n.isString(t.template)&&!t.engine&&e.error("no template engine specified"),t.local||t.prefetch||t.remote||e.error("one of local, prefetch, or remote is required"),this.name=t.name||n.getUniqueId(),this.limit=t.limit||5,this.minLength=t.minLength||1,this.header=t.header,this.footer=t.footer,this.valueKey=t.valueKey||"value",this.template=i(t.template,t.engine,this.valueKey),this.local=t.local,this.prefetch=t.prefetch,this.remote=t.remote,this.itemHash={},this.adjacencyList={},this.storage=t.name?new o(t.name):null}function i(e,t,r){var i,o;return n.isFunction(e)?i=e:n.isString(e)?(o=t.compile(e),i=n.bind(o.render,o)):i=function(e){return"<p>"+e[r]+"</p>"},i}var s={thumbprint:"thumbprint",protocol:"protocol",itemHash:"itemHash",adjacencyList:"adjacencyList"};return n.mixin(r.prototype,{_processLocalData:function(e){this._mergeProcessedData(this._processData(e))},_loadPrefetchData:function(r){function i(e){var t=r.filter?r.filter(e):e,i=h._processData(t),o=i.itemHash,a=i.adjacencyList;h.storage&&(h.storage.set(s.itemHash,o,r.ttl),h.storage.set(s.adjacencyList,a,r.ttl),h.storage.set(s.thumbprint,p,r.ttl),h.storage.set(s.protocol,n.getProtocol(),r.ttl)),h._mergeProcessedData(i)}var o,a,l,u,c,f,h=this,p=t+(r.thumbprint||"");return this.storage&&(o=this.storage.get(s.thumbprint),a=this.storage.get(s.protocol),l=this.storage.get(s.itemHash),u=this.storage.get(s.adjacencyList)),c=o!==p||a!==n.getProtocol(),r=n.isString(r)?{url:r}:r,r.ttl=n.isNumber(r.ttl)?r.ttl:864e5,l&&u&&!c?(this._mergeProcessedData({itemHash:l,adjacencyList:u}),f=e.Deferred().resolve()):f=e.getJSON(r.url).done(i),f},_transformDatum:function(e){var t=n.isString(e)?e:e[this.valueKey],r=e.tokens||n.tokenizeText(t),i={value:t,tokens:r};return n.isString(e)?(i.datum={},i.datum[this.valueKey]=e):i.datum=e,i.tokens=n.filter(i.tokens,function(e){return!n.isBlankString(e)}),i.tokens=n.map(i.tokens,function(e){return e.toLowerCase()}),i},_processData:function(e){var t=this,r={},i={};return n.each(e,function(e,o){var s=t._transformDatum(o),a=n.getUniqueId(s.value);r[a]=s,n.each(s.tokens,function(e,t){var r=t.charAt(0),o=i[r]||(i[r]=[a]);!~n.indexOf(o,a)&&o.push(a)})}),{itemHash:r,adjacencyList:i}},_mergeProcessedData:function(e){var t=this;n.mixin(this.itemHash,e.itemHash),n.each(e.adjacencyList,function(e,n){var r=t.adjacencyList[e];t.adjacencyList[e]=r?r.concat(n):n})},_getLocalSuggestions:function(e){var t,r=this,i=[],o=[],s=[];return n.each(e,function(e,t){var r=t.charAt(0);!~n.indexOf(i,r)&&i.push(r)}),n.each(i,function(e,n){var i=r.adjacencyList[n];return i?(o.push(i),void((!t||i.length<t.length)&&(t=i))):!1}),o.length<i.length?[]:(n.each(t,function(t,i){var a,l,u=r.itemHash[i];a=n.every(o,function(e){return~n.indexOf(e,i)}),l=a&&n.every(e,function(e){return n.some(u.tokens,function(t){return 0===t.indexOf(e)})}),l&&s.push(u)}),s)},initialize:function(){var t;return this.local&&this._processLocalData(this.local),this.transport=this.remote?new a(this.remote):null,t=this.prefetch?this._loadPrefetchData(this.prefetch):e.Deferred().resolve(),this.local=this.prefetch=this.remote=null,this.initialize=function(){return t},t},getSuggestions:function(e,t){function r(e){o=o.slice(0),n.each(e,function(e,t){var r,i=s._transformDatum(t);return r=n.some(o,function(e){return i.value===e.value}),!r&&o.push(i),o.length<s.limit}),t&&t(o)}var i,o,s=this,a=!1;e.length<this.minLength||(i=n.tokenizeQuery(e),o=this._getLocalSuggestions(i).slice(0,this.limit),o.length<this.limit&&this.transport&&(a=this.transport.get(e,r)),!a&&t&&t(o))}}),r}(),u=function(){function t(t){var r=this;n.bindAll(this),this.specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},this.$hint=e(t.hint),this.$input=e(t.input).on("blur.tt",this._handleBlur).on("focus.tt",this._handleFocus).on("keydown.tt",this._handleSpecialKeyEvent),n.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){r.specialKeyCodeMap[e.which||e.keyCode]||n.defer(r._compareQueryToInputValue)}):this.$input.on("input.tt",this._compareQueryToInputValue),this.query=this.$input.val(),this.$overflowHelper=i(this.$input)}function i(t){return e("<span></span>").css({position:"absolute",left:"-9999px",visibility:"hidden",whiteSpace:"nowrap",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function o(e,t){return e=(e||"").replace(/^\s*/g,"").replace(/\s{2,}/g," "),t=(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," "),e===t}return n.mixin(t.prototype,r,{_handleFocus:function(){this.trigger("focused")},_handleBlur:function(){this.trigger("blured")},_handleSpecialKeyEvent:function(e){var t=this.specialKeyCodeMap[e.which||e.keyCode];t&&this.trigger(t+"Keyed",e)},_compareQueryToInputValue:function(){var e=this.query||[],t=this.getInputValue(),n=o(this.query,t),r=n?e.length!==t.length:!1;r?this.trigger("whitespaceChanged",{value:this.query}):n||this.trigger("queryChanged",{value:this.query=t})},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(e){this.query=e},getInputValue:function(){return this.$input.val()},setInputValue:function(e,t){this.$input.val(e),!t&&this._compareQueryToInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(e){this.$hint.val(e)},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},isOverflow:function(){return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>this.$input.width()},isCursorAtEnd:function(){var e,t=this.$input.val().length,r=this.$input[0].selectionStart;return n.isNumber(r)?r===t:document.selection?(e=document.selection.createRange(),e.moveStart("character",-t),t===e.text.length):!0}}),t}(),c=function(){function t(t){n.bindAll(this),this.isOpen=!1,this.isEmpty=!0,this.isMouseOverDropdown=!1,this.$menu=e(t.menu).on("mouseenter.tt",this._handleMouseenter).on("mouseleave.tt",this._handleMouseleave).on("click.tt",".tt-suggestion",this._handleSelection).on("mouseover.tt",".tt-suggestion",this._handleMouseover)}function i(e){return e.data("suggestion")}var o={suggestionsList:'<span class="tt-suggestions"></span>'},s={suggestionsList:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"}};return n.mixin(t.prototype,r,{_handleMouseenter:function(){this.isMouseOverDropdown=!0},_handleMouseleave:function(){this.isMouseOverDropdown=!1},_handleMouseover:function(t){var n=e(t.currentTarget);this._getSuggestions().removeClass("tt-is-under-cursor"),n.addClass("tt-is-under-cursor")},_handleSelection:function(t){var n=e(t.currentTarget);this.trigger("suggestionSelected",i(n))},_show:function(){this.$menu.css("display","block")},_hide:function(){this.$menu.hide()},_moveCursor:function(e){var t,n,r,o;if(this.isVisible()){if(t=this._getSuggestions(),n=t.filter(".tt-is-under-cursor"),n.removeClass("tt-is-under-cursor"),r=t.index(n)+e,r=(r+1)%(t.length+1)-1,-1===r)return void this.trigger("cursorRemoved");-1>r&&(r=t.length-1),o=t.eq(r).addClass("tt-is-under-cursor"),this._ensureVisibility(o),this.trigger("cursorMoved",i(o))}},_getSuggestions:function(){return this.$menu.find(".tt-suggestions > .tt-suggestion")},_ensureVisibility:function(e){var t=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),n=this.$menu.scrollTop(),r=e.position().top,i=r+e.outerHeight(!0);0>r?this.$menu.scrollTop(n+r):i>t&&this.$menu.scrollTop(n+(i-t))},destroy:function(){this.$menu.off(".tt"),this.$menu=null},isVisible:function(){return this.isOpen&&!this.isEmpty},closeUnlessMouseIsOverDropdown:function(){this.isMouseOverDropdown||this.close()},close:function(){this.isOpen&&(this.isOpen=!1,this.isMouseOverDropdown=!1,this._hide(),this.$menu.find(".tt-suggestions > .tt-suggestion").removeClass("tt-is-under-cursor"),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(e){var t={left:"0",right:"auto"},n={left:"auto",right:" 0"};this.$menu.css("ltr"===e?t:n)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getSuggestionUnderCursor:function(){var e=this._getSuggestions().filter(".tt-is-under-cursor").first();return e.length>0?i(e):null},getFirstSuggestion:function(){var e=this._getSuggestions().first();return e.length>0?i(e):null},renderSuggestions:function(t,r){var i,a,l,u,c,f="tt-dataset-"+t.name,h='<div class="tt-suggestion">%body</div>',p=this.$menu.find("."+f);0===p.length&&(a=e(o.suggestionsList).css(s.suggestionsList),p=e("<div></div>").addClass(f).append(t.header).append(a).append(t.footer).appendTo(this.$menu)),r.length>0?(this.isEmpty=!1,this.isOpen&&this._show(),l=document.createElement("div"),u=document.createDocumentFragment(),n.each(r,function(n,r){r.dataset=t.name,i=t.template(r.datum),l.innerHTML=h.replace("%body",i),c=e(l.firstChild).css(s.suggestion).data("suggestion",r),c.children().each(function(){e(this).css(s.suggestionChild)}),u.appendChild(c[0])}),p.show().find(".tt-suggestions").html(u)):this.clearSuggestions(t.name),this.trigger("suggestionsRendered")},clearSuggestions:function(e){var t=this.$menu.find(e?".tt-dataset-"+e:'[class^="tt-dataset-"]'),n=t.find(".tt-suggestions");t.hide(),n.empty(),0===this._getSuggestions().length&&(this.isEmpty=!0,this._hide())}}),t}(),f=function(){function t(e){var t,r,o;n.bindAll(this),this.$node=i(e.input),this.datasets=e.datasets,this.dir=null,this.eventBus=e.eventBus,t=this.$node.find(".tt-dropdown-menu"),r=this.$node.find(".tt-query"),o=this.$node.find(".tt-hint"),this.dropdownView=new c({menu:t}).on("suggestionSelected",this._handleSelection).on("cursorMoved",this._clearHint).on("cursorMoved",this._setInputValueToSuggestionUnderCursor).on("cursorRemoved",this._setInputValueToQuery).on("cursorRemoved",this._updateHint).on("suggestionsRendered",this._updateHint).on("opened",this._updateHint).on("closed",this._clearHint).on("opened closed",this._propagateEvent),this.inputView=new u({input:r,hint:o}).on("focused",this._openDropdown).on("blured",this._closeDropdown).on("blured",this._setInputValueToQuery).on("enterKeyed tabKeyed",this._handleSelection).on("queryChanged",this._clearHint).on("queryChanged",this._clearSuggestions).on("queryChanged",this._getSuggestions).on("whitespaceChanged",this._updateHint).on("queryChanged whitespaceChanged",this._openDropdown).on("queryChanged whitespaceChanged",this._setLanguageDirection).on("escKeyed",this._closeDropdown).on("escKeyed",this._setInputValueToQuery).on("tabKeyed upKeyed downKeyed",this._managePreventDefault).on("upKeyed downKeyed",this._moveDropdownCursor).on("upKeyed downKeyed",this._openDropdown).on("tabKeyed leftKeyed rightKeyed",this._autocomplete)}function i(t){var n=e(s.wrapper),r=e(s.dropdown),i=e(t),o=e(s.hint);n=n.css(a.wrapper),r=r.css(a.dropdown),o.css(a.hint).css({backgroundAttachment:i.css("background-attachment"),backgroundClip:i.css("background-clip"),backgroundColor:i.css("background-color"),backgroundImage:i.css("background-image"),backgroundOrigin:i.css("background-origin"),backgroundPosition:i.css("background-position"),backgroundRepeat:i.css("background-repeat"),backgroundSize:i.css("background-size")}),i.data("ttAttrs",{dir:i.attr("dir"),autocomplete:i.attr("autocomplete"),spellcheck:i.attr("spellcheck"),style:i.attr("style")}),i.addClass("tt-query").attr({autocomplete:"off",spellcheck:!1}).css(a.query);try{!i.attr("dir")&&i.attr("dir","auto")}catch(l){}return i.wrap(n).parent().prepend(o).append(r)}function o(e){var t=e.find(".tt-query");n.each(t.data("ttAttrs"),function(e,r){n.isUndefined(r)?t.removeAttr(e):t.attr(e,r)}),t.detach().removeData("ttAttrs").removeClass("tt-query").insertAfter(e),e.remove()}var s={wrapper:'<span class="twitter-typeahead"></span>',hint:'<input class="tt-hint" type="text" autocomplete="off" spellcheck="off" disabled>',dropdown:'<span class="tt-dropdown-menu"></span>'},a={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},query:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"}};return n.isMsie()&&n.mixin(a.query,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),n.isMsie()&&n.isMsie()<=7&&(n.mixin(a.wrapper,{display:"inline",zoom:"1"}),n.mixin(a.query,{marginTop:"-1px"})),n.mixin(t.prototype,r,{_managePreventDefault:function(e){var t,n,r=e.data,i=!1;switch(e.type){case"tabKeyed":t=this.inputView.getHintValue(),n=this.inputView.getInputValue(),i=t&&t!==n;break;case"upKeyed":case"downKeyed":i=!r.shiftKey&&!r.ctrlKey&&!r.metaKey}i&&r.preventDefault()},_setLanguageDirection:function(){var e=this.inputView.getLanguageDirection();e!==this.dir&&(this.dir=e,this.$node.css("direction",e),this.dropdownView.setLanguageDirection(e))},_updateHint:function(){var e,t,r,i,o,s=this.dropdownView.getFirstSuggestion(),a=s?s.value:null,l=this.dropdownView.isVisible(),u=this.inputView.isOverflow();a&&l&&!u&&(e=this.inputView.getInputValue(),t=e.replace(/\s{2,}/g," ").replace(/^\s+/g,""),r=n.escapeRegExChars(t),i=new RegExp("^(?:"+r+")(.*$)","i"),o=i.exec(a),this.inputView.setHintValue(e+(o?o[1]:"")))},_clearHint:function(){this.inputView.setHintValue("")},_clearSuggestions:function(){this.dropdownView.clearSuggestions()},_setInputValueToQuery:function(){this.inputView.setInputValue(this.inputView.getQuery())},_setInputValueToSuggestionUnderCursor:function(e){var t=e.data;this.inputView.setInputValue(t.value,!0)},_openDropdown:function(){this.dropdownView.open()},_closeDropdown:function(e){this.dropdownView["blured"===e.type?"closeUnlessMouseIsOverDropdown":"close"]()},_moveDropdownCursor:function(e){var t=e.data;t.shiftKey||t.ctrlKey||t.metaKey||this.dropdownView["upKeyed"===e.type?"moveCursorUp":"moveCursorDown"]()},_handleSelection:function(e){var t="suggestionSelected"===e.type,r=t?e.data:this.dropdownView.getSuggestionUnderCursor();r&&(this.inputView.setInputValue(r.value),t?this.inputView.focus():e.data.preventDefault(),t&&n.isMsie()?n.defer(this.dropdownView.close):this.dropdownView.close(),this.eventBus.trigger("selected",r.datum,r.dataset))},_getSuggestions:function(){var e=this,t=this.inputView.getQuery();n.isBlankString(t)||n.each(this.datasets,function(n,r){r.getSuggestions(t,function(n){t===e.inputView.getQuery()&&e.dropdownView.renderSuggestions(r,n)})})},_autocomplete:function(e){var t,n,r,i,o;("rightKeyed"!==e.type&&"leftKeyed"!==e.type||(t=this.inputView.isCursorAtEnd(),n="ltr"===this.inputView.getLanguageDirection()?"leftKeyed"===e.type:"rightKeyed"===e.type,t&&!n))&&(r=this.inputView.getQuery(),i=this.inputView.getHintValue(),""!==i&&r!==i&&(o=this.dropdownView.getFirstSuggestion(),this.inputView.setInputValue(o.value),this.eventBus.trigger("autocompleted",o.datum,o.dataset)))},_propagateEvent:function(e){this.eventBus.trigger(e.type)},destroy:function(){this.inputView.destroy(),this.dropdownView.destroy(),o(this.$node),this.$node=null},setQuery:function(e){this.inputView.setQuery(e),this.inputView.setInputValue(e),this._clearHint(),this._clearSuggestions(),this._getSuggestions()}}),t}();!function(){var t,r={},o="ttView";t={initialize:function(t){function s(){var t,r=e(this),s=new i({el:r});t=n.map(a,function(e){return e.initialize()}),r.data(o,new f({input:r,eventBus:s=new i({el:r}),datasets:a})),e.when.apply(e,t).always(function(){n.defer(function(){s.trigger("initialized")})})}var a;return t=n.isArray(t)?t:[t],0===t.length&&e.error("no datasets provided"),a=n.map(t,function(e){var t=r[e.name]?r[e.name]:new l(e);return e.name&&(r[e.name]=t),t}),this.each(s)},destroy:function(){function t(){var t=e(this),n=t.data(o);n&&(n.destroy(),t.removeData(o))}return this.each(t)},setQuery:function(t){function n(){var n=e(this).data(o);n&&n.setQuery(t)}return this.each(n)}},jQuery.fn.typeahead=function(e){return t[e]?t[e].apply(this,[].slice.call(arguments,1)):t.initialize.apply(this,arguments)}}()}(window.jQuery),/*
  Copyright (C) 2013 Ariya Hidayat <ariya.hidayat@gmail.com>
  Copyright (C) 2013 Thaddee Tyl <thaddee.tyl@gmail.com>
  Copyright (C) 2013 Mathias Bynens <mathias@qiwi.be>
  Copyright (C) 2012 Ariya Hidayat <ariya.hidayat@gmail.com>
  Copyright (C) 2012 Mathias Bynens <mathias@qiwi.be>
  Copyright (C) 2012 Joost-Wim Boekesteijn <joost-wim@boekesteijn.nl>
  Copyright (C) 2012 Kris Kowal <kris.kowal@cixar.com>
  Copyright (C) 2012 Yusuke Suzuki <utatane.tea@gmail.com>
  Copyright (C) 2012 Arpad Borsos <arpad.borsos@googlemail.com>
  Copyright (C) 2011 Ariya Hidayat <ariya.hidayat@gmail.com>

  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY
  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
function(e,t){"use strict";"function"==typeof define&&define.amd?define(["exports"],t):t("undefined"!=typeof exports?exports:e.esprima={})}(this,function(e){"use strict";function t(e,t){if(!e)throw new Error("ASSERT: "+t)}function n(e){return e>=48&&57>=e}function r(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function i(e){return"01234567".indexOf(e)>=0}function o(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function s(e){return 10===e||13===e||8232===e||8233===e}function a(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||92===e||e>=128&&gn.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function l(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||e>=48&&57>=e||92===e||e>=128&&gn.NonAsciiIdentifierPart.test(String.fromCharCode(e))}function u(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function c(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function f(e){return"eval"===e||"arguments"===e}function h(e){if(bn&&c(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}function p(e,n,r,i,o){var s;t("number"==typeof r,"Comment must have valid position"),kn.lastCommentStart>=r||(kn.lastCommentStart=r,s={type:e,value:n},_n.range&&(s.range=[r,i]),_n.loc&&(s.loc=o),_n.comments.push(s),_n.attachComment&&(_n.leadingComments.push(s),_n.trailingComments.push(s)))}function d(e){var t,n,r,i;for(t=yn-e,n={start:{line:xn,column:yn-wn-e}};Sn>yn;)if(r=vn.charCodeAt(yn),++yn,s(r))return _n.comments&&(i=vn.slice(t+e,yn-1),n.end={line:xn,column:yn-wn-1},p("Line",i,t,yn-1,n)),13===r&&10===vn.charCodeAt(yn)&&++yn,++xn,void(wn=yn);_n.comments&&(i=vn.slice(t+e,yn),n.end={line:xn,column:yn-wn},p("Line",i,t,yn,n))}function m(){var e,t,n,r;for(_n.comments&&(e=yn-2,t={start:{line:xn,column:yn-wn-2}});Sn>yn;)if(n=vn.charCodeAt(yn),s(n))13===n&&10===vn.charCodeAt(yn+1)&&++yn,++xn,++yn,wn=yn,yn>=Sn&&q({},mn.UnexpectedToken,"ILLEGAL");else if(42===n){if(47===vn.charCodeAt(yn+1))return++yn,++yn,void(_n.comments&&(r=vn.slice(e+2,yn-2),t.end={line:xn,column:yn-wn},p("Block",r,e,yn,t)));++yn}else++yn;q({},mn.UnexpectedToken,"ILLEGAL")}function g(){var e,t;for(t=0===yn;Sn>yn;)if(e=vn.charCodeAt(yn),o(e))++yn;else if(s(e))++yn,13===e&&10===vn.charCodeAt(yn)&&++yn,++xn,wn=yn,t=!0;else if(47===e)if(e=vn.charCodeAt(yn+1),47===e)++yn,++yn,d(2),t=!0;else{if(42!==e)break;++yn,++yn,m()}else if(t&&45===e){if(45!==vn.charCodeAt(yn+1)||62!==vn.charCodeAt(yn+2))break;yn+=3,d(3)}else{if(60!==e)break;if("!--"!==vn.slice(yn+1,yn+4))break;++yn,++yn,++yn,++yn,d(4)}}function v(e){var t,n,i,o=0;for(n="u"===e?4:2,t=0;n>t;++t){if(!(Sn>yn&&r(vn[yn])))return"";i=vn[yn++],o=16*o+"0123456789abcdef".indexOf(i.toLowerCase())}return String.fromCharCode(o)}function b(){var e,t,n,i;for(e=vn[yn],t=0,"}"===e&&q({},mn.UnexpectedToken,"ILLEGAL");Sn>yn&&(e=vn[yn++],r(e));)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&q({},mn.UnexpectedToken,"ILLEGAL"),65535>=t?String.fromCharCode(t):(n=(t-65536>>10)+55296,i=(t-65536&1023)+56320,String.fromCharCode(n,i))}function y(){var e,t;for(e=vn.charCodeAt(yn++),t=String.fromCharCode(e),92===e&&(117!==vn.charCodeAt(yn)&&q({},mn.UnexpectedToken,"ILLEGAL"),++yn,e=v("u"),e&&"\\"!==e&&a(e.charCodeAt(0))||q({},mn.UnexpectedToken,"ILLEGAL"),t=e);Sn>yn&&(e=vn.charCodeAt(yn),l(e));)++yn,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==vn.charCodeAt(yn)&&q({},mn.UnexpectedToken,"ILLEGAL"),++yn,e=v("u"),e&&"\\"!==e&&l(e.charCodeAt(0))||q({},mn.UnexpectedToken,"ILLEGAL"),t+=e);return t}function x(){var e,t;for(e=yn++;Sn>yn;){if(t=vn.charCodeAt(yn),92===t)return yn=e,y();if(!l(t))break;++yn}return vn.slice(e,yn)}function w(){var e,t,n;return e=yn,t=92===vn.charCodeAt(yn)?y():x(),n=1===t.length?un.Identifier:h(t)?un.Keyword:"null"===t?un.NullLiteral:"true"===t||"false"===t?un.BooleanLiteral:un.Identifier,{type:n,value:t,lineNumber:xn,lineStart:wn,start:e,end:yn}}function S(){var e,t,n,r,i=yn,o=vn.charCodeAt(yn),s=vn[yn];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++yn,_n.tokenize&&(40===o?_n.openParenToken=_n.tokens.length:123===o&&(_n.openCurlyToken=_n.tokens.length)),{type:un.Punctuator,value:String.fromCharCode(o),lineNumber:xn,lineStart:wn,start:i,end:yn};default:if(e=vn.charCodeAt(yn+1),61===e)switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return yn+=2,{type:un.Punctuator,value:String.fromCharCode(o)+String.fromCharCode(e),lineNumber:xn,lineStart:wn,start:i,end:yn};case 33:case 61:return yn+=2,61===vn.charCodeAt(yn)&&++yn,{type:un.Punctuator,value:vn.slice(i,yn),lineNumber:xn,lineStart:wn,start:i,end:yn}}}return r=vn.substr(yn,4),">>>="===r?(yn+=4,{type:un.Punctuator,value:r,lineNumber:xn,lineStart:wn,start:i,end:yn}):(n=r.substr(0,3),">>>"===n||"<<="===n||">>="===n?(yn+=3,{type:un.Punctuator,value:n,lineNumber:xn,lineStart:wn,start:i,end:yn}):(t=n.substr(0,2),s===t[1]&&"+-<>&|".indexOf(s)>=0||"=>"===t?(yn+=2,{type:un.Punctuator,value:t,lineNumber:xn,lineStart:wn,start:i,end:yn}):"<>=!+-*%&|^/".indexOf(s)>=0?(++yn,{type:un.Punctuator,value:s,lineNumber:xn,lineStart:wn,start:i,end:yn}):void q({},mn.UnexpectedToken,"ILLEGAL")))}function C(e){for(var t="";Sn>yn&&r(vn[yn]);)t+=vn[yn++];return 0===t.length&&q({},mn.UnexpectedToken,"ILLEGAL"),a(vn.charCodeAt(yn))&&q({},mn.UnexpectedToken,"ILLEGAL"),{type:un.NumericLiteral,value:parseInt("0x"+t,16),lineNumber:xn,lineStart:wn,start:e,end:yn}}function k(e){for(var t="0"+vn[yn++];Sn>yn&&i(vn[yn]);)t+=vn[yn++];return(a(vn.charCodeAt(yn))||n(vn.charCodeAt(yn)))&&q({},mn.UnexpectedToken,"ILLEGAL"),{type:un.NumericLiteral,value:parseInt(t,8),octal:!0,lineNumber:xn,lineStart:wn,start:e,end:yn}}function _(){var e,r,o;if(o=vn[yn],t(n(o.charCodeAt(0))||"."===o,"Numeric literal must start with a decimal digit or a decimal point"),r=yn,e="","."!==o){if(e=vn[yn++],o=vn[yn],"0"===e){if("x"===o||"X"===o)return++yn,C(r);if(i(o))return k(r);o&&n(o.charCodeAt(0))&&q({},mn.UnexpectedToken,"ILLEGAL")}for(;n(vn.charCodeAt(yn));)e+=vn[yn++];o=vn[yn]}if("."===o){for(e+=vn[yn++];n(vn.charCodeAt(yn));)e+=vn[yn++];o=vn[yn]}if("e"===o||"E"===o)if(e+=vn[yn++],o=vn[yn],("+"===o||"-"===o)&&(e+=vn[yn++]),n(vn.charCodeAt(yn)))for(;n(vn.charCodeAt(yn));)e+=vn[yn++];else q({},mn.UnexpectedToken,"ILLEGAL");return a(vn.charCodeAt(yn))&&q({},mn.UnexpectedToken,"ILLEGAL"),{type:un.NumericLiteral,value:parseFloat(e),lineNumber:xn,lineStart:wn,start:r,end:yn}}function A(){var e,n,r,o,a,l,u,c,f="",h=!1;for(u=xn,c=wn,e=vn[yn],t("'"===e||'"'===e,"String literal must starts with a quote"),n=yn,++yn;Sn>yn;){if(r=vn[yn++],r===e){e="";break}if("\\"===r)if(r=vn[yn++],r&&s(r.charCodeAt(0)))++xn,"\r"===r&&"\n"===vn[yn]&&++yn,wn=yn;else switch(r){case"u":case"x":"{"===vn[yn]?(++yn,f+=b()):(l=yn,a=v(r),a?f+=a:(yn=l,f+=r));break;case"n":f+="\n";break;case"r":f+="\r";break;case"t":f+="	";break;case"b":f+="\b";break;case"f":f+="\f";break;case"v":f+="";break;default:i(r)?(o="01234567".indexOf(r),0!==o&&(h=!0),Sn>yn&&i(vn[yn])&&(h=!0,o=8*o+"01234567".indexOf(vn[yn++]),"0123".indexOf(r)>=0&&Sn>yn&&i(vn[yn])&&(o=8*o+"01234567".indexOf(vn[yn++]))),f+=String.fromCharCode(o)):f+=r}else{if(s(r.charCodeAt(0)))break;f+=r}}return""!==e&&q({},mn.UnexpectedToken,"ILLEGAL"),{type:un.StringLiteral,value:f,octal:h,startLineNumber:u,startLineStart:c,lineNumber:xn,lineStart:wn,start:n,end:yn}}function E(e,t){var n,r=e;t.indexOf("u")>=0&&(r=r.replace(/\\u\{([0-9a-fA-F]{5,6})\}/g,"x").replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{n=new RegExp(r)}catch(i){q({},mn.InvalidRegExp)}try{return new RegExp(e,t)}catch(o){return null}}function L(){var e,n,r,i,o;for(e=vn[yn],t("/"===e,"Regular expression literal must start with a slash"),n=vn[yn++],r=!1,i=!1;Sn>yn;)if(e=vn[yn++],n+=e,"\\"===e)e=vn[yn++],s(e.charCodeAt(0))&&q({},mn.UnterminatedRegExp),n+=e;else if(s(e.charCodeAt(0)))q({},mn.UnterminatedRegExp);else if(r)"]"===e&&(r=!1);else{if("/"===e){i=!0;break}"["===e&&(r=!0)}return i||q({},mn.UnterminatedRegExp),o=n.substr(1,n.length-2),{value:o,literal:n}}function T(){var e,t,n,r;for(t="",n="";Sn>yn&&(e=vn[yn],l(e.charCodeAt(0)));)if(++yn,"\\"===e&&Sn>yn)if(e=vn[yn],"u"===e){if(++yn,r=yn,e=v("u"))for(n+=e,t+="\\u";yn>r;++r)t+=vn[r];else yn=r,n+="u",t+="\\u";U({},mn.UnexpectedToken,"ILLEGAL")}else t+="\\",U({},mn.UnexpectedToken,"ILLEGAL");else n+=e,t+=e;return{value:n,literal:t}}function P(){var e,t,n,r;return Cn=null,g(),e=yn,t=L(),n=T(),r=E(t.value,n.value),_n.tokenize?{type:un.RegularExpression,value:r,regex:{pattern:t.value,flags:n.value},lineNumber:xn,lineStart:wn,start:e,end:yn}:{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:yn}}function I(){var e,t,n,r;return g(),e=yn,t={start:{line:xn,column:yn-wn}},n=P(),t.end={line:xn,column:yn-wn},_n.tokenize||(_n.tokens.length>0&&(r=_n.tokens[_n.tokens.length-1],r.range[0]===e&&"Punctuator"===r.type&&("/"===r.value||"/="===r.value)&&_n.tokens.pop()),_n.tokens.push({type:"RegularExpression",value:n.literal,regex:n.regex,range:[e,yn],loc:t})),n}function M(e){return e.type===un.Identifier||e.type===un.Keyword||e.type===un.BooleanLiteral||e.type===un.NullLiteral}function O(){var e,t;if(e=_n.tokens[_n.tokens.length-1],!e)return I();if("Punctuator"===e.type){if("]"===e.value)return S();if(")"===e.value)return t=_n.tokens[_n.openParenToken-1],!t||"Keyword"!==t.type||"if"!==t.value&&"while"!==t.value&&"for"!==t.value&&"with"!==t.value?S():I();if("}"===e.value){if(_n.tokens[_n.openCurlyToken-3]&&"Keyword"===_n.tokens[_n.openCurlyToken-3].type){if(t=_n.tokens[_n.openCurlyToken-4],!t)return S()}else{if(!_n.tokens[_n.openCurlyToken-4]||"Keyword"!==_n.tokens[_n.openCurlyToken-4].type)return S();if(t=_n.tokens[_n.openCurlyToken-5],!t)return I()}return fn.indexOf(t.value)>=0?S():I()}return I()}return"Keyword"===e.type?I():S()}function z(){var e;return g(),yn>=Sn?{type:un.EOF,lineNumber:xn,lineStart:wn,start:yn,end:yn}:(e=vn.charCodeAt(yn),a(e)?w():40===e||41===e||59===e?S():39===e||34===e?A():46===e?n(vn.charCodeAt(yn+1))?_():S():n(e)?_():_n.tokenize&&47===e?O():S())}function N(){var e,t,n,r;return g(),e={start:{line:xn,column:yn-wn}},t=z(),e.end={line:xn,column:yn-wn},t.type!==un.EOF&&(n=vn.slice(t.start,t.end),r={type:cn[t.type],value:n,range:[t.start,t.end],loc:e},t.regex&&(r.regex={pattern:t.regex.pattern,flags:t.regex.flags}),_n.tokens.push(r)),t}function D(){var e;return e=Cn,yn=e.end,xn=e.lineNumber,wn=e.lineStart,Cn="undefined"!=typeof _n.tokens?N():z(),yn=e.end,xn=e.lineNumber,wn=e.lineStart,e}function R(){var e,t,n;e=yn,t=xn,n=wn,Cn="undefined"!=typeof _n.tokens?N():z(),yn=e,xn=t,wn=n}function j(){this.line=xn,this.column=yn-wn}function $(){this.start=new j,this.end=null}function W(e){this.start=e.type===un.StringLiteral?{line:e.startLineNumber,column:e.start-e.startLineStart}:{line:e.lineNumber,column:e.start-e.lineStart},this.end=null}function F(){yn=Cn.start,Cn.type===un.StringLiteral?(xn=Cn.startLineNumber,wn=Cn.startLineStart):(xn=Cn.lineNumber,wn=Cn.lineStart),_n.range&&(this.range=[yn,0]),_n.loc&&(this.loc=new $)}function H(e){_n.range&&(this.range=[e.start,0]),_n.loc&&(this.loc=new W(e))}function B(){var e,t,n,r;return e=yn,t=xn,n=wn,g(),r=xn!==t,yn=e,xn=t,wn=n,r}function q(e,n){var r,i=Array.prototype.slice.call(arguments,2),o=n.replace(/%(\d)/g,function(e,n){return t(n<i.length,"Message reference must be in range"),i[n]});throw"number"==typeof e.lineNumber?(r=new Error("Line "+e.lineNumber+": "+o),r.index=e.start,r.lineNumber=e.lineNumber,r.column=e.start-wn+1):(r=new Error("Line "+xn+": "+o),r.index=yn,r.lineNumber=xn,r.column=yn-wn+1),r.description=o,r}function U(){try{q.apply(null,arguments)}catch(e){if(!_n.errors)throw e;_n.errors.push(e)}}function V(e){if(e.type===un.EOF&&q(e,mn.UnexpectedEOS),e.type===un.NumericLiteral&&q(e,mn.UnexpectedNumber),e.type===un.StringLiteral&&q(e,mn.UnexpectedString),e.type===un.Identifier&&q(e,mn.UnexpectedIdentifier),e.type===un.Keyword){if(u(e.value))q(e,mn.UnexpectedReserved);else if(bn&&c(e.value))return void U(e,mn.StrictReservedWord);q(e,mn.UnexpectedToken,e.value)}q(e,mn.UnexpectedToken,e.value)}function G(e){var t=D();(t.type!==un.Punctuator||t.value!==e)&&V(t)}function K(e){if(_n.errors){var t=Cn;t.type!==un.Punctuator&&t.value!==e?U(t,mn.UnexpectedToken,t.value):D()}else G(e)}function Y(e){var t=D();(t.type!==un.Keyword||t.value!==e)&&V(t)}function X(e){return Cn.type===un.Punctuator&&Cn.value===e}function Q(e){return Cn.type===un.Keyword&&Cn.value===e}function J(){var e;return Cn.type!==un.Punctuator?!1:(e=Cn.value,"="===e||"*="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e)}function Z(){var e;return 59===vn.charCodeAt(yn)||X(";")?void D():(e=xn,g(),void(xn===e&&(Cn.type===un.EOF||X("}")||V(Cn))))}function et(e){return e.type===hn.Identifier||e.type===hn.MemberExpression}function tt(){var e=[],t=new F;for(G("[");!X("]");)X(",")?(D(),e.push(null)):(e.push(Ct()),X("]")||G(","));return D(),t.finishArrayExpression(e)}function nt(e,t){var n,r,i=new F;return n=bn,r=Xt(),t&&bn&&f(e[0].name)&&U(t,mn.StrictParamName),bn=n,i.finishFunctionExpression(null,e,[],r)}function rt(){var e,t=new F;return e=D(),e.type===un.StringLiteral||e.type===un.NumericLiteral?(bn&&e.octal&&U(e,mn.StrictOctalLiteral),t.finishLiteral(e)):t.finishIdentifier(e.value)}function it(){var e,t,n,r,i,o=new F;return e=Cn,e.type===un.Identifier?(n=rt(),"get"!==e.value||X(":")?"set"!==e.value||X(":")?(G(":"),r=Ct(),o.finishProperty("init",n,r)):(t=rt(),G("("),e=Cn,e.type!==un.Identifier?(G(")"),U(e,mn.UnexpectedToken,e.value),r=nt([])):(i=[Et()],G(")"),r=nt(i,e)),o.finishProperty("set",t,r)):(t=rt(),G("("),G(")"),r=nt([]),o.finishProperty("get",t,r))):e.type!==un.EOF&&e.type!==un.Punctuator?(t=rt(),G(":"),r=Ct(),o.finishProperty("init",t,r)):void V(e)}function ot(){var e,t,n,r,i=[],o={},s=String,a=new F;for(G("{");!X("}");)e=it(),t=e.key.type===hn.Identifier?e.key.name:s(e.key.value),r="init"===e.kind?dn.Data:"get"===e.kind?dn.Get:dn.Set,n="$"+t,Object.prototype.hasOwnProperty.call(o,n)?(o[n]===dn.Data?bn&&r===dn.Data?U({},mn.StrictDuplicateProperty):r!==dn.Data&&U({},mn.AccessorDataProperty):r===dn.Data?U({},mn.AccessorDataProperty):o[n]&r&&U({},mn.AccessorGetSet),o[n]|=r):o[n]=r,i.push(e),X("}")||K(",");return G("}"),a.finishObjectExpression(i)}function st(){var e;return G("("),X(")")?(D(),pn.ArrowParameterPlaceHolder):(++kn.parenthesisCount,e=kt(),G(")"),e)}function at(){var e,t,n,r;if(X("("))return st();if(X("["))return tt();if(X("{"))return ot();if(e=Cn.type,r=new F,e===un.Identifier)n=r.finishIdentifier(D().value);else if(e===un.StringLiteral||e===un.NumericLiteral)bn&&Cn.octal&&U(Cn,mn.StrictOctalLiteral),n=r.finishLiteral(D());else if(e===un.Keyword){if(Q("function"))return tn();Q("this")?(D(),n=r.finishThisExpression()):V(D())}else e===un.BooleanLiteral?(t=D(),t.value="true"===t.value,n=r.finishLiteral(t)):e===un.NullLiteral?(t=D(),t.value=null,n=r.finishLiteral(t)):X("/")||X("/=")?(n=r.finishLiteral("undefined"!=typeof _n.tokens?I():P()),R()):V(D());return n}function lt(){var e=[];if(G("("),!X(")"))for(;Sn>yn&&(e.push(Ct()),!X(")"));)K(",");return G(")"),e}function ut(){var e,t=new F;return e=D(),M(e)||V(e),t.finishIdentifier(e.value)}function ct(){return G("."),ut()}function ft(){var e;return G("["),e=kt(),G("]"),e}function ht(){var e,t,n=new F;return Y("new"),e=dt(),t=X("(")?lt():[],n.finishNewExpression(e,t)}function pt(){var e,t,n,r,i=kn.allowIn;for(r=Cn,kn.allowIn=!0,e=Q("new")?ht():at();;)if(X("."))n=ct(),e=new H(r).finishMemberExpression(".",e,n);else if(X("("))t=lt(),e=new H(r).finishCallExpression(e,t);else{if(!X("["))break;n=ft(),e=new H(r).finishMemberExpression("[",e,n)}return kn.allowIn=i,e}function dt(){var e,n,r;for(t(kn.allowIn,"callee of new expression always allow in keyword."),r=Cn,e=Q("new")?ht():at();;)if(X("["))n=ft(),e=new H(r).finishMemberExpression("[",e,n);else{if(!X("."))break;n=ct(),e=new H(r).finishMemberExpression(".",e,n)}return e}function mt(){var e,t,n=Cn;return e=pt(),Cn.type===un.Punctuator&&(!X("++")&&!X("--")||B()||(bn&&e.type===hn.Identifier&&f(e.name)&&U({},mn.StrictLHSPostfix),et(e)||U({},mn.InvalidLHSInAssignment),t=D(),e=new H(n).finishPostfixExpression(t.value,e))),e}function gt(){var e,t,n;return Cn.type!==un.Punctuator&&Cn.type!==un.Keyword?t=mt():X("++")||X("--")?(n=Cn,e=D(),t=gt(),bn&&t.type===hn.Identifier&&f(t.name)&&U({},mn.StrictLHSPrefix),et(t)||U({},mn.InvalidLHSInAssignment),t=new H(n).finishUnaryExpression(e.value,t)):X("+")||X("-")||X("~")||X("!")?(n=Cn,e=D(),t=gt(),t=new H(n).finishUnaryExpression(e.value,t)):Q("delete")||Q("void")||Q("typeof")?(n=Cn,e=D(),t=gt(),t=new H(n).finishUnaryExpression(e.value,t),bn&&"delete"===t.operator&&t.argument.type===hn.Identifier&&U({},mn.StrictDelete)):t=mt(),t}function vt(e,t){var n=0;if(e.type!==un.Punctuator&&e.type!==un.Keyword)return 0;switch(e.value){case"||":n=1;break;case"&&":n=2;break;case"|":n=3;break;case"^":n=4;break;case"&":n=5;break;case"==":case"!=":case"===":case"!==":n=6;break;case"<":case">":case"<=":case">=":case"instanceof":n=7;break;case"in":n=t?7:0;break;case"<<":case">>":case">>>":n=8;break;case"+":case"-":n=9;break;case"*":case"/":case"%":n=11}return n}function bt(){var e,t,n,r,i,o,s,a,l,u;if(e=Cn,l=gt(),l===pn.ArrowParameterPlaceHolder)return l;if(r=Cn,i=vt(r,kn.allowIn),0===i)return l;for(r.prec=i,D(),t=[e,Cn],s=gt(),o=[l,r,s];(i=vt(Cn,kn.allowIn))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=new H(t[t.length-1]).finishBinaryExpression(a,l,s),o.push(n);r=D(),r.prec=i,o.push(r),t.push(Cn),n=gt(),o.push(n)}for(u=o.length-1,n=o[u],t.pop();u>1;)n=new H(t.pop()).finishBinaryExpression(o[u-1].value,o[u-2],n),u-=2;return n}function yt(){var e,t,n,r,i;return i=Cn,e=bt(),e===pn.ArrowParameterPlaceHolder?e:(X("?")&&(D(),t=kn.allowIn,kn.allowIn=!0,n=Ct(),kn.allowIn=t,G(":"),r=Ct(),e=new H(i).finishConditionalExpression(e,n,r)),e)}function xt(){return X("{")?Xt():Ct()}function wt(e){var t,n,r,i,o,s,a,l;for(i=[],o=[],s=0,l=null,a={paramSet:{}},t=0,n=e.length;n>t;t+=1)if(r=e[t],r.type===hn.Identifier)i.push(r),o.push(null),Qt(a,r,r.name);else{if(r.type!==hn.AssignmentExpression)return null;i.push(r.left),o.push(r.right),++s,Qt(a,r.left,r.left.name)}return a.message===mn.StrictParamDupe&&q(bn?a.stricted:a.firstRestricted,a.message),0===s&&(o=[]),{params:i,defaults:o,rest:l,stricted:a.stricted,firstRestricted:a.firstRestricted,message:a.message}}function St(e,t){var n,r;return G("=>"),n=bn,r=xt(),bn&&e.firstRestricted&&q(e.firstRestricted,e.message),bn&&e.stricted&&U(e.stricted,e.message),bn=n,t.finishArrowFunctionExpression(e.params,e.defaults,r,r.type!==hn.BlockStatement)}function Ct(){var e,t,n,r,i,o;return e=kn.parenthesisCount,o=Cn,t=Cn,n=yt(),n!==pn.ArrowParameterPlaceHolder&&!X("=>")||kn.parenthesisCount!==e&&kn.parenthesisCount!==e+1||(n.type===hn.Identifier?i=wt([n]):n.type===hn.AssignmentExpression?i=wt([n]):n.type===hn.SequenceExpression?i=wt(n.expressions):n===pn.ArrowParameterPlaceHolder&&(i=wt([])),!i)?(J()&&(et(n)||U({},mn.InvalidLHSInAssignment),bn&&n.type===hn.Identifier&&f(n.name)&&U(t,mn.StrictLHSAssignment),t=D(),r=Ct(),n=new H(o).finishAssignmentExpression(t.value,n,r)),n):St(i,new H(o))}function kt(){var e,t,n=Cn;if(e=Ct(),X(",")){for(t=[e];Sn>yn&&X(",");)D(),t.push(Ct());e=new H(n).finishSequenceExpression(t)}return e}function _t(){for(var e,t=[];Sn>yn&&!X("}")&&(e=nn(),"undefined"!=typeof e);)t.push(e);return t}function At(){var e,t=new F;return G("{"),e=_t(),G("}"),t.finishBlockStatement(e)}function Et(){var e,t=new F;return e=D(),e.type!==un.Identifier&&V(e),t.finishIdentifier(e.value)}function Lt(e){var t,n=null,r=new F;return t=Et(),bn&&f(t.name)&&U({},mn.StrictVarName),"const"===e?(G("="),n=Ct()):X("=")&&(D(),n=Ct()),r.finishVariableDeclarator(t,n)}function Tt(e){var t=[];do{if(t.push(Lt(e)),!X(","))break;D()}while(Sn>yn);return t}function Pt(e){var t;return Y("var"),t=Tt(),Z(),e.finishVariableDeclaration(t,"var")}function It(e){var t,n=new F;return Y(e),t=Tt(e),Z(),n.finishVariableDeclaration(t,e)}function Mt(){var e=new F;return G(";"),e.finishEmptyStatement()}function Ot(e){var t=kt();return Z(),e.finishExpressionStatement(t)}function zt(e){var t,n,r;return Y("if"),G("("),t=kt(),G(")"),n=Yt(),Q("else")?(D(),r=Yt()):r=null,e.finishIfStatement(t,n,r)}function Nt(e){var t,n,r;return Y("do"),r=kn.inIteration,kn.inIteration=!0,t=Yt(),kn.inIteration=r,Y("while"),G("("),n=kt(),G(")"),X(";")&&D(),e.finishDoWhileStatement(t,n)}function Dt(e){var t,n,r;return Y("while"),G("("),t=kt(),G(")"),r=kn.inIteration,kn.inIteration=!0,n=Yt(),kn.inIteration=r,e.finishWhileStatement(t,n)}function Rt(){var e,t,n=new F;return e=D(),t=Tt(),n.finishVariableDeclaration(t,e.value)}function jt(e){var t,n,r,i,o,s,a,l=kn.allowIn;return t=n=r=null,Y("for"),G("("),X(";")?D():(Q("var")||Q("let")?(kn.allowIn=!1,t=Rt(),kn.allowIn=l,1===t.declarations.length&&Q("in")&&(D(),i=t,o=kt(),t=null)):(kn.allowIn=!1,t=kt(),kn.allowIn=l,Q("in")&&(et(t)||U({},mn.InvalidLHSInForIn),D(),i=t,o=kt(),t=null)),"undefined"==typeof i&&G(";")),"undefined"==typeof i&&(X(";")||(n=kt()),G(";"),X(")")||(r=kt())),G(")"),a=kn.inIteration,kn.inIteration=!0,s=Yt(),kn.inIteration=a,"undefined"==typeof i?e.finishForStatement(t,n,r,s):e.finishForInStatement(i,o,s)}function $t(e){var t,n=null;return Y("continue"),59===vn.charCodeAt(yn)?(D(),kn.inIteration||q({},mn.IllegalContinue),e.finishContinueStatement(null)):B()?(kn.inIteration||q({},mn.IllegalContinue),e.finishContinueStatement(null)):(Cn.type===un.Identifier&&(n=Et(),t="$"+n.name,Object.prototype.hasOwnProperty.call(kn.labelSet,t)||q({},mn.UnknownLabel,n.name)),Z(),null!==n||kn.inIteration||q({},mn.IllegalContinue),e.finishContinueStatement(n))}function Wt(e){var t,n=null;return Y("break"),59===vn.charCodeAt(yn)?(D(),kn.inIteration||kn.inSwitch||q({},mn.IllegalBreak),e.finishBreakStatement(null)):B()?(kn.inIteration||kn.inSwitch||q({},mn.IllegalBreak),e.finishBreakStatement(null)):(Cn.type===un.Identifier&&(n=Et(),t="$"+n.name,Object.prototype.hasOwnProperty.call(kn.labelSet,t)||q({},mn.UnknownLabel,n.name)),Z(),null!==n||kn.inIteration||kn.inSwitch||q({},mn.IllegalBreak),e.finishBreakStatement(n))}function Ft(e){var t=null;return Y("return"),kn.inFunctionBody||U({},mn.IllegalReturn),32===vn.charCodeAt(yn)&&a(vn.charCodeAt(yn+1))?(t=kt(),Z(),e.finishReturnStatement(t)):B()?e.finishReturnStatement(null):(X(";")||X("}")||Cn.type===un.EOF||(t=kt()),Z(),e.finishReturnStatement(t))}function Ht(e){var t,n;return bn&&(g(),U({},mn.StrictModeWith)),Y("with"),G("("),t=kt(),G(")"),n=Yt(),e.finishWithStatement(t,n)}function Bt(){var e,t,n=[],r=new F;for(Q("default")?(D(),e=null):(Y("case"),e=kt()),G(":");Sn>yn&&!(X("}")||Q("default")||Q("case"));)t=Yt(),n.push(t);return r.finishSwitchCase(e,n)}function qt(e){var t,n,r,i,o;if(Y("switch"),G("("),t=kt(),G(")"),G("{"),n=[],X("}"))return D(),e.finishSwitchStatement(t,n);for(i=kn.inSwitch,kn.inSwitch=!0,o=!1;Sn>yn&&!X("}");)r=Bt(),null===r.test&&(o&&q({},mn.MultipleDefaultsInSwitch),o=!0),n.push(r);return kn.inSwitch=i,G("}"),e.finishSwitchStatement(t,n)}function Ut(e){var t;return Y("throw"),B()&&q({},mn.NewlineAfterThrow),t=kt(),Z(),e.finishThrowStatement(t)}function Vt(){var e,t,n=new F;return Y("catch"),G("("),X(")")&&V(Cn),e=Et(),bn&&f(e.name)&&U({},mn.StrictCatchVariable),G(")"),t=At(),n.finishCatchClause(e,t)}function Gt(e){var t,n=[],r=null;return Y("try"),t=At(),Q("catch")&&n.push(Vt()),Q("finally")&&(D(),r=At()),0!==n.length||r||q({},mn.NoCatchOrFinally),e.finishTryStatement(t,[],n,r)}function Kt(e){return Y("debugger"),Z(),e.finishDebuggerStatement()}function Yt(){var e,t,n,r,i=Cn.type;if(i===un.EOF&&V(Cn),i===un.Punctuator&&"{"===Cn.value)return At();if(r=new F,i===un.Punctuator)switch(Cn.value){case";":return Mt(r);case"(":return Ot(r)}else if(i===un.Keyword)switch(Cn.value){case"break":return Wt(r);case"continue":return $t(r);case"debugger":return Kt(r);case"do":return Nt(r);case"for":return jt(r);case"function":return en(r);case"if":return zt(r);case"return":return Ft(r);case"switch":return qt(r);case"throw":return Ut(r);case"try":return Gt(r);case"var":return Pt(r);case"while":return Dt(r);case"with":return Ht(r)}return e=kt(),e.type===hn.Identifier&&X(":")?(D(),n="$"+e.name,Object.prototype.hasOwnProperty.call(kn.labelSet,n)&&q({},mn.Redeclaration,"Label",e.name),kn.labelSet[n]=!0,t=Yt(),delete kn.labelSet[n],r.finishLabeledStatement(e,t)):(Z(),r.finishExpressionStatement(e))}function Xt(){var e,t,n,r,i,o,s,a,l,u=[],c=new F;for(G("{");Sn>yn&&Cn.type===un.StringLiteral&&(t=Cn,e=nn(),u.push(e),e.expression.type===hn.Literal);)n=vn.slice(t.start+1,t.end-1),"use strict"===n?(bn=!0,r&&U(r,mn.StrictOctalLiteral)):!r&&t.octal&&(r=t);for(i=kn.labelSet,o=kn.inIteration,s=kn.inSwitch,a=kn.inFunctionBody,l=kn.parenthesizedCount,kn.labelSet={},kn.inIteration=!1,kn.inSwitch=!1,kn.inFunctionBody=!0,kn.parenthesizedCount=0;Sn>yn&&!X("}")&&(e=nn(),"undefined"!=typeof e);)u.push(e);return G("}"),kn.labelSet=i,kn.inIteration=o,kn.inSwitch=s,kn.inFunctionBody=a,kn.parenthesizedCount=l,c.finishBlockStatement(u)}function Qt(e,t,n){var r="$"+n;bn?(f(n)&&(e.stricted=t,e.message=mn.StrictParamName),Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=mn.StrictParamDupe)):e.firstRestricted||(f(n)?(e.firstRestricted=t,e.message=mn.StrictParamName):c(n)?(e.firstRestricted=t,e.message=mn.StrictReservedWord):Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.firstRestricted=t,e.message=mn.StrictParamDupe)),e.paramSet[r]=!0}function Jt(e){var t,n,r;return t=Cn,n=Et(),Qt(e,t,t.value),X("=")&&(D(),r=Ct(),++e.defaultCount),e.params.push(n),e.defaults.push(r),!X(")")}function Zt(e){var t;if(t={params:[],defaultCount:0,defaults:[],firstRestricted:e},G("("),!X(")"))for(t.paramSet={};Sn>yn&&Jt(t);)G(",");return G(")"),0===t.defaultCount&&(t.defaults=[]),{params:t.params,defaults:t.defaults,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}}function en(){var e,t,n,r,i,o,s,a,l=[],u=[],h=new F;return Y("function"),n=Cn,e=Et(),bn?f(n.value)&&U(n,mn.StrictFunctionName):f(n.value)?(o=n,s=mn.StrictFunctionName):c(n.value)&&(o=n,s=mn.StrictReservedWord),i=Zt(o),l=i.params,u=i.defaults,r=i.stricted,o=i.firstRestricted,i.message&&(s=i.message),a=bn,t=Xt(),bn&&o&&q(o,s),bn&&r&&U(r,s),bn=a,h.finishFunctionDeclaration(e,l,u,t)}function tn(){var e,t,n,r,i,o,s,a=null,l=[],u=[],h=new F;return Y("function"),X("(")||(e=Cn,a=Et(),bn?f(e.value)&&U(e,mn.StrictFunctionName):f(e.value)?(n=e,r=mn.StrictFunctionName):c(e.value)&&(n=e,r=mn.StrictReservedWord)),i=Zt(n),l=i.params,u=i.defaults,t=i.stricted,n=i.firstRestricted,i.message&&(r=i.message),s=bn,o=Xt(),bn&&n&&q(n,r),bn&&t&&U(t,r),bn=s,h.finishFunctionExpression(a,l,u,o)}function nn(){if(Cn.type===un.Keyword)switch(Cn.value){case"const":case"let":return It(Cn.value);case"function":return en();default:return Yt()}return Cn.type!==un.EOF?Yt():void 0}function rn(){for(var e,t,n,r,i=[];Sn>yn&&(t=Cn,t.type===un.StringLiteral)&&(e=nn(),i.push(e),e.expression.type===hn.Literal);)n=vn.slice(t.start+1,t.end-1),"use strict"===n?(bn=!0,r&&U(r,mn.StrictOctalLiteral)):!r&&t.octal&&(r=t);for(;Sn>yn&&(e=nn(),"undefined"!=typeof e);)i.push(e);return i}function on(){var e,t;return g(),R(),t=new F,bn=!1,e=rn(),t.finishProgram(e)}function sn(){var e,t,n,r=[];for(e=0;e<_n.tokens.length;++e)t=_n.tokens[e],n={type:t.type,value:t.value},t.regex&&(n.regex={pattern:t.regex.pattern,flags:t.regex.flags}),_n.range&&(n.range=t.range),_n.loc&&(n.loc=t.loc),r.push(n);_n.tokens=r}function an(e,t){var n,r;n=String,"string"==typeof e||e instanceof String||(e=n(e)),vn=e,yn=0,xn=vn.length>0?1:0,wn=0,Sn=vn.length,Cn=null,kn={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},_n={},t=t||{},t.tokens=!0,_n.tokens=[],_n.tokenize=!0,_n.openParenToken=-1,_n.openCurlyToken=-1,_n.range="boolean"==typeof t.range&&t.range,_n.loc="boolean"==typeof t.loc&&t.loc,"boolean"==typeof t.comment&&t.comment&&(_n.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(_n.errors=[]);try{if(R(),Cn.type===un.EOF)return _n.tokens;for(D();Cn.type!==un.EOF;)try{D()}catch(i){if(_n.errors){_n.errors.push(i);break}throw i}sn(),r=_n.tokens,"undefined"!=typeof _n.comments&&(r.comments=_n.comments),"undefined"!=typeof _n.errors&&(r.errors=_n.errors)}catch(o){throw o}finally{_n={}}return r}function ln(e,t){var n,r;r=String,"string"==typeof e||e instanceof String||(e=r(e)),vn=e,yn=0,xn=vn.length>0?1:0,wn=0,Sn=vn.length,Cn=null,kn={allowIn:!0,labelSet:{},parenthesisCount:0,inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},_n={},"undefined"!=typeof t&&(_n.range="boolean"==typeof t.range&&t.range,_n.loc="boolean"==typeof t.loc&&t.loc,_n.attachComment="boolean"==typeof t.attachComment&&t.attachComment,_n.loc&&null!==t.source&&void 0!==t.source&&(_n.source=r(t.source)),"boolean"==typeof t.tokens&&t.tokens&&(_n.tokens=[]),"boolean"==typeof t.comment&&t.comment&&(_n.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(_n.errors=[]),_n.attachComment&&(_n.range=!0,_n.comments=[],_n.bottomRightStack=[],_n.trailingComments=[],_n.leadingComments=[]));try{n=on(),"undefined"!=typeof _n.comments&&(n.comments=_n.comments),"undefined"!=typeof _n.tokens&&(sn(),n.tokens=_n.tokens),"undefined"!=typeof _n.errors&&(n.errors=_n.errors)}catch(i){throw i}finally{_n={}}return n}var un,cn,fn,hn,pn,dn,mn,gn,vn,bn,yn,xn,wn,Sn,Cn,kn,_n;un={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},cn={},cn[un.BooleanLiteral]="Boolean",cn[un.EOF]="<end>",cn[un.Identifier]="Identifier",cn[un.Keyword]="Keyword",cn[un.NullLiteral]="Null",cn[un.NumericLiteral]="Numeric",cn[un.Punctuator]="Punctuator",cn[un.StringLiteral]="String",cn[un.RegularExpression]="RegularExpression",fn=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],hn={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},pn={ArrowParameterPlaceHolder:{type:"ArrowParameterPlaceHolder"}},dn={Data:1,Get:2,Set:4},mn={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},gn={NonAsciiIdentifierStart:new RegExp("[\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0-\u08b2\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua7ad\ua7b0\ua7b1\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab5f\uab64\uab65\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]"),NonAsciiIdentifierPart:new RegExp("[\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u052f\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u0800-\u082d\u0840-\u085b\u08a0-\u08b2\u08e4-\u0963\u0966-\u096f\u0971-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7\u09c8\u09cb-\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09e6-\u09f1\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c00-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c58\u0c59\u0c60-\u0c63\u0c66-\u0c6f\u0c81-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1\u0cf2\u0d01-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d57\u0d60-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772\u1773\u1780-\u17d3\u17d7\u17dc\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1877\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19d9\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1ab0-\u1abd\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1cd0-\u1cd2\u1cd4-\u1cf6\u1cf8\u1cf9\u1d00-\u1df5\u1dfc-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200c\u200d\u203f\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u2e2f\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099\u309a\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua69d\ua69f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua7ad\ua7b0\ua7b1\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua900-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\ua9e0-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab5f\uab64\uab65\uabc0-\uabea\uabec\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2d\ufe33\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]")},H.prototype=F.prototype={processComment:function(){var e,t,n=_n.bottomRightStack,r=n[n.length-1];
if(!(this.type===hn.Program&&this.body.length>0)){if(_n.trailingComments.length>0?_n.trailingComments[0].range[0]>=this.range[1]?(t=_n.trailingComments,_n.trailingComments=[]):_n.trailingComments.length=0:r&&r.trailingComments&&r.trailingComments[0].range[0]>=this.range[1]&&(t=r.trailingComments,delete r.trailingComments),r)for(;r&&r.range[0]>=this.range[0];)e=r,r=n.pop();e?e.leadingComments&&e.leadingComments[e.leadingComments.length-1].range[1]<=this.range[0]&&(this.leadingComments=e.leadingComments,e.leadingComments=void 0):_n.leadingComments.length>0&&_n.leadingComments[_n.leadingComments.length-1].range[1]<=this.range[0]&&(this.leadingComments=_n.leadingComments,_n.leadingComments=[]),t&&(this.trailingComments=t),n.push(this)}},finish:function(){_n.range&&(this.range[1]=yn),_n.loc&&(this.loc.end=new j,_n.source&&(this.loc.source=_n.source)),_n.attachComment&&this.processComment()},finishArrayExpression:function(e){return this.type=hn.ArrayExpression,this.elements=e,this.finish(),this},finishArrowFunctionExpression:function(e,t,n,r){return this.type=hn.ArrowFunctionExpression,this.id=null,this.params=e,this.defaults=t,this.body=n,this.rest=null,this.generator=!1,this.expression=r,this.finish(),this},finishAssignmentExpression:function(e,t,n){return this.type=hn.AssignmentExpression,this.operator=e,this.left=t,this.right=n,this.finish(),this},finishBinaryExpression:function(e,t,n){return this.type="||"===e||"&&"===e?hn.LogicalExpression:hn.BinaryExpression,this.operator=e,this.left=t,this.right=n,this.finish(),this},finishBlockStatement:function(e){return this.type=hn.BlockStatement,this.body=e,this.finish(),this},finishBreakStatement:function(e){return this.type=hn.BreakStatement,this.label=e,this.finish(),this},finishCallExpression:function(e,t){return this.type=hn.CallExpression,this.callee=e,this.arguments=t,this.finish(),this},finishCatchClause:function(e,t){return this.type=hn.CatchClause,this.param=e,this.body=t,this.finish(),this},finishConditionalExpression:function(e,t,n){return this.type=hn.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=n,this.finish(),this},finishContinueStatement:function(e){return this.type=hn.ContinueStatement,this.label=e,this.finish(),this},finishDebuggerStatement:function(){return this.type=hn.DebuggerStatement,this.finish(),this},finishDoWhileStatement:function(e,t){return this.type=hn.DoWhileStatement,this.body=e,this.test=t,this.finish(),this},finishEmptyStatement:function(){return this.type=hn.EmptyStatement,this.finish(),this},finishExpressionStatement:function(e){return this.type=hn.ExpressionStatement,this.expression=e,this.finish(),this},finishForStatement:function(e,t,n,r){return this.type=hn.ForStatement,this.init=e,this.test=t,this.update=n,this.body=r,this.finish(),this},finishForInStatement:function(e,t,n){return this.type=hn.ForInStatement,this.left=e,this.right=t,this.body=n,this.each=!1,this.finish(),this},finishFunctionDeclaration:function(e,t,n,r){return this.type=hn.FunctionDeclaration,this.id=e,this.params=t,this.defaults=n,this.body=r,this.rest=null,this.generator=!1,this.expression=!1,this.finish(),this},finishFunctionExpression:function(e,t,n,r){return this.type=hn.FunctionExpression,this.id=e,this.params=t,this.defaults=n,this.body=r,this.rest=null,this.generator=!1,this.expression=!1,this.finish(),this},finishIdentifier:function(e){return this.type=hn.Identifier,this.name=e,this.finish(),this},finishIfStatement:function(e,t,n){return this.type=hn.IfStatement,this.test=e,this.consequent=t,this.alternate=n,this.finish(),this},finishLabeledStatement:function(e,t){return this.type=hn.LabeledStatement,this.label=e,this.body=t,this.finish(),this},finishLiteral:function(e){return this.type=hn.Literal,this.value=e.value,this.raw=vn.slice(e.start,e.end),e.regex&&(this.regex=e.regex),this.finish(),this},finishMemberExpression:function(e,t,n){return this.type=hn.MemberExpression,this.computed="["===e,this.object=t,this.property=n,this.finish(),this},finishNewExpression:function(e,t){return this.type=hn.NewExpression,this.callee=e,this.arguments=t,this.finish(),this},finishObjectExpression:function(e){return this.type=hn.ObjectExpression,this.properties=e,this.finish(),this},finishPostfixExpression:function(e,t){return this.type=hn.UpdateExpression,this.operator=e,this.argument=t,this.prefix=!1,this.finish(),this},finishProgram:function(e){return this.type=hn.Program,this.body=e,this.finish(),this},finishProperty:function(e,t,n){return this.type=hn.Property,this.key=t,this.value=n,this.kind=e,this.finish(),this},finishReturnStatement:function(e){return this.type=hn.ReturnStatement,this.argument=e,this.finish(),this},finishSequenceExpression:function(e){return this.type=hn.SequenceExpression,this.expressions=e,this.finish(),this},finishSwitchCase:function(e,t){return this.type=hn.SwitchCase,this.test=e,this.consequent=t,this.finish(),this},finishSwitchStatement:function(e,t){return this.type=hn.SwitchStatement,this.discriminant=e,this.cases=t,this.finish(),this},finishThisExpression:function(){return this.type=hn.ThisExpression,this.finish(),this},finishThrowStatement:function(e){return this.type=hn.ThrowStatement,this.argument=e,this.finish(),this},finishTryStatement:function(e,t,n,r){return this.type=hn.TryStatement,this.block=e,this.guardedHandlers=t,this.handlers=n,this.finalizer=r,this.finish(),this},finishUnaryExpression:function(e,t){return this.type="++"===e||"--"===e?hn.UpdateExpression:hn.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0,this.finish(),this},finishVariableDeclaration:function(e,t){return this.type=hn.VariableDeclaration,this.declarations=e,this.kind=t,this.finish(),this},finishVariableDeclarator:function(e,t){return this.type=hn.VariableDeclarator,this.id=e,this.init=t,this.finish(),this},finishWhileStatement:function(e,t){return this.type=hn.WhileStatement,this.test=e,this.body=t,this.finish(),this},finishWithStatement:function(e,t){return this.type=hn.WithStatement,this.object=e,this.body=t,this.finish(),this}},e.version="2.0.0-dev",e.tokenize=an,e.parse=ln,e.Syntax=function(){var e,t={};"function"==typeof Object.create&&(t=Object.create(null));for(e in hn)hn.hasOwnProperty(e)&&(t[e]=hn[e]);return"function"==typeof Object.freeze&&Object.freeze(t),t}()}),function(e){function t(e,n){if({}.hasOwnProperty.call(t.cache,e))return t.cache[e];var r=t.resolve(e);if(!r)throw new Error("Failed to resolve module "+e);var i={id:e,require:t,filename:e,exports:{},loaded:!1,parent:n,children:[]};n&&n.children.push(i);var o=e.slice(0,e.lastIndexOf("/")+1);return t.cache[e]=i.exports,r.call(i.exports,i,i.exports,o,e),i.loaded=!0,t.cache[e]=i.exports}t.modules={},t.cache={},t.resolve=function(e){return{}.hasOwnProperty.call(t.modules,e)?t.modules[e]:void 0},t.define=function(e,n){t.modules[e]=n};var n=function(t){return t="/",{title:"browser",version:"v0.10.26",browser:!0,env:{},argv:[],nextTick:e.setImmediate||function(e){setTimeout(e,0)},cwd:function(){return t},chdir:function(e){t=e}}}();t.define("/tools/entry-point.js",function(n){!function(){"use strict";e.escodegen=t("/escodegen.js",n),escodegen.browser=!0}()}),t.define("/escodegen.js",function(n,r){!function(i,o,s,a,l,u,c,f,h,p,d,m,g,v,b,y,x,w,S,C,k,_,A,E,L){"use strict";function T(e){switch(e.type){case i.AssignmentExpression:case i.ArrayExpression:case i.ArrayPattern:case i.BinaryExpression:case i.CallExpression:case i.ConditionalExpression:case i.ClassExpression:case i.ExportBatchSpecifier:case i.ExportSpecifier:case i.FunctionExpression:case i.Identifier:case i.ImportSpecifier:case i.Literal:case i.LogicalExpression:case i.MemberExpression:case i.MethodDefinition:case i.NewExpression:case i.ObjectExpression:case i.ObjectPattern:case i.Property:case i.SequenceExpression:case i.ThisExpression:case i.UnaryExpression:case i.UpdateExpression:case i.YieldExpression:return!0}return!1}function P(e){switch(e.type){case i.BlockStatement:case i.BreakStatement:case i.CatchClause:case i.ContinueStatement:case i.ClassDeclaration:case i.ClassBody:case i.DirectiveStatement:case i.DoWhileStatement:case i.DebuggerStatement:case i.EmptyStatement:case i.ExpressionStatement:case i.ForStatement:case i.ForInStatement:case i.ForOfStatement:case i.FunctionDeclaration:case i.IfStatement:case i.LabeledStatement:case i.ModuleDeclaration:case i.Program:case i.ReturnStatement:case i.SwitchStatement:case i.SwitchCase:case i.ThrowStatement:case i.TryStatement:case i.VariableDeclaration:case i.VariableDeclarator:case i.WhileStatement:case i.WithStatement:return!0}return!1}function I(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:"\n",space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null}}function M(e,t){var n="";for(t|=0;t>0;t>>>=1,e+=e)1&t&&(n+=e);return n}function O(e){return/[\r\n]/g.test(e)}function z(e){var t=e.length;return t&&u.code.isLineTerminator(e.charCodeAt(t-1))}function N(e,t){function n(e){return"object"==typeof e&&e instanceof Object&&!(e instanceof RegExp)}var r,i;for(r in t)t.hasOwnProperty(r)&&(i=t[r],n(i)?n(e[r])?N(e[r],i):e[r]=N({},i):e[r]=i);return e}function D(e){var t,n,r,i,o;if(e!==e)throw new Error("Numeric literal whose value is NaN");if(0>e||0===e&&0>1/e)throw new Error("Numeric literal whose value is negative");if(e===1/0)return p?"null":d?"1e400":"1e+400";if(t=""+e,!d||t.length<3)return t;for(n=t.indexOf("."),!p&&48===t.charCodeAt(0)&&1===n&&(n=0,t=t.slice(1)),r=t,t=t.replace("e+","e"),i=0,(o=r.indexOf("e"))>0&&(i=+r.slice(o+1),r=r.slice(0,o)),n>=0&&(i-=r.length-n-1,r=+(r.slice(0,n)+r.slice(n+1))+""),o=0;48===r.charCodeAt(r.length+o-1);)--o;return 0!==o&&(i-=o,r=r.slice(0,o)),0!==i&&(r+="e"+i),(r.length<t.length||m&&e>1e12&&Math.floor(e)===e&&(r="0x"+e.toString(16)).length<t.length)&&+r===e&&(t=r),t}function R(e,t){return 8232===(-2&e)?(t?"u":"\\u")+(8232===e?"2028":"2029"):10===e||13===e?(t?"":"\\")+(10===e?"n":"r"):String.fromCharCode(e)}function j(e){var t,n,r,i,o,s,a,l;if(n=e.toString(),e.source){if(t=n.match(/\/([^/]*)$/),!t)return n;for(r=t[1],n="",a=!1,l=!1,i=0,o=e.source.length;o>i;++i)s=e.source.charCodeAt(i),l?(n+=R(s,l),l=!1):(a?93===s&&(a=!1):47===s?n+="\\":91===s&&(a=!0),n+=R(s,l),l=92===s);return"/"+n+"/"+r}return n}function $(e,t){var n,r="\\";switch(e){case 8:r+="b";break;case 12:r+="f";break;case 9:r+="t";break;default:n=e.toString(16).toUpperCase(),r+=p||e>255?"u"+"0000".slice(n.length)+n:0!==e||u.code.isDecimalDigit(t)?11===e?"x0B":"x"+"00".slice(n.length)+n:"0"}return r}function W(e){var t="\\";switch(e){case 92:t+="\\";break;case 10:t+="n";break;case 13:t+="r";break;case 8232:t+="u2028";break;case 8233:t+="u2029";break;default:throw new Error("Incorrectly classified character")}return t}function F(e){var t,n,r,i;for(i="double"===g?'"':"'",t=0,n=e.length;n>t;++t){if(r=e.charCodeAt(t),39===r){i='"';break}if(34===r){i="'";break}92===r&&++t}return i+e+i}function H(e){var t,n,r,i,o,s="",a=0,l=0;for(t=0,n=e.length;n>t;++t){if(r=e.charCodeAt(t),39===r)++a;else if(34===r)++l;else if(47===r&&p)s+="\\";else{if(u.code.isLineTerminator(r)||92===r){s+=W(r);continue}if(p&&32>r||!(p||v||r>=32&&126>=r)){s+=$(r,e.charCodeAt(t+1));continue}}s+=String.fromCharCode(r)}if(i=!("double"===g||"auto"===g&&a>l),o=i?"'":'"',!(i?a:l))return o+s+o;for(e=s,s=o,t=0,n=e.length;n>t;++t)r=e.charCodeAt(t),(39===r&&i||34===r&&!i)&&(s+="\\"),s+=String.fromCharCode(r);return s+o}function B(e){var t,n,r,i="";for(t=0,n=e.length;n>t;++t)r=e[t],i+=c(r)?B(r):r;return i}function q(e,t){if(!A)return c(e)?B(e):e;if(null==t){if(e instanceof a)return e;t={}}return null==t.loc?new a(null,null,A,e,t.name||null):new a(t.loc.start.line,t.loc.start.column,A===!0?t.loc.source||null:A,e,t.name||null)}function U(){return y?y:" "}function V(e,t){var n,r,i,o;return n=q(e).toString(),0===n.length?[t]:(r=q(t).toString(),0===r.length?[e]:(i=n.charCodeAt(n.length-1),o=r.charCodeAt(0),(43===i||45===i)&&i===o||u.code.isIdentifierPart(i)&&u.code.isIdentifierPart(o)||47===i&&105===o?[e,U(),t]:u.code.isWhiteSpace(i)||u.code.isLineTerminator(i)||u.code.isWhiteSpace(o)||u.code.isLineTerminator(o)?[e,t]:[e,y,t]))}function G(e){return[f,e]}function K(e){var t,n;return t=f,f+=h,n=e.call(this,f),f=t,n}function Y(e){var t;for(t=e.length-1;t>=0&&!u.code.isLineTerminator(e.charCodeAt(t));--t);return e.length-1-t}function X(e,t){var n,r,i,o,s,a,l,c;for(n=e.split(/\r\n|[\r\n]/),a=Number.MAX_VALUE,r=1,i=n.length;i>r;++r){for(o=n[r],s=0;s<o.length&&u.code.isWhiteSpace(o.charCodeAt(s));)++s;a>s&&(a=s)}for(void 0!==t?(l=f,"*"===n[1][a]&&(t+=" "),f=t):(1&a&&--a,l=f),r=1,i=n.length;i>r;++r)c=q(G(n[r].slice(a))),n[r]=A?c.join(""):c;return f=l,n.join("\n")}function Q(e,t){return"Line"===e.type?z(e.value)?"//"+e.value:"//"+e.value+"\n":k.format.indent.adjustMultilineComment&&/[\n\r]/.test(e.value)?X("/*"+e.value+"*/",t):"/*"+e.value+"*/"}function J(e,t){var n,r,o,s,a,l,u;if(e.leadingComments&&e.leadingComments.length>0){for(s=t,o=e.leadingComments[0],t=[],S&&e.type===i.Program&&0===e.body.length&&t.push("\n"),t.push(Q(o)),z(q(t).toString())||t.push("\n"),n=1,r=e.leadingComments.length;r>n;++n)o=e.leadingComments[n],u=[Q(o)],z(q(u).toString())||u.push("\n"),t.push(G(u));t.push(G(s))}if(e.trailingComments)for(a=!z(q(t).toString()),l=M(" ",Y(q([f,t,h]).toString())),n=0,r=e.trailingComments.length;r>n;++n)o=e.trailingComments[n],a?(t=0===n?[t,h]:[t,l],t.push(Q(o,l))):t=[t,G(Q(o))],n!==r-1&&!z(q(t).toString())&&(t=[t,"\n"]);return t}function Z(e,t,n){return n>t?["(",e,")"]:e}function et(e,t,n){var r,o;return o=!k.comment||!e.leadingComments,e.type===i.BlockStatement&&o?[y,gt(e,{functionBody:n})]:e.type===i.EmptyStatement&&o?";":(K(function(){r=[b,G(gt(e,{semicolonOptional:t,functionBody:n}))]}),r)}function tt(e,t){var n=z(q(t).toString());return e.type!==i.BlockStatement||k.comment&&e.leadingComments||n?n?[t,f]:[t,b,f]:[t,y]}function nt(e){var t,n,r;for(r=e.split(/\r\n|\n/),t=1,n=r.length;n>t;t++)r[t]=b+f+r[t];return r}function rt(e,t){var n,r,i;return n=e[k.verbatim],"string"==typeof n?r=Z(nt(n),o.Sequence,t.precedence):(r=nt(n.content),i=null!=n.precedence?n.precedence:o.Sequence,r=Z(r,i,t.precedence)),q(r,e)}function it(e){return q(e.name,e)}function ot(e,t){var n;return n=e.type===i.Identifier?it(e):dt(e,{precedence:t.precedence,allowIn:t.allowIn,allowCall:!0})}function st(e){var t,n,r,s;if(s=!1,e.type!==i.ArrowFunctionExpression||e.rest||e.defaults&&0!==e.defaults.length||1!==e.params.length||e.params[0].type!==i.Identifier){for(r=["("],e.defaults&&(s=!0),t=0,n=e.params.length;n>t;++t)r.push(s&&e.defaults[t]?pt(e.params[t],e.defaults[t],"=",{precedence:o.Assignment,allowIn:!0,allowCall:!0}):ot(e.params[t],{precedence:o.Assignment,allowIn:!0,allowCall:!0})),n>t+1&&r.push(","+y);e.rest&&(e.params.length&&r.push(","+y),r.push("..."),r.push(it(e.rest,{precedence:o.Assignment,allowIn:!0,allowCall:!0}))),r.push(")")}else r=[it(e.params[0])];return r}function at(e){var t,n;return t=st(e),e.type===i.ArrowFunctionExpression&&(t.push(y),t.push("=>")),e.expression?(t.push(y),n=dt(e.body,{precedence:o.Assignment,allowIn:!0,allowCall:!0}),"{"===n.toString().charAt(0)&&(n=["(",n,")"]),t.push(n)):t.push(et(e.body,!1,!0)),t}function lt(e,t,n){var r=["for"+y+"("];return K(function(){t.left.type===i.VariableDeclaration?K(function(){r.push(t.left.kind+U()),r.push(gt(t.left.declarations[0],{allowIn:!1}))}):r.push(dt(t.left,{precedence:o.Call,allowIn:!0,allowCall:!0})),r=V(r,e),r=[V(r,dt(t.right,{precedence:o.Sequence,allowIn:!0,allowCall:!0})),")"]}),r.push(et(t.body,n)),r}function ut(e,t,n){function r(){for(a=e.declarations[0],k.comment&&a.leadingComments?(i.push("\n"),i.push(G(gt(a,{allowIn:n})))):(i.push(U()),i.push(gt(a,{allowIn:n}))),o=1,s=e.declarations.length;s>o;++o)a=e.declarations[o],k.comment&&a.leadingComments?(i.push(","+b),i.push(G(gt(a,{allowIn:n})))):(i.push(","+y),i.push(gt(a,{allowIn:n})))}var i,o,s,a;return i=[e.kind],e.declarations.length>1?K(r):r(),i.push(t),i}function ct(e){var t=["{",b];return K(function(n){var r,s;for(r=0,s=e.body.length;s>r;++r)t.push(n),t.push(dt(e.body[r],{precedence:o.Sequence,allowIn:!0,allowCall:!0,type:i.Property})),s>r+1&&t.push(b)}),z(q(t).toString())||t.push(b),t.push(f),t.push("}"),t}function ft(e){var t;if(e.hasOwnProperty("raw")&&_&&k.raw)try{if(t=_(e.raw).body[0].expression,t.type===i.Literal&&t.value===e.value)return e.raw}catch(e){}return null===e.value?"null":"string"==typeof e.value?H(e.value):"number"==typeof e.value?D(e.value):"boolean"==typeof e.value?e.value?"true":"false":j(e.value)}function ht(e,t,n){var r=[];return t&&r.push("["),r.push(dt(e,n)),t&&r.push("]"),r}function pt(e,t,n,r){var i,s;return s=r.precedence,i=r.allowIn||o.Assignment<s,Z([dt(e,{precedence:o.Call,allowIn:i,allowCall:!0}),y+n+y,dt(t,{precedence:o.Assignment,allowIn:i,allowCall:!0})],o.Assignment,s)}function dt(e,t){var n,r,a,l,c,h,p,d,m,g,v,w,S,C,_,A;if(r=t.precedence,w=t.allowIn,S=t.allowCall,a=e.type||t.type,k.verbatim&&e.hasOwnProperty(k.verbatim))return rt(e,t);switch(a){case i.SequenceExpression:for(n=[],w|=o.Sequence<r,c=0,h=e.expressions.length;h>c;++c)n.push(dt(e.expressions[c],{precedence:o.Assignment,allowIn:w,allowCall:!0})),h>c+1&&n.push(","+y);n=Z(n,o.Sequence,r);break;case i.AssignmentExpression:n=pt(e.left,e.right,e.operator,t);break;case i.ArrowFunctionExpression:w|=o.ArrowFunction<r,n=Z(at(e),o.ArrowFunction,r);break;case i.ConditionalExpression:w|=o.Conditional<r,n=Z([dt(e.test,{precedence:o.LogicalOR,allowIn:w,allowCall:!0}),y+"?"+y,dt(e.consequent,{precedence:o.Assignment,allowIn:w,allowCall:!0}),y+":"+y,dt(e.alternate,{precedence:o.Assignment,allowIn:w,allowCall:!0})],o.Conditional,r);break;case i.LogicalExpression:case i.BinaryExpression:l=s[e.operator],w|=r>l,p=dt(e.left,{precedence:l,allowIn:w,allowCall:!0}),g=p.toString(),n=47===g.charCodeAt(g.length-1)&&u.code.isIdentifierPart(e.operator.charCodeAt(0))?[p,U(),e.operator]:V(p,e.operator),p=dt(e.right,{precedence:l+1,allowIn:w,allowCall:!0}),"/"===e.operator&&"/"===p.toString().charAt(0)||"<"===e.operator.slice(-1)&&"!--"===p.toString().slice(0,3)?(n.push(U()),n.push(p)):n=V(n,p),n="in"!==e.operator||w?Z(n,l,r):["(",n,")"];break;case i.CallExpression:for(n=[dt(e.callee,{precedence:o.Call,allowIn:!0,allowCall:!0,allowUnparenthesizedNew:!1})],n.push("("),c=0,h=e.arguments.length;h>c;++c)n.push(dt(e.arguments[c],{precedence:o.Assignment,allowIn:!0,allowCall:!0})),h>c+1&&n.push(","+y);n.push(")"),n=S?Z(n,o.Call,r):["(",n,")"];break;case i.NewExpression:if(h=e.arguments.length,C=void 0===t.allowUnparenthesizedNew||t.allowUnparenthesizedNew,n=V("new",dt(e.callee,{precedence:o.New,allowIn:!0,allowCall:!1,allowUnparenthesizedNew:C&&!x&&0===h})),!C||x||h>0){for(n.push("("),c=0;h>c;++c)n.push(dt(e.arguments[c],{precedence:o.Assignment,allowIn:!0,allowCall:!0})),h>c+1&&n.push(","+y);n.push(")")}n=Z(n,o.New,r);break;case i.MemberExpression:n=[dt(e.object,{precedence:o.Call,allowIn:!0,allowCall:S,allowUnparenthesizedNew:!1})],e.computed?(n.push("["),n.push(dt(e.property,{precedence:o.Sequence,allowIn:!0,allowCall:S})),n.push("]")):(e.object.type===i.Literal&&"number"==typeof e.object.value&&(p=q(n).toString(),p.indexOf(".")<0&&!/[eExX]/.test(p)&&u.code.isDecimalDigit(p.charCodeAt(p.length-1))&&!(p.length>=2&&48===p.charCodeAt(0))&&n.push(".")),n.push("."),n.push(it(e.property))),n=Z(n,o.Member,r);break;case i.UnaryExpression:p=dt(e.argument,{precedence:o.Unary,allowIn:!0,allowCall:!0}),""===y?n=V(e.operator,p):(n=[e.operator],e.operator.length>2?n=V(n,p):(g=q(n).toString(),m=g.charCodeAt(g.length-1),v=p.toString().charCodeAt(0),(43===m||45===m)&&m===v||u.code.isIdentifierPart(m)&&u.code.isIdentifierPart(v)?(n.push(U()),n.push(p)):n.push(p))),n=Z(n,o.Unary,r);break;case i.YieldExpression:n=e.delegate?"yield*":"yield",e.argument&&(n=V(n,dt(e.argument,{precedence:o.Yield,allowIn:!0,allowCall:!0}))),n=Z(n,o.Yield,r);break;case i.UpdateExpression:n=e.prefix?Z([e.operator,dt(e.argument,{precedence:o.Unary,allowIn:!0,allowCall:!0})],o.Unary,r):Z([dt(e.argument,{precedence:o.Postfix,allowIn:!0,allowCall:!0}),e.operator],o.Postfix,r);break;case i.FunctionExpression:A=e.generator&&!k.moz.starlessGenerator,n=A?"function*":"function",n=e.id?[n,A?y:U(),it(e.id),at(e)]:[n+y,at(e)];break;case i.ExportBatchSpecifier:n="*";break;case i.ArrayPattern:case i.ArrayExpression:if(!e.elements.length){n="[]";break}d=e.elements.length>1,n=["[",d?b:""],K(function(t){for(c=0,h=e.elements.length;h>c;++c)e.elements[c]?(n.push(d?t:""),n.push(dt(e.elements[c],{precedence:o.Assignment,allowIn:!0,allowCall:!0}))):(d&&n.push(t),c+1===h&&n.push(",")),h>c+1&&n.push(","+(d?b:y))}),d&&!z(q(n).toString())&&n.push(b),n.push(d?f:""),n.push("]");break;case i.ClassExpression:n=["class"],e.id&&(n=V(n,dt(e.id,{allowIn:!0,allowCall:!0}))),e.superClass&&(p=V("extends",dt(e.superClass,{precedence:o.Assignment,allowIn:!0,allowCall:!0})),n=V(n,p)),n.push(y),n.push(gt(e.body,{semicolonOptional:!0,directiveContext:!1}));break;case i.MethodDefinition:n=e["static"]?["static"+y]:[],"get"===e.kind||"set"===e.kind?n=V(n,[V(e.kind,ht(e.key,e.computed,{precedence:o.Sequence,allowIn:!0,allowCall:!0})),at(e.value)]):(p=[ht(e.key,e.computed,{precedence:o.Sequence,allowIn:!0,allowCall:!0}),at(e.value)],e.value.generator?(n.push("*"),n.push(p)):n=V(n,p));break;case i.Property:"get"===e.kind||"set"===e.kind?n=[e.kind,U(),ht(e.key,e.computed,{precedence:o.Sequence,allowIn:!0,allowCall:!0}),at(e.value)]:e.shorthand?n=ht(e.key,e.computed,{precedence:o.Sequence,allowIn:!0,allowCall:!0}):e.method?(n=[],e.value.generator&&n.push("*"),n.push(ht(e.key,e.computed,{precedence:o.Sequence,allowIn:!0,allowCall:!0})),n.push(at(e.value))):n=[ht(e.key,e.computed,{precedence:o.Sequence,allowIn:!0,allowCall:!0}),":"+y,dt(e.value,{precedence:o.Assignment,allowIn:!0,allowCall:!0})];break;case i.ObjectExpression:if(!e.properties.length){n="{}";break}if(d=e.properties.length>1,K(function(){p=dt(e.properties[0],{precedence:o.Sequence,allowIn:!0,allowCall:!0,type:i.Property})}),!d&&!O(q(p).toString())){n=["{",y,p,y,"}"];break}K(function(t){if(n=["{",b,t,p],d)for(n.push(","+b),c=1,h=e.properties.length;h>c;++c)n.push(t),n.push(dt(e.properties[c],{precedence:o.Sequence,allowIn:!0,allowCall:!0,type:i.Property})),h>c+1&&n.push(","+b)}),z(q(n).toString())||n.push(b),n.push(f),n.push("}");break;case i.ObjectPattern:if(!e.properties.length){n="{}";break}if(d=!1,1===e.properties.length)_=e.properties[0],_.value.type!==i.Identifier&&(d=!0);else for(c=0,h=e.properties.length;h>c;++c)if(_=e.properties[c],!_.shorthand){d=!0;break}n=["{",d?b:""],K(function(t){for(c=0,h=e.properties.length;h>c;++c)n.push(d?t:""),n.push(dt(e.properties[c],{precedence:o.Sequence,allowIn:!0,allowCall:!0})),h>c+1&&n.push(","+(d?b:y))}),d&&!z(q(n).toString())&&n.push(b),n.push(d?f:""),n.push("}");break;case i.ThisExpression:n="this";break;case i.Identifier:n=it(e);break;case i.ImportSpecifier:case i.ExportSpecifier:n=[e.id.name],e.name&&n.push(U()+"as"+U()+e.name.name);break;case i.Literal:n=ft(e);break;case i.GeneratorExpression:case i.ComprehensionExpression:n=a===i.GeneratorExpression?["("]:["["],k.moz.comprehensionExpressionStartsWithAssignment&&(p=dt(e.body,{precedence:o.Assignment,allowIn:!0,allowCall:!0}),n.push(p)),e.blocks&&K(function(){for(c=0,h=e.blocks.length;h>c;++c)p=dt(e.blocks[c],{precedence:o.Sequence,allowIn:!0,allowCall:!0}),c>0||k.moz.comprehensionExpressionStartsWithAssignment?n=V(n,p):n.push(p)}),e.filter&&(n=V(n,"if"+y),p=dt(e.filter,{precedence:o.Sequence,allowIn:!0,allowCall:!0}),n=V(n,["(",p,")"])),k.moz.comprehensionExpressionStartsWithAssignment||(p=dt(e.body,{precedence:o.Assignment,allowIn:!0,allowCall:!0}),n=V(n,p)),n.push(a===i.GeneratorExpression?")":"]");break;case i.ComprehensionBlock:p=e.left.type===i.VariableDeclaration?[e.left.kind,U(),gt(e.left.declarations[0],{allowIn:!1})]:dt(e.left,{precedence:o.Call,allowIn:!0,allowCall:!0}),p=V(p,e.of?"of":"in"),p=V(p,dt(e.right,{precedence:o.Sequence,allowIn:!0,allowCall:!0})),n=["for"+y+"(",p,")"];break;case i.SpreadElement:n=["...",dt(e.argument,{precedence:o.Assignment,allowIn:!0,allowCall:!0})];break;case i.TaggedTemplateExpression:n=[dt(e.tag,{precedence:o.Call,allowIn:!0,allowCall:S,allowUnparenthesizedNew:!1}),dt(e.quasi,{precedence:o.Primary})],n=Z(n,o.TaggedTemplate,r);break;case i.TemplateElement:n=e.value.raw;break;case i.TemplateLiteral:for(n=["`"],c=0,h=e.quasis.length;h>c;++c)n.push(dt(e.quasis[c],{precedence:o.Primary,allowIn:!0,allowCall:!0})),h>c+1&&(n.push("${"+y),n.push(dt(e.expressions[c],{precedence:o.Sequence,allowIn:!0,allowCall:!0})),n.push(y+"}"));n.push("`");break;default:throw new Error("Unknown expression type: "+e.type)}return k.comment&&(n=J(e,n)),q(n,e)}function mt(e,t){var n,r;return 0===e.specifiers.length?["import",y,ft(e.source),t]:(n=["import"],r=0,e.specifiers[0]["default"]&&(n=V(n,[e.specifiers[0].id.name]),++r),e.specifiers[r]&&(0!==r&&n.push(","),n.push(y+"{"),e.specifiers.length-r===1?(n.push(y),n.push(dt(e.specifiers[r],{precedence:o.Sequence,allowIn:!0,allowCall:!0})),n.push(y+"}"+y)):(K(function(t){var i,s;for(n.push(b),i=r,s=e.specifiers.length;s>i;++i)n.push(t),n.push(dt(e.specifiers[i],{precedence:o.Sequence,allowIn:!0,allowCall:!0})),s>i+1&&n.push(","+b)}),z(q(n).toString())||n.push(b),n.push(f+"}"+y))),n=V(n,["from"+y,ft(e.source),t]))}function gt(e,t){var n,r,s,a,l,u,h,p,d,m;switch(a=!0,p=";",l=!1,u=!1,t&&(a=void 0===t.allowIn||t.allowIn,!w&&t.semicolonOptional===!0&&(p=""),l=t.functionBody,u=t.directiveContext),e.type){case i.BlockStatement:s=["{",b],K(function(){for(n=0,r=e.body.length;r>n;++n)h=G(gt(e.body[n],{semicolonOptional:n===r-1,directiveContext:l})),s.push(h),z(q(h).toString())||s.push(b)}),s.push(G("}"));break;case i.BreakStatement:s=e.label?"break "+e.label.name+p:"break"+p;break;case i.ContinueStatement:s=e.label?"continue "+e.label.name+p:"continue"+p;break;case i.ClassBody:s=ct(e);break;case i.ClassDeclaration:s=["class "+e.id.name],e.superClass&&(h=V("extends",dt(e.superClass,{precedence:o.Assignment,allowIn:!0,allowCall:!0})),s=V(s,h)),s.push(y),s.push(gt(e.body,{semicolonOptional:!0,directiveContext:!1}));break;case i.DirectiveStatement:s=k.raw&&e.raw?e.raw+p:F(e.directive)+p;break;case i.DoWhileStatement:s=V("do",et(e.body)),s=tt(e.body,s),s=V(s,["while"+y+"(",dt(e.test,{precedence:o.Sequence,allowIn:!0,allowCall:!0}),")"+p]);break;case i.CatchClause:K(function(){var t;s=["catch"+y+"(",dt(e.param,{precedence:o.Sequence,allowIn:!0,allowCall:!0}),")"],e.guard&&(t=dt(e.guard,{precedence:o.Sequence,allowIn:!0,allowCall:!0}),s.splice(2,0," if ",t))}),s.push(et(e.body));break;case i.DebuggerStatement:s="debugger"+p;break;case i.EmptyStatement:s=";";break;case i.ExportDeclaration:if(s=["export"],e["default"]){s=V(s,"default"),s=V(s,dt(e.declaration,{precedence:o.Assignment,allowIn:!0,allowCall:!0})+p);break}if(e.specifiers){0===e.specifiers.length?s=V(s,"{"+y+"}"):e.specifiers[0].type===i.ExportBatchSpecifier?s=V(s,dt(e.specifiers[0],{precedence:o.Sequence,allowIn:!0,allowCall:!0})):(s=V(s,"{"),K(function(t){var n,r;for(s.push(b),n=0,r=e.specifiers.length;r>n;++n)s.push(t),s.push(dt(e.specifiers[n],{precedence:o.Sequence,allowIn:!0,allowCall:!0})),r>n+1&&s.push(","+b)}),z(q(s).toString())||s.push(b),s.push(f+"}")),e.source?s=V(s,["from"+y,ft(e.source),p]):s.push(p);break}e.declaration&&(s=V(s,gt(e.declaration,{semicolonOptional:""===p})));break;case i.ExpressionStatement:s=[dt(e.expression,{precedence:o.Sequence,allowIn:!0,allowCall:!0})],h=q(s).toString(),"{"===h.charAt(0)||"class"===h.slice(0,5)&&" {".indexOf(h.charAt(5))>=0||"function"===h.slice(0,8)&&"* (".indexOf(h.charAt(8))>=0||C&&u&&e.expression.type===i.Literal&&"string"==typeof e.expression.value?s=["(",s,")"+p]:s.push(p);break;case i.ImportDeclaration:s=mt(e,p);break;case i.VariableDeclarator:s=e.init?[dt(e.id,{precedence:o.Assignment,allowIn:a,allowCall:!0}),y,"=",y,dt(e.init,{precedence:o.Assignment,allowIn:a,allowCall:!0})]:ot(e.id,{precedence:o.Assignment,allowIn:a});break;case i.VariableDeclaration:s=ut(e,p,a);break;case i.ThrowStatement:s=[V("throw",dt(e.argument,{precedence:o.Sequence,allowIn:!0,allowCall:!0})),p];break;case i.TryStatement:if(s=["try",et(e.block)],s=tt(e.block,s),e.handlers)for(n=0,r=e.handlers.length;r>n;++n)s=V(s,gt(e.handlers[n])),(e.finalizer||n+1!==r)&&(s=tt(e.handlers[n].body,s));else{for(m=e.guardedHandlers||[],n=0,r=m.length;r>n;++n)s=V(s,gt(m[n])),(e.finalizer||n+1!==r)&&(s=tt(m[n].body,s));if(e.handler)if(c(e.handler))for(n=0,r=e.handler.length;r>n;++n)s=V(s,gt(e.handler[n])),(e.finalizer||n+1!==r)&&(s=tt(e.handler[n].body,s));else s=V(s,gt(e.handler)),e.finalizer&&(s=tt(e.handler.body,s))}e.finalizer&&(s=V(s,["finally",et(e.finalizer)]));break;case i.SwitchStatement:if(K(function(){s=["switch"+y+"(",dt(e.discriminant,{precedence:o.Sequence,allowIn:!0,allowCall:!0}),")"+y+"{"+b]}),e.cases)for(n=0,r=e.cases.length;r>n;++n)h=G(gt(e.cases[n],{semicolonOptional:n===r-1})),s.push(h),z(q(h).toString())||s.push(b);s.push(G("}"));break;case i.SwitchCase:K(function(){for(s=e.test?[V("case",dt(e.test,{precedence:o.Sequence,allowIn:!0,allowCall:!0})),":"]:["default:"],n=0,r=e.consequent.length,r&&e.consequent[0].type===i.BlockStatement&&(h=et(e.consequent[0]),s.push(h),n=1),n!==r&&!z(q(s).toString())&&s.push(b);r>n;++n)h=G(gt(e.consequent[n],{semicolonOptional:n===r-1&&""===p})),s.push(h),n+1!==r&&!z(q(h).toString())&&s.push(b)});break;case i.IfStatement:K(function(){s=["if"+y+"(",dt(e.test,{precedence:o.Sequence,allowIn:!0,allowCall:!0}),")"]}),e.alternate?(s.push(et(e.consequent)),s=tt(e.consequent,s),s=e.alternate.type===i.IfStatement?V(s,["else ",gt(e.alternate,{semicolonOptional:""===p})]):V(s,V("else",et(e.alternate,""===p)))):s.push(et(e.consequent,""===p));break;case i.ForStatement:K(function(){s=["for"+y+"("],e.init?e.init.type===i.VariableDeclaration?s.push(gt(e.init,{allowIn:!1})):(s.push(dt(e.init,{precedence:o.Sequence,allowIn:!1,allowCall:!0})),s.push(";")):s.push(";"),e.test?(s.push(y),s.push(dt(e.test,{precedence:o.Sequence,allowIn:!0,allowCall:!0})),s.push(";")):s.push(";"),e.update?(s.push(y),s.push(dt(e.update,{precedence:o.Sequence,allowIn:!0,allowCall:!0})),s.push(")")):s.push(")")}),s.push(et(e.body,""===p));break;case i.ForInStatement:s=lt("in",e,""===p);break;case i.ForOfStatement:s=lt("of",e,""===p);break;case i.LabeledStatement:s=[e.label.name+":",et(e.body,""===p)];break;case i.ModuleDeclaration:s=["module",U(),e.id.name,U(),"from",y,ft(e.source),p];break;case i.Program:for(r=e.body.length,s=[S&&r>0?"\n":""],n=0;r>n;++n)h=G(gt(e.body[n],{semicolonOptional:!S&&n===r-1,directiveContext:!0})),s.push(h),r>n+1&&!z(q(h).toString())&&s.push(b);break;case i.FunctionDeclaration:d=e.generator&&!k.moz.starlessGenerator,s=[d?"function*":"function",d?y:U(),it(e.id),at(e)];break;case i.ReturnStatement:s=e.argument?[V("return",dt(e.argument,{precedence:o.Sequence,allowIn:!0,allowCall:!0})),p]:["return"+p];break;case i.WhileStatement:K(function(){s=["while"+y+"(",dt(e.test,{precedence:o.Sequence,allowIn:!0,allowCall:!0}),")"]}),s.push(et(e.body,""===p));break;case i.WithStatement:K(function(){s=["with"+y+"(",dt(e.object,{precedence:o.Sequence,allowIn:!0,allowCall:!0}),")"]}),s.push(et(e.body,""===p));break;default:throw new Error("Unknown statement type: "+e.type)}return k.comment&&(s=J(e,s)),h=q(s).toString(),e.type===i.Program&&!S&&""===b&&"\n"===h.charAt(h.length-1)&&(s=A?q(s).replaceRight(/\s+$/,""):h.replace(/\s+$/,"")),q(s,e)}function vt(e){if(P(e))return gt(e);if(T(e))return dt(e,{precedence:o.Sequence,allowIn:!0,allowCall:!0});throw new Error("Unknown node type: "+e.type)}function bt(i,o){var s,l,u=I();return null!=o?("string"==typeof o.indent&&(u.format.indent.style=o.indent),"number"==typeof o.base&&(u.format.indent.base=o.base),o=N(u,o),h=o.format.indent.style,f="string"==typeof o.base?o.base:M(h,o.format.indent.base)):(o=u,h=o.format.indent.style,f=M(h,o.format.indent.base)),p=o.format.json,d=o.format.renumber,m=p?!1:o.format.hexadecimal,g=p?"double":o.format.quotes,v=o.format.escapeless,b=o.format.newline,y=o.format.space,o.format.compact&&(b=y=h=f=""),x=o.format.parentheses,w=o.format.semicolons,S=o.format.safeConcatenation,C=o.directive,_=p?null:o.parse,A=o.sourceMap,k=o,A&&(a=r.browser?e.sourceMap.SourceNode:t("/node_modules/source-map/lib/source-map.js",n).SourceNode),s=vt(i),A?(l=s.toStringWithSourceMap({file:o.file,sourceRoot:o.sourceMapRoot}),o.sourceContent&&l.map.setSourceContent(o.sourceMap,o.sourceContent),o.sourceMapWithCode?l:l.map.toString()):(l={code:s.toString(),map:null},o.sourceMapWithCode?l:l.code)}l=t("/node_modules/estraverse/estraverse.js",n),u=t("/node_modules/esutils/lib/utils.js",n),i={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportBatchSpecifier:"ExportBatchSpecifier",ExportDeclaration:"ExportDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportSpecifier:"ImportSpecifier",ImportDeclaration:"ImportDeclaration",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",ModuleDeclaration:"ModuleDeclaration",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},o={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Unary:13,Postfix:14,Call:15,New:16,TaggedTemplate:17,Member:18,Primary:19},s={"||":o.LogicalOR,"&&":o.LogicalAND,"|":o.BitwiseOR,"^":o.BitwiseXOR,"&":o.BitwiseAND,"==":o.Equality,"!=":o.Equality,"===":o.Equality,"!==":o.Equality,is:o.Equality,isnt:o.Equality,"<":o.Relational,">":o.Relational,"<=":o.Relational,">=":o.Relational,"in":o.Relational,"instanceof":o.Relational,"<<":o.BitwiseSHIFT,">>":o.BitwiseSHIFT,">>>":o.BitwiseSHIFT,"+":o.Additive,"-":o.Additive,"*":o.Multiplicative,"%":o.Multiplicative,"/":o.Multiplicative},c=Array.isArray,c||(c=function(e){return"[object Array]"===Object.prototype.toString.call(e)
}),E={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},L=I().format,r.version=t("/package.json",n).version,r.generate=bt,r.attachComments=l.attachComments,r.Precedence=N({},o),r.browser=!1,r.FORMAT_MINIFY=E,r.FORMAT_DEFAULTS=L}()}),t.define("/package.json",function(e){e.exports={name:"escodegen",description:"ECMAScript code generator",homepage:"http://github.com/Constellation/escodegen",main:"escodegen.js",bin:{esgenerate:"./bin/esgenerate.js",escodegen:"./bin/escodegen.js"},version:"1.4.1",engines:{node:">=0.10.0"},maintainers:[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"http://github.com/Constellation"}],repository:{type:"git",url:"http://github.com/Constellation/escodegen.git"},dependencies:{estraverse:"^1.5.1",esutils:"^1.1.4",esprima:"^1.2.2"},optionalDependencies:{"source-map":"~0.1.37"},devDependencies:{"esprima-moz":"*",semver:"^3.0.1",bluebird:"^2.2.2","jshint-stylish":"^0.4.0",chai:"^1.9.1","gulp-mocha":"^1.0.0","gulp-eslint":"^0.1.8",gulp:"^3.8.6","bower-registry-client":"^0.2.1","gulp-jshint":"^1.8.0","commonjs-everywhere":"^0.9.7"},licenses:[{type:"BSD",url:"http://github.com/Constellation/escodegen/raw/master/LICENSE.BSD"}],scripts:{test:"gulp travis","unit-test":"gulp test",lint:"gulp lint",release:"node tools/release.js","build-min":"./node_modules/.bin/cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",build:"./node_modules/.bin/cjsify -a path: tools/entry-point.js > escodegen.browser.js"}}}),t.define("/node_modules/source-map/lib/source-map.js",function(e,n){n.SourceMapGenerator=t("/node_modules/source-map/lib/source-map/source-map-generator.js",e).SourceMapGenerator,n.SourceMapConsumer=t("/node_modules/source-map/lib/source-map/source-map-consumer.js",e).SourceMapConsumer,n.SourceNode=t("/node_modules/source-map/lib/source-map/source-node.js",e).SourceNode}),t.define("/node_modules/source-map/lib/source-map/source-node.js",function(e){if("function"!=typeof n)var n=t("/node_modules/source-map/node_modules/amdefine/amdefine.js",e)(e,t);n(function(e,t,n){function r(e,t,n,r,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==i?null:i,null!=r&&this.add(r)}var i=e("/node_modules/source-map/lib/source-map/source-map-generator.js",n).SourceMapGenerator,o=e("/node_modules/source-map/lib/source-map/util.js",n),s=/(\r?\n)/,a=/\r\n|[\s\S]/g;r.fromStringWithSourceMap=function(e,t,n){function i(e,t){if(null===e||void 0===e.source)a.add(t);else{var i=n?o.join(n,e.source):e.source;a.add(new r(e.originalLine,e.originalColumn,i,t,e.name))}}var a=new r,l=e.split(s),u=function(){var e=l.shift(),t=l.shift()||"";return e+t},c=1,f=0,h=null;return t.eachMapping(function(e){if(null!==h){if(!(c<e.generatedLine)){var t=l[0],n=t.substr(0,e.generatedColumn-f);return l[0]=t.substr(e.generatedColumn-f),f=e.generatedColumn,i(h,n),h=e,void 0}var n="";i(h,u()),c++,f=0}for(;c<e.generatedLine;)a.add(u()),c++;if(f<e.generatedColumn){var t=l[0];a.add(t.substr(0,e.generatedColumn)),l[0]=t.substr(e.generatedColumn),f=e.generatedColumn}h=e},this),l.length>0&&(h&&i(h,u()),a.add(l.join(""))),t.sources.forEach(function(e){var r=t.sourceContentFor(e);null!=r&&(null!=n&&(e=o.join(n,e)),a.setSourceContent(e,r))}),a},r.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!(e instanceof r||"string"==typeof e))throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},r.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!(e instanceof r||"string"==typeof e))throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},r.prototype.walk=function(e){for(var t,n=0,i=this.children.length;i>n;n++)t=this.children[n],t instanceof r?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},r.prototype.join=function(e){var t,n,r=this.children.length;if(r>0){for(t=[],n=0;r-1>n;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},r.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n instanceof r?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},r.prototype.setSourceContent=function(e,t){this.sourceContents[o.toSetString(e)]=t},r.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;n>t;t++)this.children[t]instanceof r&&this.children[t].walkSourceContents(e);for(var i=Object.keys(this.sourceContents),t=0,n=i.length;n>t;t++)e(o.fromSetString(i[t]),this.sourceContents[i[t]])},r.prototype.toString=function(){var e="";return this.walk(function(t){e+=t}),e},r.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new i(e),r=!1,o=null,l=null,u=null,c=null;return this.walk(function(e,i){t.code+=e,null!==i.source&&null!==i.line&&null!==i.column?((o!==i.source||l!==i.line||u!==i.column||c!==i.name)&&n.addMapping({source:i.source,original:{line:i.line,column:i.column},generated:{line:t.line,column:t.column},name:i.name}),o=i.source,l=i.line,u=i.column,c=i.name,r=!0):r&&(n.addMapping({generated:{line:t.line,column:t.column}}),o=null,r=!1),e.match(a).forEach(function(e,a,l){s.test(e)?(t.line++,t.column=0,a+1===l.length?(o=null,r=!1):r&&n.addMapping({source:i.source,original:{line:i.line,column:i.column},generated:{line:t.line,column:t.column},name:i.name})):t.column+=e.length})}),this.walkSourceContents(function(e,t){n.setSourceContent(e,t)}),{code:t.code,map:n}},t.SourceNode=r})}),t.define("/node_modules/source-map/lib/source-map/util.js",function(e){if("function"!=typeof n)var n=t("/node_modules/source-map/node_modules/amdefine/amdefine.js",e)(e,t);n(function(e,t){function n(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')}function r(e){var t=e.match(p);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function i(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function o(e){var t=e,n=r(e);if(n){if(!n.path)return e;t=n.path}for(var o,s="/"===t.charAt(0),a=t.split(/\/+/),l=0,u=a.length-1;u>=0;u--)o=a[u],"."===o?a.splice(u,1):".."===o?l++:l>0&&(""===o?(a.splice(u+1,l),l=0):(a.splice(u,2),l--));return t=a.join("/"),""===t&&(t=s?"/":"."),n?(n.path=t,i(n)):t}function s(e,t){""===e&&(e="."),""===t&&(t=".");var n=r(t),s=r(e);if(s&&(e=s.path||"/"),n&&!n.scheme)return s&&(n.scheme=s.scheme),i(n);if(n||t.match(d))return t;if(s&&!s.host&&!s.path)return s.host=t,i(s);var a="/"===t.charAt(0)?t:o(e.replace(/\/+$/,"")+"/"+t);return s?(s.path=a,i(s)):a}function a(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");var n=r(e);return"/"==t.charAt(0)&&n&&"/"==n.path?t.slice(1):0===t.indexOf(e+"/")?t.substr(e.length+1):t}function l(e){return"$"+e}function u(e){return e.substr(1)}function c(e,t){var n=e||"",r=t||"";return(n>r)-(r>n)}function f(e,t,n){var r;return r=c(e.source,t.source),r?r:(r=e.originalLine-t.originalLine,r?r:(r=e.originalColumn-t.originalColumn,r||n?r:(r=c(e.name,t.name),r?r:(r=e.generatedLine-t.generatedLine,r?r:e.generatedColumn-t.generatedColumn))))}function h(e,t,n){var r;return r=e.generatedLine-t.generatedLine,r?r:(r=e.generatedColumn-t.generatedColumn,r||n?r:(r=c(e.source,t.source),r?r:(r=e.originalLine-t.originalLine,r?r:(r=e.originalColumn-t.originalColumn,r?r:c(e.name,t.name)))))}t.getArg=n;var p=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,d=/^data:.+\,.+$/;t.urlParse=r,t.urlGenerate=i,t.normalize=o,t.join=s,t.relative=a,t.toSetString=l,t.fromSetString=u,t.compareByOriginalPositions=f,t.compareByGeneratedPositions=h})}),t.define("/node_modules/source-map/node_modules/amdefine/amdefine.js",function(e,r,i,o){"use strict";function s(e,r){function i(e){var t,n;for(t=0;e[t];t+=1)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}function s(e,t){var n;return e&&"."===e.charAt(0)&&t&&(n=t.split("/"),n=n.slice(0,n.length-1),n=n.concat(e.split("/")),i(n),e=n.join("/")),e}function a(e){return function(t){return s(t,e)}}function l(e){function t(t){d[e]=t}return t.fromText=function(){throw new Error("amdefine does not implement load.fromText")},t}function u(t,n,i){var s,a,l,u;if(t)a=d[t]={},l={id:t,uri:o,exports:a},s=f(r,a,l,t);else{if(m)throw new Error("amdefine with no module ID cannot be called more than once per file.");m=!0,a=e.exports,l=e,s=f(r,a,l,e.id)}n&&(n=n.map(function(e){return s(e)})),u="function"==typeof i?i.apply(l.exports,n):i,void 0!==u&&(l.exports=u,t&&(d[t]=l.exports))}function c(e,t,n){Array.isArray(e)?(n=t,t=e,e=void 0):"string"!=typeof e&&(n=e,e=t=void 0),t&&!Array.isArray(t)&&(n=t,t=void 0),t||(t=["require","exports","module"]),e?p[e]=[e,t,n]:u(e,t,n)}var f,h,p={},d={},m=!1,g=t("path",e);return f=function(e,t,r,i){function o(o,s){return"string"==typeof o?h(e,t,r,o,i):(o=o.map(function(n){return h(e,t,r,n,i)}),void n.nextTick(function(){s.apply(null,o)}))}return o.toUrl=function(e){return 0===e.indexOf(".")?s(e,g.dirname(r.filename)):e},o},r=r||function(){return e.require.apply(e,arguments)},h=function(e,t,n,r,i){var o,c,m=r.indexOf("!"),g=r;if(-1===m){if(r=s(r,i),"require"===r)return f(e,t,n,i);if("exports"===r)return t;if("module"===r)return n;if(d.hasOwnProperty(r))return d[r];if(p[r])return u.apply(null,p[r]),d[r];if(e)return e(g);throw new Error("No module with ID: "+r)}return o=r.substring(0,m),r=r.substring(m+1,r.length),c=h(e,t,n,o,i),r=c.normalize?c.normalize(r,a(i)):s(r,i),d[r]?d[r]:(c.load(r,f(e,t,n,i),l(r),{}),d[r])},c.require=function(e){return d[e]?d[e]:p[e]?(u.apply(null,p[e]),d[e]):void 0},c.amd={},c}e.exports=s}),t.define("/node_modules/source-map/lib/source-map/source-map-generator.js",function(e){if("function"!=typeof n)var n=t("/node_modules/source-map/node_modules/amdefine/amdefine.js",e)(e,t);n(function(e,t,n){function r(e){e||(e={}),this._file=o.getArg(e,"file",null),this._sourceRoot=o.getArg(e,"sourceRoot",null),this._sources=new s,this._names=new s,this._mappings=[],this._sourcesContents=null}var i=e("/node_modules/source-map/lib/source-map/base64-vlq.js",n),o=e("/node_modules/source-map/lib/source-map/util.js",n),s=e("/node_modules/source-map/lib/source-map/array-set.js",n).ArraySet;r.prototype._version=3,r.fromSourceMap=function(e){var t=e.sourceRoot,n=new r({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=o.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)}),e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&n.setSourceContent(t,r)}),n},r.prototype.addMapping=function(e){var t=o.getArg(e,"generated"),n=o.getArg(e,"original",null),r=o.getArg(e,"source",null),i=o.getArg(e,"name",null);this._validateMapping(t,n,r,i),null!=r&&!this._sources.has(r)&&this._sources.add(r),null!=i&&!this._names.has(i)&&this._names.add(i),this._mappings.push({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:i})},r.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=o.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents={}),this._sourcesContents[o.toSetString(n)]=t):(delete this._sourcesContents[o.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},r.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var i=this._sourceRoot;null!=i&&(r=o.relative(i,r));var a=new s,l=new s;this._mappings.forEach(function(t){if(t.source===r&&null!=t.originalLine){var s=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=s.source&&(t.source=s.source,null!=n&&(t.source=o.join(n,t.source)),null!=i&&(t.source=o.relative(i,t.source)),t.originalLine=s.line,t.originalColumn=s.column,null!=s.name&&null!=t.name&&(t.name=s.name))}var u=t.source;null!=u&&!a.has(u)&&a.add(u);var c=t.name;null!=c&&!l.has(c)&&l.add(c)},this),this._sources=a,this._names=l,e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=o.join(n,t)),null!=i&&(t=o.relative(i,t)),this.setSourceContent(t,r))},this)},r.prototype._validateMapping=function(e,t,n,r){if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!t&&!n&&!r||e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},r.prototype._serializeMappings=function(){var e,t=0,n=1,r=0,s=0,a=0,l=0,u="";this._mappings.sort(o.compareByGeneratedPositions);for(var c=0,f=this._mappings.length;f>c;c++){if(e=this._mappings[c],e.generatedLine!==n)for(t=0;e.generatedLine!==n;)u+=";",n++;else if(c>0){if(!o.compareByGeneratedPositions(e,this._mappings[c-1]))continue;u+=","}u+=i.encode(e.generatedColumn-t),t=e.generatedColumn,null!=e.source&&(u+=i.encode(this._sources.indexOf(e.source)-l),l=this._sources.indexOf(e.source),u+=i.encode(e.originalLine-1-s),s=e.originalLine-1,u+=i.encode(e.originalColumn-r),r=e.originalColumn,null!=e.name&&(u+=i.encode(this._names.indexOf(e.name)-a),a=this._names.indexOf(e.name)))}return u},r.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=o.relative(t,e));var n=o.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)},r.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},r.prototype.toString=function(){return JSON.stringify(this)},t.SourceMapGenerator=r})}),t.define("/node_modules/source-map/lib/source-map/array-set.js",function(e){if("function"!=typeof n)var n=t("/node_modules/source-map/node_modules/amdefine/amdefine.js",e)(e,t);n(function(e,t,n){function r(){this._array=[],this._set={}}var i=e("/node_modules/source-map/lib/source-map/util.js",n);r.fromArray=function(e,t){for(var n=new r,i=0,o=e.length;o>i;i++)n.add(e[i],t);return n},r.prototype.add=function(e,t){var n=this.has(e),r=this._array.length;(!n||t)&&this._array.push(e),n||(this._set[i.toSetString(e)]=r)},r.prototype.has=function(e){return Object.prototype.hasOwnProperty.call(this._set,i.toSetString(e))},r.prototype.indexOf=function(e){if(this.has(e))return this._set[i.toSetString(e)];throw new Error('"'+e+'" is not in the set.')},r.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},r.prototype.toArray=function(){return this._array.slice()},t.ArraySet=r})}),t.define("/node_modules/source-map/lib/source-map/base64-vlq.js",function(e){if("function"!=typeof n)var n=t("/node_modules/source-map/node_modules/amdefine/amdefine.js",e)(e,t);n(function(e,t,n){function r(e){return 0>e?(-e<<1)+1:(e<<1)+0}function i(e){var t=1===(1&e),n=e>>1;return t?-n:n}var o=e("/node_modules/source-map/lib/source-map/base64.js",n),s=5,a=1<<s,l=a-1,u=a;t.encode=function(e){var t,n="",i=r(e);do t=i&l,i>>>=s,i>0&&(t|=u),n+=o.encode(t);while(i>0);return n},t.decode=function(e){var t,n,r=0,a=e.length,c=0,f=0;do{if(r>=a)throw new Error("Expected more digits in base 64 VLQ value.");n=o.decode(e.charAt(r++)),t=!!(n&u),n&=l,c+=n<<f,f+=s}while(t);return{value:i(c),rest:e.slice(r)}}})}),t.define("/node_modules/source-map/lib/source-map/base64.js",function(e){if("function"!=typeof n)var n=t("/node_modules/source-map/node_modules/amdefine/amdefine.js",e)(e,t);n(function(e,t){var n={},r={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").forEach(function(e,t){n[e]=t,r[t]=e}),t.encode=function(e){if(e in r)return r[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){if(e in n)return n[e];throw new TypeError("Not a valid base 64 digit: "+e)}})}),t.define("/node_modules/source-map/lib/source-map/source-map-consumer.js",function(e){if("function"!=typeof n)var n=t("/node_modules/source-map/node_modules/amdefine/amdefine.js",e)(e,t);n(function(e,t,n){function r(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=i.getArg(t,"version"),r=i.getArg(t,"sources"),o=i.getArg(t,"names",[]),a=i.getArg(t,"sourceRoot",null),l=i.getArg(t,"sourcesContent",null),u=i.getArg(t,"mappings"),c=i.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);this._names=s.fromArray(o,!0),this._sources=s.fromArray(r,!0),this.sourceRoot=a,this.sourcesContent=l,this._mappings=u,this.file=c}var i=e("/node_modules/source-map/lib/source-map/util.js",n),o=e("/node_modules/source-map/lib/source-map/binary-search.js",n),s=e("/node_modules/source-map/lib/source-map/array-set.js",n).ArraySet,a=e("/node_modules/source-map/lib/source-map/base64-vlq.js",n);r.fromSourceMap=function(e){var t=Object.create(r.prototype);return t._names=s.fromArray(e._names.toArray(),!0),t._sources=s.fromArray(e._sources.toArray(),!0),t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file,t.__generatedMappings=e._mappings.slice().sort(i.compareByGeneratedPositions),t.__originalMappings=e._mappings.slice().sort(i.compareByOriginalPositions),t},r.prototype._version=3,Object.defineProperty(r.prototype,"sources",{get:function(){return this._sources.toArray().map(function(e){return null!=this.sourceRoot?i.join(this.sourceRoot,e):e},this)}}),r.prototype.__generatedMappings=null,Object.defineProperty(r.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__generatedMappings}}),r.prototype.__originalMappings=null,Object.defineProperty(r.prototype,"_originalMappings",{get:function(){return this.__originalMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__originalMappings}}),r.prototype._parseMappings=function(e){for(var t,n,r=1,o=0,s=0,l=0,u=0,c=0,f=/^[,;]/,h=e;h.length>0;)if(";"===h.charAt(0))r++,h=h.slice(1),o=0;else if(","===h.charAt(0))h=h.slice(1);else{if(t={},t.generatedLine=r,n=a.decode(h),t.generatedColumn=o+n.value,o=t.generatedColumn,h=n.rest,h.length>0&&!f.test(h.charAt(0))){if(n=a.decode(h),t.source=this._sources.at(u+n.value),u+=n.value,h=n.rest,0===h.length||f.test(h.charAt(0)))throw new Error("Found a source, but no line and column");if(n=a.decode(h),t.originalLine=s+n.value,s=t.originalLine,t.originalLine+=1,h=n.rest,0===h.length||f.test(h.charAt(0)))throw new Error("Found a source and line, but no column");n=a.decode(h),t.originalColumn=l+n.value,l=t.originalColumn,h=n.rest,h.length>0&&!f.test(h.charAt(0))&&(n=a.decode(h),t.name=this._names.at(c+n.value),c+=n.value,h=n.rest)}this.__generatedMappings.push(t),"number"==typeof t.originalLine&&this.__originalMappings.push(t)}this.__generatedMappings.sort(i.compareByGeneratedPositions),this.__originalMappings.sort(i.compareByOriginalPositions)},r.prototype._findMapping=function(e,t,n,r,i){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return o.search(e,t,i)},r.prototype.originalPositionFor=function(e){var t={generatedLine:i.getArg(e,"line"),generatedColumn:i.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",i.compareByGeneratedPositions);if(n&&n.generatedLine===t.generatedLine){var r=i.getArg(n,"source",null);return null!=r&&null!=this.sourceRoot&&(r=i.join(this.sourceRoot,r)),{source:r,line:i.getArg(n,"originalLine",null),column:i.getArg(n,"originalColumn",null),name:i.getArg(n,"name",null)}}return{source:null,line:null,column:null,name:null}},r.prototype.sourceContentFor=function(e){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=i.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var t;if(null!=this.sourceRoot&&(t=i.urlParse(this.sourceRoot))){var n=e.replace(/^file:\/\//,"");if("file"==t.scheme&&this._sources.has(n))return this.sourcesContent[this._sources.indexOf(n)];if((!t.path||"/"==t.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}throw new Error('"'+e+'" is not in the SourceMap.')},r.prototype.generatedPositionFor=function(e){var t={source:i.getArg(e,"source"),originalLine:i.getArg(e,"line"),originalColumn:i.getArg(e,"column")};null!=this.sourceRoot&&(t.source=i.relative(this.sourceRoot,t.source));var n=this._findMapping(t,this._originalMappings,"originalLine","originalColumn",i.compareByOriginalPositions);return n?{line:i.getArg(n,"generatedLine",null),column:i.getArg(n,"generatedColumn",null)}:{line:null,column:null}},r.GENERATED_ORDER=1,r.ORIGINAL_ORDER=2,r.prototype.eachMapping=function(e,t,n){var o,s=t||null,a=n||r.GENERATED_ORDER;switch(a){case r.GENERATED_ORDER:o=this._generatedMappings;break;case r.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var l=this.sourceRoot;o.map(function(e){var t=e.source;return null!=t&&null!=l&&(t=i.join(l,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:e.name}}).forEach(e,s)},t.SourceMapConsumer=r})}),t.define("/node_modules/source-map/lib/source-map/binary-search.js",function(e){if("function"!=typeof n)var n=t("/node_modules/source-map/node_modules/amdefine/amdefine.js",e)(e,t);n(function(e,t){function n(e,t,r,i,o){var s=Math.floor((t-e)/2)+e,a=o(r,i[s],!0);return 0===a?i[s]:a>0?t-s>1?n(s,t,r,i,o):i[s]:s-e>1?n(e,s,r,i,o):0>e?null:i[e]}t.search=function(e,t,r){return t.length>0?n(-1,t.length,e,t,r):null}})}),t.define("/node_modules/esutils/lib/utils.js",function(e,n){!function(){"use strict";n.ast=t("/node_modules/esutils/lib/ast.js",e),n.code=t("/node_modules/esutils/lib/code.js",e),n.keyword=t("/node_modules/esutils/lib/keyword.js",e)}()}),t.define("/node_modules/esutils/lib/keyword.js",function(e){!function(n){"use strict";function r(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function i(e,t){return t||"yield"!==e?o(e,t):!1}function o(e,t){if(t&&r(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}function s(e,t){return"null"===e||"true"===e||"false"===e||i(e,t)}function a(e,t){return"null"===e||"true"===e||"false"===e||o(e,t)}function l(e){return"eval"===e||"arguments"===e}function u(e){var t,r,i;if(0===e.length)return!1;if(i=e.charCodeAt(0),!n.isIdentifierStart(i)||92===i)return!1;for(t=1,r=e.length;r>t;++t)if(i=e.charCodeAt(t),!n.isIdentifierPart(i)||92===i)return!1;return!0}function c(e,t){return u(e)&&!s(e,t)}function f(e,t){return u(e)&&!a(e,t)}n=t("/node_modules/esutils/lib/code.js",e),e.exports={isKeywordES5:i,isKeywordES6:o,isReservedWordES5:s,isReservedWordES6:a,isRestrictedWord:l,isIdentifierName:u,isIdentifierES5:c,isIdentifierES6:f}}()}),t.define("/node_modules/esutils/lib/code.js",function(e){!function(t){"use strict";function n(e){return e>=48&&57>=e}function r(e){return n(e)||e>=97&&102>=e||e>=65&&70>=e}function i(e){return e>=48&&55>=e}function o(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function s(e){return 10===e||13===e||8232===e||8233===e}function a(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||92===e||e>=128&&t.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function l(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||e>=48&&57>=e||92===e||e>=128&&t.NonAsciiIdentifierPart.test(String.fromCharCode(e))}t={NonAsciiIdentifierStart:new RegExp("[\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]"),NonAsciiIdentifierPart:new RegExp("[\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u0800-\u082d\u0840-\u085b\u08a0\u08a2-\u08ac\u08e4-\u08fe\u0900-\u0963\u0966-\u096f\u0971-\u0977\u0979-\u097f\u0981-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7\u09c8\u09cb-\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09e6-\u09f1\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c58\u0c59\u0c60-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1\u0cf2\u0d02\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d57\u0d60-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772\u1773\u1780-\u17d3\u17d7\u17dc\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1877\u1880-\u18aa\u18b0-\u18f5\u1900-\u191c\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19d9\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1cd0-\u1cd2\u1cd4-\u1cf6\u1d00-\u1de6\u1dfc-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200c\u200d\u203f\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u2e2f\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099\u309a\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua697\ua69f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua827\ua840-\ua873\ua880-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua900-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a\uaa7b\uaa80-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabea\uabec\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]")},e.exports={isDecimalDigit:n,isHexDigit:r,isOctalDigit:i,isWhiteSpace:o,isLineTerminator:s,isIdentifierStart:a,isIdentifierPart:l}
}()}),t.define("/node_modules/esutils/lib/ast.js",function(e){!function(){"use strict";function t(e){if(null==e)return!1;switch(e.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function n(e){if(null==e)return!1;switch(e.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function r(e){if(null==e)return!1;switch(e.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function i(e){return r(e)||null!=e&&"FunctionDeclaration"===e.type}function o(e){switch(e.type){case"IfStatement":return null!=e.alternate?e.alternate:e.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return e.body}return null}function s(e){var t;if("IfStatement"!==e.type)return!1;if(null==e.alternate)return!1;t=e.consequent;do{if("IfStatement"===t.type&&null==t.alternate)return!0;t=o(t)}while(t);return!1}e.exports={isExpression:t,isStatement:r,isIterationStatement:n,isSourceElement:i,isProblematicIfStatement:s,trailingStatement:o}}()}),t.define("/node_modules/estraverse/estraverse.js",function(e,t){!function(e,n){"use strict";"function"==typeof define&&define.amd?define(["exports"],n):n(void 0!==t?t:e.estraverse={})}(this,function(e){"use strict";function t(){}function n(e){var t,r,i={};for(t in e)e.hasOwnProperty(t)&&(r=e[t],i[t]="object"==typeof r&&null!==r?n(r):r);return i}function r(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function i(e,t){var n,r,i,o;for(r=e.length,i=0;r;)n=r>>>1,o=i+n,t(e[o])?r=n:(i=o+1,r-=n+1);return i}function o(e,t){var n,r,i,o;for(r=e.length,i=0;r;)n=r>>>1,o=i+n,t(e[o])?(i=o+1,r-=n+1):r=n;return i}function s(e,t){this.parent=e,this.key=t}function a(e,t,n,r){this.node=e,this.path=t,this.wrap=n,this.ref=r}function l(){}function u(e,t){var n=new l;return n.traverse(e,t)}function c(e,t){var n=new l;return n.replace(e,t)}function f(e,t){var n;return n=i(t,function(t){return t.range[0]>e.range[0]}),e.extendedRange=[e.range[0],e.range[1]],n!==t.length&&(e.extendedRange[1]=t[n].range[0]),n-=1,n>=0&&(e.extendedRange[0]=t[n].range[1]),e}function h(e,t,r){var i,o,s,a,l=[];if(!e.range)throw new Error("attachComments needs range information");if(!r.length){if(t.length){for(s=0,o=t.length;o>s;s+=1)i=n(t[s]),i.extendedRange=[0,e.range[0]],l.push(i);e.leadingComments=l}return e}for(s=0,o=t.length;o>s;s+=1)l.push(f(n(t[s]),r));return a=0,u(e,{enter:function(e){for(var t;a<l.length&&(t=l[a],!(t.extendedRange[1]>e.range[0]));)t.extendedRange[1]===e.range[0]?(e.leadingComments||(e.leadingComments=[]),e.leadingComments.push(t),l.splice(a,1)):a+=1;return a===l.length?m.Break:l[a].extendedRange[0]>e.range[1]?m.Skip:void 0}}),a=0,u(e,{leave:function(e){for(var t;a<l.length&&(t=l[a],!(e.range[1]<t.extendedRange[0]));)e.range[1]===t.extendedRange[0]?(e.trailingComments||(e.trailingComments=[]),e.trailingComments.push(t),l.splice(a,1)):a+=1;return a===l.length?m.Break:l[a].extendedRange[0]>e.range[1]?m.Skip:void 0}}),e}var p,d,m,g,v,b;p={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},d=Array.isArray,d||(d=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),t(r),t(o),g={AssignmentExpression:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","defaults","rest","body"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","body","superClass"],ClassExpression:["id","body","superClass"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","defaults","rest","body"],FunctionExpression:["id","params","defaults","rest","body"],Identifier:[],IfStatement:["test","consequent","alternate"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MethodDefinition:["key","value"],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handlers","handler","guardedHandlers","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},v={},b={},m={Break:v,Skip:b},s.prototype.replace=function(e){this.parent[this.key]=e},l.prototype.path=function(){function e(e,t){if(d(t))for(r=0,i=t.length;i>r;++r)e.push(t[r]);else e.push(t)}var t,n,r,i,o,s;if(!this.__current.path)return null;for(o=[],t=2,n=this.__leavelist.length;n>t;++t)s=this.__leavelist[t],e(o,s.path);return e(o,this.__current.path),o},l.prototype.parents=function(){var e,t,n;for(n=[],e=1,t=this.__leavelist.length;t>e;++e)n.push(this.__leavelist[e].node);return n},l.prototype.current=function(){return this.__current.node},l.prototype.__execute=function(e,t){var n,r;return r=void 0,n=this.__current,this.__current=t,this.__state=null,e&&(r=e.call(this,t.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=n,r},l.prototype.notify=function(e){this.__state=e},l.prototype.skip=function(){this.notify(b)},l.prototype["break"]=function(){this.notify(v)},l.prototype.__initialize=function(e,t){this.visitor=t,this.root=e,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null},l.prototype.traverse=function(e,t){var n,r,i,o,s,l,u,c,f,h,m,y;for(this.__initialize(e,t),y={},n=this.__worklist,r=this.__leavelist,n.push(new a(e,null,null,null)),r.push(new a(null,null,null,null));n.length;)if(i=n.pop(),i!==y){if(i.node){if(l=this.__execute(t.enter,i),this.__state===v||l===v)return;if(n.push(y),r.push(i),this.__state===b||l===b)continue;for(o=i.node,s=i.wrap||o.type,h=g[s],c=h.length;(c-=1)>=0;)if(u=h[c],m=o[u])if(d(m))for(f=m.length;(f-=1)>=0;)m[f]&&(i=s!==p.ObjectExpression&&s!==p.ObjectPattern||"properties"!==h[c]?new a(m[f],[u,f],null,null):new a(m[f],[u,f],"Property",null),n.push(i));else n.push(new a(m,u,null,null))}}else if(i=r.pop(),l=this.__execute(t.leave,i),this.__state===v||l===v)return},l.prototype.replace=function(e,t){var n,r,i,o,l,u,c,f,h,m,y,x,w;for(this.__initialize(e,t),y={},n=this.__worklist,r=this.__leavelist,x={root:e},u=new a(e,null,null,new s(x,"root")),n.push(u),r.push(u);n.length;)if(u=n.pop(),u!==y){if(l=this.__execute(t.enter,u),void 0!==l&&l!==v&&l!==b&&(u.ref.replace(l),u.node=l),this.__state===v||l===v)return x.root;if((i=u.node)&&(n.push(y),r.push(u),this.__state!==b&&l!==b))for(o=u.wrap||i.type,h=g[o],c=h.length;(c-=1)>=0;)if(w=h[c],m=i[w])if(d(m))for(f=m.length;(f-=1)>=0;)m[f]&&(u=o===p.ObjectExpression&&"properties"===h[c]?new a(m[f],[w,f],"Property",new s(m,f)):new a(m[f],[w,f],null,new s(m,f)),n.push(u));else n.push(new a(m,w,null,new s(i,w)))}else if(u=r.pop(),l=this.__execute(t.leave,u),void 0!==l&&l!==v&&l!==b&&u.ref.replace(l),this.__state===v||l===v)return x.root;return x.root},e.version="1.5.1-dev",e.Syntax=p,e.traverse=u,e.replace=c,e.attachComments=h,e.VisitorKeys=g,e.VisitorOption=m,e.Controller=l})}),t("/tools/entry-point.js")}.call(this,this);